<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html manifest="app.manifest">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
  <meta name="apple-mobile-web-app-capable" content="yes"/>

  <link rel="apple-touch-startup-image" href="%appbootimage%"/>
  <link rel="apple-touch-icon" href="%appicon%"/>

  <meta name="format-detection" content="telephone=yes"/>

  <meta name="viewport" content="width=device-width, maximum-scale=1.0, initial-scale=1.0, user-scalable=no"/>

  <style>%stylecode%</style>
  <title>MiniCalc</title>

  <script type="text/javascript">
  /* This prevents the window being moved by touches,
     to give the impression of a native app */
  document.ontouchmove = function(e)
  { e.preventDefault(); }
  </script>

  <script type="text/javascript">
    window.onload = function()
    {
      function myApp() {
        var $R = [];
function Trunc(v) { return (v>=0)?Math.floor(v):Math.ceil(v) };
function Trim(s) { return s.replace(/^\s\s*/, "").replace(/\s\s*$/, "") };
var TObject={
	$ClassName: "TObject",
	$Parent: null,
	ClassName: function (s) { return s.$ClassName },
	ClassType: function (s) { return s },
	ClassParent: function (s) { return s.$Parent },
	$Init: function () {},
	Create: function (s) { return s },
	Destroy: function (s) { for (var prop in s) if (s.hasOwnProperty(prop)) delete s.prop },
	Destroy$: function(s) { return s.ClassType.Destroy(s) },
	Free: function (s) { if (s!==null) s.ClassType.Destroy(s) }
};
function Now() { var d=new Date(); return d.getTime()/8.64e7+25569 };
function IntToHex(v,d) { var hex=v.toString(16).toUpperCase(); return "00000000".substr(0, d-hex.length)+hex };
/**
sprintf() for JavaScript 0.7-beta1
http://www.diveintojavascript.com/projects/javascript-sprintf

Copyright (c) Alexandru Marasteanu <alexaholic [at) gmail (dot] com>
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:
    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.
    * Neither the name of sprintf() for JavaScript nor the
      names of its contributors may be used to endorse or promote products
      derived from this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL Alexandru Marasteanu BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
**/

var sprintf = (function() {
	function get_type(variable) {
		return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase();
	}
	function str_repeat(input, multiplier) {
		for (var output = []; multiplier > 0; output[--multiplier] = input) {/* do nothing */}
		return output.join('');
	}

	var str_format = function() {
		if (!str_format.cache.hasOwnProperty(arguments[0])) {
			str_format.cache[arguments[0]] = str_format.parse(arguments[0]);
		}
		return str_format.format.call(null, str_format.cache[arguments[0]], arguments);
	};

	str_format.format = function(parse_tree, argv) {
		var cursor = 1, tree_length = parse_tree.length, node_type = '', arg, output = [], i, k, match, pad, pad_character, pad_length;
		for (i = 0; i < tree_length; i++) {
			node_type = get_type(parse_tree[i]);
			if (node_type === 'string') {
				output.push(parse_tree[i]);
			}
			else if (node_type === 'array') {
				match = parse_tree[i]; // convenience purposes only
				if (match[2]) { // keyword argument
					arg = argv[cursor];
					for (k = 0; k < match[2].length; k++) {
						if (!arg.hasOwnProperty(match[2][k])) {
							throw(sprintf('[sprintf] property "%s" does not exist', match[2][k]));
						}
						arg = arg[match[2][k]];
					}
				}
				else if (match[1]) { // positional argument (explicit)
					arg = argv[match[1]];
				}
				else { // positional argument (implicit)
					arg = argv[cursor++];
				}

				if (/[^s]/.test(match[8]) && (get_type(arg) != 'number')) {
					throw(sprintf('[sprintf] expecting number but found %s', get_type(arg)));
				}
				switch (match[8]) {
					case 'b': arg = arg.toString(2); break;
					case 'c': arg = String.fromCharCode(arg); break;
					case 'd': arg = String(parseInt(arg, 10)); if (match[7]) { arg = str_repeat('0', match[7]-arg.length)+arg } break;
					case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;
					case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;
					case 'o': arg = arg.toString(8); break;
					case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;
					case 'u': arg = Math.abs(arg); break;
					case 'x': arg = arg.toString(16); break;
					case 'X': arg = arg.toString(16).toUpperCase(); break;
				}
				arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);
				pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';
				pad_length = match[6] - String(arg).length;
				pad = match[6] ? str_repeat(pad_character, pad_length) : '';
				output.push(match[5] ? arg + pad : pad + arg);
			}
		}
		return output.join('');
	};

	str_format.cache = {};

	str_format.parse = function(fmt) {
		var _fmt = fmt, match = [], parse_tree = [], arg_names = 0;
		while (_fmt) {
			if ((match = /^[^\x25]+/.exec(_fmt)) !== null) {
				parse_tree.push(match[0]);
			}
			else if ((match = /^\x25{2}/.exec(_fmt)) !== null) {
				parse_tree.push('%');
			}
			else if ((match = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {
				if (match[2]) {
					arg_names |= 1;
					var field_list = [], replacement_field = match[2], field_match = [];
					if ((field_match = /^([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
						field_list.push(field_match[1]);
						while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {
							if ((field_match = /^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else if ((field_match = /^\[(\d+)\]/.exec(replacement_field)) !== null) {
								field_list.push(field_match[1]);
							}
							else {
								throw('[sprintf] huh?');
							}
						}
					}
					else {
						throw('[sprintf] huh?');
					}
					match[2] = field_list;
				}
				else {
					arg_names |= 2;
				}
				if (arg_names === 3) {
					throw('[sprintf] mixing positional and named placeholders is not (yet) supported');
				}
				parse_tree.push(match);
			}
			else {
				throw('[sprintf] huh?');
			}
			_fmt = _fmt.substring(match[0].length);
		}
		return parse_tree;
	};

	return str_format;
})();
function Format(f,a) { a.unshift(f); return sprintf.apply(null,a) };
var Exception={
	$ClassName: "Exception",
	$Parent: TObject,
	$Init: function () { FMessage="" },
	Create: function (s,Msg) { s.FMessage=Msg; return s }
};
function Delete(s,i,n) { var v=s.v; if ((i<=0)||(i>v.length)||(n<=0)) return; s.v=v.substr(0,i-1)+v.substr(i+n-1); };
function DegToRad(v) { return v*(Math.PI/180) };
function ClampInt(v,mi,ma) { return v<mi ? mi : v>ma ? ma : v };
function $W(e) { return e.ClassType?e:Exception.Create($New(Exception),e.constructor.name+", "+e.message) };
function $Peek(a,z) {
	var n=a.length;
	if (n>0) return a[n-1];
	throw Exception.Create($New(Exception),"Upper bound exceeded! Index 0"+z);
};
function $NewDyn(c,z) {
	if (c==null) throw Exception.Create($New(Exception),"ClassType is nil"+z);
	var i={ClassType:c};
	c.$Init(i);
	return i
};
function $NewArray(n,v) { var r=new Array(n); for(var i=0;i<n;i++) r[i]=v; return r };
function $New(c) { var i={ClassType:c}; c.$Init(i); return i };
function $Is(o,c) {
	if (o===null) return false;
	return $Inh(o.ClassType,c);
}
;
function $Inh(s,c) {
	if (s===null) return false;
	while ((s)&&(s!==c)) s=s.$Parent;
	return (s)?true:false;
}
;
function $Event2(i,f) {
	var li=i,lf=f;
	return function(a,b) {
		return lf.call(li,li,a,b)
	}
};
function $Event1(i,f) {
	var li=i,lf=f;
	return function(a) {
		return lf.call(li,li,a)
	}
};
function $Event0(i,f) {
	var li=i,lf=f;
	return function() {
		return lf.call(li,li)
	}
};
function $Event(i,f) {
	var li=i,lf=f;
	return function(){
		var arg=Array.prototype.slice.call(arguments);
		arg.unshift(li);
		return lf.apply(li,arg)
	}
};
function $Div(a,b) { var r=a/b; return (r>=0)?Math.floor(r):Math.ceil(r) };
function $AsIntf(o,i) {
	if (o===null) return null;
	var r = o.ClassType.$Intf[i].map(function (e) {
		return function () {
			var arg=Array.prototype.slice.call(arguments);
			arg.splice(0,0,o);
			return e.apply(o, arg);
		}
	});
	r.O = o;
	return r;
}
;
function $As(o,c) {
	if ((o===null)||$Is(o,c)) return o;
	throw Exception.Create($New(Exception),"Can't cast instance of type \""+o.ClassType.$ClassName+"\" to class \""+c.$ClassName+"\"");
};
function $ArraySwap(a,i1,i2) { var t=a[i1]; a[i1]=a[i2]; a[i2]=t };
function $ArraySetLenC(a,n,d) {
	var o=a.length;
	if (o==n) return;
	if (o>n) a.length=n; else for (;o<n;o++) a.push(d());
};
roYes=0;
roNo=1;
roOK=2;
roCancel=3;
aoYes=0;
aoNo=1;
aoYesNo=2;
aoOK=3;
aoCancel=4;
aoOKCancel=5;
var TW3TagObj= {
   $ClassName:"TW3TagObj",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FHandle$3=$.FOwner$3=undefined;
      $.FObjReady=false;
      $.FTagId="";
      $.FTagValue=$.FUpdating=0;
   }
   ,AfterUpdate:function(Self) {
   }
   ,BeginUpdate:function(Self) {
      ++Self.FUpdating;
   }
   ,Create$35:function(Self) {
      TObject.Create(Self);
      Self.FObjReady=false;
      try {
         Self.FTagId=TW3TagObj.makeElementTagId$(Self);
         Self.FHandle$3=TW3TagObj.makeElementTagObj$(Self);
      } catch ($e) {
         var e=$W($e);
         EW3TagObj.RaiseCntErrMethod("TW3TagObj.Create",Self,e.FMessage)      }
      if (TVariant.AsObject(Self.FHandle$3)!==TVariant.AsObject(TW3CustomBrowserAPI.GetBody())) {
         if (Self.FTagId.length>0) {
            w3_setAttrib(Self.FHandle$3,"id",Self.FTagId);
         }
      }
      TW3TagObj.StyleTagObject$(Self);
      TW3TagObj.BeginUpdate(Self);
      try {
         TW3TagObj.InitializeObject$(Self);
      } finally {
         TW3TagObj.EndUpdate$(Self);
      }
      Self.FObjReady=true;
      return Self
   }
   ,Destroy:function(Self) {
      if (Self.FHandle$3) {
         try {
            TW3TagObj.UnHookEvents$(Self);
            TW3TagObj.RemoveFrom(Self);
         } finally {
            TW3TagObj.FinalizeObject$(Self);
            Self.FTagId="";
            Self.FHandle$3=null;
         }
      }
      TObject.Destroy(Self);
   }
   ,EndUpdate:function(Self) {
      if (Self.FUpdating>0) {
         --Self.FUpdating;
         if (Self.FUpdating==0) {
            TW3TagObj.AfterUpdate$(Self);
         }
      }
   }
   ,FinalizeObject:function(Self) {
   }
   ,getAttached:function(Self) {
      var Result=false;
      Result=VarIsValidRef(Self.FOwner$3);
      return Result
   }
   ,getInnerHTML:function(Self) {
      var Result="";
      if (Self.FHandle$3) {
         Result=TVariant.AsString(Self.FHandle$3.innerHTML);
      }
      return Result
   }
   ,getInnerText:function(Self) {
      var Result="";
      if (Self.FHandle$3) {
         Result=TVariant.AsString(Self.FHandle$3.innerText);
      }
      return Result
   }
   ,getUpdating:function(Self) {
      var Result=false;
      Result=Self.FUpdating>0;
      return Result
   }
   ,InitializeObject:function(Self) {
   }
   ,InsertInto:function(Self, OwnerHandle) {
      if (OwnerHandle) {
         if (Self.FHandle$3) {
            try {
               if (Self.FOwner$3) {
                  TW3TagObj.RemoveFrom(Self);
               }
               w3_setElementParentByRef(Self.FHandle$3,OwnerHandle);
               Self.FOwner$3=OwnerHandle;
            } catch ($e) {
               var e$1=$W($e);
               EW3TagObj.RaiseCntErrMethod("TW3TagObj.InsertInto",Self,e$1.FMessage)            }
         } else {
            EW3TagObj.RaiseCntErrMethod("TW3TagObj.InsertInto",Self,"Internal tag-object is null error");
         }
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3TagObj.InsertInto",Self,"owner is NIL error");
      }
   }
   ,makeElementTagId:function(Self) {
      var Result="";
      Result=w3_getUniqueObjId();
      return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("div");
      return Result
   }
   ,RemoveFrom:function(Self) {
      if (Self.FOwner$3) {
         if (Self.FHandle$3) {
            try {
               w3_RemoveElementByRef(Self.FHandle$3,Self.FOwner$3);
            } catch ($e) {
               var e$2=$W($e);
               EW3TagObj.RaiseCntErrMethod("TW3TagObj.RemoveFrom",Self,e$2.FMessage)            }
            Self.FOwner$3=undefined;
         } else {
            EW3TagObj.RaiseCntErrMethod("TW3TagObj.RemoveFrom",Self,"Internal tag-object is null error");
         }
      }
   }
   ,setInnerHTML:function(Self, aValue) {
      if (Self.FHandle$3) {
         Self.FHandle$3.innerHTML=aValue;
      }
   }
   ,setInnerText:function(Self, aValue$1) {
      if (Self.FHandle$3) {
         Self.FHandle$3.innerText=aValue$1;
      }
   }
   ,StyleTagObject:function(Self) {
      if (Self.FHandle$3) {
         Self.FHandle$3.style["visibility"]="hidden";
         Self.FHandle$3.style["display"]="none";
         Self.FHandle$3.style["position"]="absolute";
         Self.FHandle$3.style["overflow"]="hidden";
         Self.FHandle$3.style["left"]="0px";
         Self.FHandle$3.style["top"]="0px";
      }
   }
   ,UnHookEvents:function(Self) {
      if (Self.FHandle$3) {
         Self.FHandle$3.onresize=null;
         Self.FHandle$3.onselectstart=null;
         Self.FHandle$3.onfocus=null;
         Self.FHandle$3.onblur=null;
         Self.FHandle$3.onchange=null;
         Self.FHandle$3.onmousedown=null;
         Self.FHandle$3.onmouseup=null;
         Self.FHandle$3.onmousemove=null;
         Self.FHandle$3.onmouseover=null;
         Self.FHandle$3.onmouseout=null;
         Self.FHandle$3.onclick=null;
         Self.FHandle$3.ondblclick=null;
         Self.FHandle$3.onkeydown=null;
         Self.FHandle$3.onkeyup=null;
         Self.FHandle$3.onkeypress=null;
         Self.FHandle$3.webkitAnimationStart=null;
         Self.FHandle$3.webkitAnimationEnd=null;
      }
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,AfterUpdate$:function($){return $.ClassType.AfterUpdate($)}
   ,Create$35$:function($){return $.ClassType.Create$35($)}
   ,EndUpdate$:function($){return $.ClassType.EndUpdate($)}
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId$:function($){return $.ClassType.makeElementTagId($)}
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents$:function($){return $.ClassType.UnHookEvents($)}
};
var TW3Component= {
   $ClassName:"TW3Component",
   $Parent:TW3TagObj,
   $Init:function ($) {
      TW3TagObj.$Init($);
      $.FChildren=[];
      $.FName$1="";
      $.FParent=null;
   }
   ,CBNoBehavior:function(Self) {
      
    if (event.preventDefault) event.preventDefault();
    return false;
     }
   ,ChildAdded:function(Self, aChild) {
   }
   ,ChildByHandle:function(Self, aHandle) {
      var Result=null;
      var x$2=0;
      var mObj$1=null;
      Result=null;
      var $temp1;
      for(x$2=0,$temp1=TW3Component.GetChildCount(Self);x$2<$temp1;x$2++) {
         mObj$1=TW3Component.GetChildObject(Self,x$2);
         if (mObj$1.FHandle$3==aHandle) {
            Result=mObj$1;
            break;
         }
      }
      return Result
   }
   ,ChildByName:function(Self, compName) {
      var Result=null;
      var lcName = "";
      var i=0;
      lcName=(Trim(compName)).toLowerCase();
      var $temp2;
      for(i=0,$temp2=TW3Component.GetChildCount(Self);i<$temp2;i++) {
         Result=TW3Component.GetChildObject(Self,i);
         if ((Result.FName$1).toLowerCase()==lcName) {
            return Result;
         }
      }
      Result=null;
      return Result
   }
   ,ChildRemoved:function(Self, aChild$1) {
   }
   ,Create$36:function(Self, AOwner) {
      Self.FParent=AOwner;
      TW3TagObj.Create$35(Self);
      if (Self.FParent!==null) {
         TW3Component.RegisterChild(Self.FParent,Self);
      }
      return Self
   }
   ,EnumChildren:function(Self, childProc) {
      var i$1=0;
      var $temp3;
      for(i$1=0,$temp3=TW3Component.GetChildCount(Self);i$1<$temp3;i$1++) {
         childProc(TW3Component.GetChildObject(Self,i$1));
      }
   }
   ,FinalizeObject:function(Self) {
      TW3Component.FreeChildren(Self);
      if (Self.FParent!==null) {
         TW3Component.UnRegisterChild(Self.FParent,Self);
      }
      Self.FChildren.length=0;
      TW3TagObj.FinalizeObject(Self);
   }
   ,FreeChildren:function(Self) {
      try {
         while (Self.FChildren.length>0) {
            TObject.Free(Self.FChildren[0])         }
      } finally {
         Self.FChildren.length=0;
      }
   }
   ,GetChildCount:function(Self) {
      var Result=0;
      Result=Self.FChildren.length;
      return Result
   }
   ,GetChildObject:function(Self, index) {
      var Result=null;
      Result=Self.FChildren[index];
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3TagObj.InitializeObject(Self);
   }
   ,RegisterChild:function(Self, aChild$2) {
      if (aChild$2!==null) {
         if (Self.FChildren.indexOf(aChild$2)<0) {
            Self.FChildren.push(aChild$2);
            TW3TagObj.InsertInto(aChild$2,Self.FHandle$3);
            TW3Component.ChildAdded$(Self,aChild$2);
         }
      }
   }
   ,SetName:function(Self, Value$2) {
      Self.FName$1=Value$2;
   }
   ,TopLevelParent:function(Self) {
      var Result=null;
      Result=Self.FParent;
      while (Result.FParent!==null) {
         Result=Result.FParent;
      }
      return Result
   }
   ,UnRegisterChild:function(Self, aChild$3) {
      var mIndex=0;
      if (aChild$3!==null) {
         mIndex=Self.FChildren.indexOf(aChild$3);
         if (mIndex>=0) {
            Self.FChildren.splice(mIndex,1)
            ;
            TW3Component.ChildRemoved$(Self,aChild$3);
         }
         TW3TagObj.RemoveFrom(aChild$3);
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3TagObj.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3TagObj.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior$:function($){return $.ClassType.CBNoBehavior($)}
   ,ChildAdded$:function($){return $.ClassType.ChildAdded.apply($.ClassType, arguments)}
   ,ChildRemoved$:function($){return $.ClassType.ChildRemoved.apply($.ClassType, arguments)}
   ,Create$36$:function($){return $.ClassType.Create$36.apply($.ClassType, arguments)}
};
var TW3MovableControl= {
   $ClassName:"TW3MovableControl",
   $Parent:TW3Component,
   $Init:function ($) {
      TW3Component.$Init($);
      $.FAdjusted=$.FTransparent=$.FUseAlpha=$.FWasMoved=$.FWasSized=false;
      $.FAlpha=$.FColor=0;
      $.FBackground=$.FBorders=$.FConstraints=null;
   }
   ,AdjustToParentBox:function(Self) {
      var x$3=0;
      var dx=0;
      var dy=0;
      var mChild=null;
      var mCtrl=null;
      if (Self.FHandle$3) {
         if (!Self.FAdjusted) {
            Self.FAdjusted=true;
            dx=TW3Borders.getHSpace(TW3MovableControl.getBorder(Self));
            dy=TW3Borders.getVSpace(TW3MovableControl.getBorder(Self));
            var $temp4;
            for(x$3=0,$temp4=TW3Component.GetChildCount(Self);x$3<$temp4;x$3++) {
               mChild=TW3Component.GetChildObject(Self,x$3);
               if ($Is(mChild,TW3MovableControl)) {
                  mCtrl=$As(mChild,TW3MovableControl);
                  if (TW3MovableControl.supportAdjustment$(mCtrl.ClassType)) {
                     if ((dx>0)||(dy>0)) {
                        TW3MovableControl.SetSize$4$(mCtrl,TW3MovableControl.GetWidth$1$(mCtrl)-dx,TW3MovableControl.GetHeight$1$(mCtrl)-dy);
                     }
                     w3_Callback($Event0(mCtrl,TW3MovableControl.AdjustToParentBox$),1);
                  }
               }
            }
         }
      }
   }
   ,AfterUpdate:function(Self) {
      Self.FWasMoved=false;
      Self.FWasSized=false;
   }
   ,ClientHeight:function(Self) {
      var Result=0;
      if (Self.FHandle$3) {
         if (VarIsValidRef(Self.FHandle$3.clientHeight)) {
            Result=TVariant.AsInteger(Self.FHandle$3.clientHeight);
            if (TVariant.IsNAN(Result)||(Result==0)) {
               Result=TW3MovableControl.GetWidth$1$(Self);
            }
         } else {
            Result=TW3MovableControl.GetWidth$1$(Self);
         }
      }
      return Result
   }
   ,ClientRect:function(Self) {
      var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      Result.Right$1=TW3MovableControl.ClientWidth(Self);
      Result.Bottom$1=TW3MovableControl.ClientHeight(Self);
      return Result
   }
   ,ClientToScreen:function(Self, pt) {
      var Result={X$1:0,Y$1:0};
      var sr = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      sr=TW3MovableControl.ScreenRect(Self);
      Result=Create$14((pt.X$1+sr.Left$1),(pt.Y$1+sr.Top$1));
      return Result
   }
   ,ClientWidth:function(Self) {
      var Result=0;
      if (Self.FHandle$3) {
         if (VarIsValidRef(Self.FHandle$3.clientWidth)) {
            Result=TVariant.AsInteger(Self.FHandle$3.clientWidth);
            if (TVariant.IsNAN(Result)||(Result==0)) {
               Result=TW3MovableControl.GetWidth$1$(Self);
            }
         } else {
            Result=TW3MovableControl.GetWidth$1$(Self);
         }
      }
      return Result
   }
   ,ControlAtPoint$1:function(Self, aPoint, Recursive) {
      var Result=null;
      var mPos={X$1:0,Y$1:0};
      var mTarget=undefined;
      var mIndex$1=0;
      var mControl=null;
      Result=null;
      mPos=TW3MovableControl.ClientToScreen(Self,Clone$TPoint(aPoint));
      
    mTarget = document.elementFromPoint(mPos.X$1, mPos.Y$1);
  if (mTarget) {
         Result=TW3Component.ChildByHandle(Self,mTarget);
         if (Result===null) {
            var $temp5;
            for(mIndex$1=0,$temp5=TW3Component.GetChildCount(Self);mIndex$1<$temp5;mIndex$1++) {
               mControl=TW3Component.GetChildObject(Self,mIndex$1);
               Result=TW3Component.ChildByHandle(mControl,mTarget);
               if (Result!==null) {
                  break;
               }
            }
         }
      }
      return Result
   }
   ,ControlAtPoint:function(Self, x$4, y, Recursive$1) {
      var Result=null;
      var mPos$1={X$1:0,Y$1:0};
      var mTarget$1=undefined;
      var mIndex$2=0;
      var mControl$1=null;
      Result=null;
      mPos$1=TW3MovableControl.ClientToScreen(Self,Create$14(x$4,y));
      
    mTarget$1 = document.elementFromPoint(mPos$1.X$1, mPos$1.Y$1);
  if (mTarget$1) {
         Result=TW3Component.ChildByHandle(Self,mTarget$1);
         if (Result===null) {
            var $temp6;
            for(mIndex$2=0,$temp6=TW3Component.GetChildCount(Self);mIndex$2<$temp6;mIndex$2++) {
               mControl$1=TW3Component.GetChildObject(Self,mIndex$2);
               Result=TW3Component.ChildByHandle(mControl$1,mTarget$1);
               if (Result!==null) {
                  break;
               }
            }
         }
      }
      return Result
   }
   ,DisplayMode:function(Self) {
      var Result="";
      Result="inline-block";
      return Result
   }
   ,FinalizeObject:function(Self) {
      if (Self.FBackground) {
         TObject.Free(Self.FBackground);
      }
      if (Self.FBorders) {
         TObject.Free(Self.FBorders);
      }
      if (Self.FConstraints) {
         TObject.Free(Self.FConstraints);
      }
      TW3Component.FinalizeObject(Self);
   }
   ,GetBackGround:function(Self) {
      var Result=null;
      if (Self.FBackground===null) {
         Self.FBackground=TW3OwnedObject.Create$5$($New(TW3ControlBackground),Self);
      }
      Result=Self.FBackground;
      return Result
   }
   ,getBorder:function(Self) {
      var Result=null;
      if (Self.FBorders===null) {
         Self.FBorders=TW3OwnedObject.Create$5$($New(TW3Borders),Self);
      }
      Result=Self.FBorders;
      return Result
   }
   ,getBoundsRect:function(Self) {
      var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      Result.Left$1=TW3MovableControl.GetLeft$(Self);
      Result.Top$1=TW3MovableControl.GetTop$(Self);
      Result.Right$1=Result.Left$1+TW3MovableControl.GetWidth$1$(Self);
      Result.Bottom$1=Result.Top$1+TW3MovableControl.GetHeight$1$(Self);
      return Result
   }
   ,getConstraints:function(Self) {
      var Result=null;
      if (Self.FConstraints===null) {
         Self.FConstraints=TW3OwnedObject.Create$5$($New(TW3Constraints),Self);
      }
      Result=Self.FConstraints;
      return Result
   }
   ,GetHeight$1:function(Self) {
      var Result=0;
      if (Self.FHandle$3) {
         Result=TVariant.AsInteger(Self.FHandle$3.offsetHeight);
      } else {
         Result=0;
      }
      return Result
   }
   ,GetLeft:function(Self) {
      var Result=0;
      Result=w3_getStyleAsInt(Self.FHandle$3,"left");
      return Result
   }
   ,GetTop:function(Self) {
      var Result=0;
      Result=w3_getStyleAsInt(Self.FHandle$3,"top");
      return Result
   }
   ,getVisible:function(Self) {
      var Result=false;
      var mValue$2="";
      mValue$2=w3_getStyleAsStr(Self.FHandle$3,"visibility");
      Result=(mValue$2).toLowerCase()=="visible";
      return Result
   }
   ,GetWasMoved:function(Self) {
      var Result=false;
      Result=Self.FWasMoved;
      return Result
   }
   ,GetWasSized:function(Self) {
      var Result=false;
      Result=Self.FWasSized;
      return Result
   }
   ,GetWidth$1:function(Self) {
      var Result=0;
      if (Self.FHandle$3) {
         Result=TVariant.AsInteger(Self.FHandle$3.offsetWidth);
      } else {
         Result=0;
      }
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3Component.InitializeObject(Self);
      Self.FAlpha=255;
      Self.FColor=536870911;
      Self.FTransparent=false;
   }
   ,Moved:function(Self) {
   }
   ,MoveTo$1:function(Self, aLeft, aTop) {
      aLeft=TInteger.EnsureRange(TInteger,aLeft,0,2147483647);
      aTop=TInteger.EnsureRange(TInteger,aTop,0,2147483647);
      TW3TagObj.BeginUpdate(Self);
      Self.FHandle$3.style["left"]=TInteger.toPxStr(TInteger,aLeft);
      Self.FHandle$3.style["top"]=TInteger.toPxStr(TInteger,aTop);
      TW3MovableControl.SetWasMoved(Self);
      TW3TagObj.EndUpdate$(Self);
   }
   ,Resize:function(Self) {
   }
   ,ScreenRect:function(Self) {
      var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var elem = undefined;
      if (Self.FHandle$3) {
         elem=Self.FHandle$3;
         while (true) {
            Result.Left$1+=parseInt(elem.offsetLeft,10);
            Result.Top$1+=parseInt(elem.offsetTop,10);
            elem=elem.offsetParent;
            if (elem) {
               Result.Left$1-=parseInt(elem.scrollLeft,10);
               Result.Top$1-=parseInt(elem.scrollTop,10);
            } else {
               break;
            }
         }
         Result.Right$1=parseInt((Result.Left$1+Self.FHandle$3.offsetWidth),10);
         Result.Bottom$1=parseInt((Result.Top$1+Self.FHandle$3.offsetHeight),10);
      }
      return Result
   }
   ,ScreenToClient:function(Self, pt$1) {
      var Result={X$1:0,Y$1:0};
      var sr$1 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      sr$1=TW3MovableControl.ScreenRect(Self);
      Result=Create$14((pt$1.X$1-sr$1.Left$1),(pt$1.Y$1-sr$1.Top$1));
      return Result
   }
   ,setAlpha:function(Self, aValue$2) {
      var mBlend=0;
      var x$5=0;
      var mChild$1=null;
      Self.FAlpha=TInteger.EnsureRange(TInteger,aValue$2,0,255);
      if (Self.FAlpha>0) {
         mBlend=Self.FAlpha/100;
      } else {
         mBlend=0;
      }
      if (Self.FUseAlpha) {
         Self.FHandle$3.style["opacity"]=mBlend;
      }
      var $temp7;
      for(x$5=0,$temp7=TW3Component.GetChildCount(Self);x$5<$temp7;x$5++) {
         mChild$1=TW3Component.GetChildObject(Self,x$5);
         if ($Is(mChild$1,TW3CustomControl)) {
            TW3MovableControl.setAlpha($As(mChild$1,TW3CustomControl),aValue$2);
         }
      }
   }
   ,SetBounds$1:function(Self, aRect) {
      TW3MovableControl.SetBounds$(Self,aRect.Left$1,aRect.Top$1,TRect$Width$1(aRect),TRect$Height$1(aRect));
   }
   ,SetBounds:function(Self, aLeft$1, aTop$1, aWidth, aHeight) {
      var mSized=false;
      var mMoved=false;
      aWidth=TInteger.EnsureRange(TInteger,aWidth,0,2147483647);
      aHeight=TInteger.EnsureRange(TInteger,aHeight,0,2147483647);
      mMoved=(aLeft$1!=TW3MovableControl.GetLeft$(Self))||(aTop$1!=TW3MovableControl.GetTop$(Self));
      mSized=(aWidth!=TW3MovableControl.GetWidth$1$(Self))||(aHeight!=TW3MovableControl.GetHeight$1$(Self));
      TW3TagObj.BeginUpdate(Self);
      Self.FHandle$3.style["left"]=TInteger.toPxStr(TInteger,aLeft$1);
      Self.FHandle$3.style["top"]=TInteger.toPxStr(TInteger,aTop$1);
      Self.FHandle$3.style["width"]=TInteger.toPxStr(TInteger,aWidth);
      Self.FHandle$3.style["height"]=TInteger.toPxStr(TInteger,aHeight);
      if (mMoved) {
         TW3MovableControl.SetWasMoved(Self);
      }
      if (mSized) {
         TW3MovableControl.SetWasSized(Self);
      }
      TW3TagObj.EndUpdate$(Self);
   }
   ,setColor$3:function(Self, aValue$3) {
      var mText$1="";
      if (aValue$3!=Self.FColor) {
         Self.FColor=aValue$3;
         if (Self.FTransparent) {
            mText$1=ColorToStrA(Self.FColor,0);
         } else {
            mText$1=ColorToWebStr(Self.FColor);
         }
         Self.FHandle$3.style["backgroundColor"]=mText$1;
      }
   }
   ,setHeight:function(Self, aValue$4) {
      aValue$4=TInteger.EnsureRange(TInteger,aValue$4,0,2147483647);
      if (aValue$4!=TW3MovableControl.GetHeight$1$(Self)) {
         TW3TagObj.BeginUpdate(Self);
         Self.FHandle$3.style["height"]=TInteger.toPxStr(TInteger,aValue$4);
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,setLeft:function(Self, aValue$5) {
      TW3TagObj.BeginUpdate(Self);
      Self.FHandle$3.style["left"]=TInteger.toPxStr(TInteger,aValue$5);
      TW3MovableControl.SetWasMoved(Self);
      TW3TagObj.EndUpdate$(Self);
   }
   ,SetSize$4:function(Self, aWidth$1, aHeight$1) {
      aWidth$1=TInteger.EnsureRange(TInteger,aWidth$1,0,2147483647);
      aHeight$1=TInteger.EnsureRange(TInteger,aHeight$1,0,2147483647);
      if ((aWidth$1!=TW3MovableControl.GetWidth$1$(Self))||(aHeight$1!=TW3MovableControl.GetHeight$1$(Self))) {
         TW3TagObj.BeginUpdate(Self);
         Self.FHandle$3.style["width"]=TInteger.toPxStr(TInteger,aWidth$1);
         Self.FHandle$3.style["height"]=TInteger.toPxStr(TInteger,aHeight$1);
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,setTop:function(Self, aValue$6) {
      TW3TagObj.BeginUpdate(Self);
      Self.FHandle$3.style["top"]=TInteger.toPxStr(TInteger,aValue$6);
      TW3MovableControl.SetWasMoved(Self);
      TW3TagObj.EndUpdate$(Self);
   }
   ,setTransparent:function(Self, aValue$7) {
      var mText$2="";
      if (aValue$7!=Self.FTransparent) {
         TW3TagObj.BeginUpdate(Self);
         Self.FTransparent=aValue$7;
         if (aValue$7) {
            mText$2=ColorToStrA(Self.FColor,0);
         } else {
            mText$2=ColorToWebStr(Self.FColor);
         }
         Self.FHandle$3.style["backgroundColor"]=mText$2;
         TW3MovableControl.SetWasMoved(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,setUseAlpha:function(Self, aValue$8) {
      var mBlend$1=0;
      if (aValue$8!=Self.FUseAlpha) {
         Self.FUseAlpha=aValue$8;
         switch (aValue$8) {
            case true :
               mBlend$1=TInteger.EnsureRange(TInteger,Self.FAlpha,0,255)/100;
               break;
            case false :
               mBlend$1=0;
               break;
         }
         if (Self.FUseAlpha) {
            Self.FHandle$3.style["opacity"]=mBlend$1;
         } else {
            Self.FHandle$3.style["opacity"]=1;
         }
      }
   }
   ,SetVisible:function(Self, aValue$9) {
      TW3TagObj.BeginUpdate(Self);
      switch (aValue$9) {
         case true :
            Self.FHandle$3.style["display"]=TW3MovableControl.DisplayMode$(Self.ClassType);
            Self.FHandle$3.style["visibility"]="visible";
            TW3MovableControl.SetWasSized(Self);
            break;
         case false :
            Self.FHandle$3.style["display"]="none";
            Self.FHandle$3.style["visibility"]="hidden";
            break;
      }
      TW3TagObj.EndUpdate$(Self);
   }
   ,SetWasMoved:function(Self) {
      Self.FWasMoved=true;
   }
   ,SetWasSized:function(Self) {
      Self.FWasSized=true;
   }
   ,SetWidth:function(Self, aValue$10) {
      aValue$10=TInteger.EnsureRange(TInteger,aValue$10,0,2147483647);
      if (aValue$10!=TW3MovableControl.GetWidth$1$(Self)) {
         TW3TagObj.BeginUpdate(Self);
         Self.FHandle$3.style["width"]=TInteger.toPxStr(TInteger,aValue$10);
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,supportAdjustment:function(Self) {
      var Result=false;
      Result=true;
      return Result
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate$:function($){return $.ClassType.AfterUpdate($)}
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3TagObj.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox$:function($){return $.ClassType.AdjustToParentBox($)}
   ,DisplayMode$:function($){return $.DisplayMode($)}
   ,getBoundsRect$:function($){return $.ClassType.getBoundsRect($)}
   ,GetHeight$1$:function($){return $.ClassType.GetHeight$1($)}
   ,GetLeft$:function($){return $.ClassType.GetLeft($)}
   ,GetTop$:function($){return $.ClassType.GetTop($)}
   ,getVisible$:function($){return $.ClassType.getVisible($)}
   ,GetWidth$1$:function($){return $.ClassType.GetWidth$1($)}
   ,Moved$:function($){return $.ClassType.Moved($)}
   ,MoveTo$1$:function($){return $.ClassType.MoveTo$1.apply($.ClassType, arguments)}
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1$:function($){return $.ClassType.SetBounds$1.apply($.ClassType, arguments)}
   ,SetBounds$:function($){return $.ClassType.SetBounds.apply($.ClassType, arguments)}
   ,setHeight$:function($){return $.ClassType.setHeight.apply($.ClassType, arguments)}
   ,setLeft$:function($){return $.ClassType.setLeft.apply($.ClassType, arguments)}
   ,SetSize$4$:function($){return $.ClassType.SetSize$4.apply($.ClassType, arguments)}
   ,setTop$:function($){return $.ClassType.setTop.apply($.ClassType, arguments)}
   ,SetVisible$:function($){return $.ClassType.SetVisible.apply($.ClassType, arguments)}
   ,SetWidth$:function($){return $.ClassType.SetWidth.apply($.ClassType, arguments)}
   ,supportAdjustment$:function($){return $.supportAdjustment($)}
};
var TW3CustomControl= {
   $ClassName:"TW3CustomControl",
   $Parent:TW3MovableControl,
   $Init:function ($) {
      TW3MovableControl.$Init($);
      $.FAngle=0;
      $.FClassNames=$.FFont=$.FGestureData=$.FNoBehavior=$.FOnAnimationBegins=$.FOnAnimationEnds=$.FOnChanged=$.FOnClick=$.FOnContextPopup=$.FOnDblClick=$.FOnGestureChange=$.FOnGestureEnd=$.FOnGestureStart=$.FOnGotFocus=$.FOnKeyDown=$.FOnKeyPress=$.FOnKeyUp=$.FOnLostFocus=$.FOnMouseDown=$.FOnMouseEnter=$.FOnMouseExit=$.FOnMouseMove=$.FOnMouseUp=$.FOnMouseWheel=$.FOnResize=$.FOnTouchBegins=$.FOnTouchEnds=$.FOnTouchMoves=$.FScrollInfo=$.FTouchData=null;
      $.FMouseCaptured=0;
   }
   ,a$3:function(Self) {
      return vCaptureControl===Self;
   }
   ,AfterUpdate:function(Self) {
      if (TW3MovableControl.GetWasSized(Self)) {
         if ((Self.FObjReady&&(TW3MovableControl.GetWidth$1$(Self)>0))&&(TW3MovableControl.GetHeight$1$(Self)>0)) {
            TW3MovableControl.Resize$(Self);
            if (Self.FOnResize) {
               Self.FOnResize(Self);
            }
         }
         if (!TW3MovableControl.GetWasMoved(Self)) {
            TW3MovableControl.SetWasMoved(Self);
         }
      }
      if (TW3MovableControl.GetWasMoved(Self)) {
         TW3CustomControl.Invalidate$(Self);
      }
      TW3MovableControl.AfterUpdate(Self);
   }
   ,BringToFront:function(Self) {
      if (Self.FHandle$3) {
         Self.FHandle$3.style.zIndex=(TW3CustomControl.GetMaxZIndex($As(Self.FParent,TW3CustomControl))+1);
      }
   }
   ,CBAnimationBegins:function(Self, eventObj) {
      if (Self.FOnAnimationBegins) {
         Self.FOnAnimationBegins(Self);
      }
   }
   ,CBAnimationEnds:function(Self, eventObj$1) {
      if (Self.FOnAnimationEnds) {
         Self.FOnAnimationEnds(Self);
      }
   }
   ,CBChanged:function(Self, eventObj$2) {
      if (Self.FOnChanged) {
         Self.FOnChanged(Self);
      }
   }
   ,CBClick:function(Self, eventObj$3) {
      if (Self.FOnClick) {
         Self.FOnClick(Self);
      }
   }
   ,CBContextPopup:function(Self, event) {
      var Result=false;
      var sr$2 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var mp={X$1:0,Y$1:0};
      var handled = {v:false};
      sr$2=TW3MovableControl.ScreenRect(Self);
      mp.X$1=event.clientX-sr$2.Left$1;
      mp.Y$1=event.clientY-sr$2.Top$1;
      handled.v=false;
      TW3CustomControl.ContextPopup(Self,mp,handled);
      Result=!handled.v;
      return Result
   }
   ,CBDblClick:function(Self, eventObj$4) {
      if (Self.FOnDblClick) {
         Self.FOnDblClick(Self);
      }
   }
   ,CBFocused:function(Self) {
      if (Self.FOnGotFocus) {
         Self.FOnGotFocus(Self);
      }
   }
   ,CBKeyDown:function(Self, eventObj$5) {
      if (Self.FOnKeyDown) {
         Self.FOnKeyDown(Self,parseInt(eventObj$5.keyCode,10));
      }
   }
   ,CBKeyPress:function(Self, eventObj$6) {
      if (Self.FOnKeyPress) {
         Self.FOnKeyPress(Self,eventObj$6.charCode.toString());
      }
   }
   ,CBKeyUp:function(Self, eventObj$7) {
      if (Self.FOnKeyUp) {
         Self.FOnKeyUp(Self,parseInt(eventObj$7.keyCode,10));
      }
   }
   ,CBLostFocus:function(Self) {
      if (Self.FOnLostFocus) {
         Self.FOnLostFocus(Self);
      }
   }
   ,CBMouseDown:function(Self, eventObj$8) {
      var sr$3 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var shiftState = null;
      sr$3=TW3MovableControl.ScreenRect(Self);
      shiftState=TShiftState.Current();
      shiftState.FMouseButtons=shiftState.FMouseButtons|(1<<eventObj$8.button);
      TShiftState.SetMouseEvent(shiftState,eventObj$8);
      TW3CustomControl.MouseDown$(Self,eventObj$8.button,shiftState,eventObj$8.clientX-sr$3.Left$1,eventObj$8.clientY-sr$3.Top$1);
   }
   ,CBMouseEnter:function(Self, eventObj$9) {
      var sr$4 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var shiftState$1 = null;
      sr$4=TW3MovableControl.ScreenRect(Self);
      shiftState$1=TShiftState.Current();
      TShiftState.SetMouseEvent(shiftState$1,eventObj$9);
      TW3CustomControl.MouseEnter$(Self,shiftState$1,eventObj$9.clientX-sr$4.Left$1,eventObj$9.clientY-sr$4.Top$1);
   }
   ,CBMouseExit:function(Self, eventObj$10) {
      var sr$5 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var shiftState$2 = null;
      sr$5=TW3MovableControl.ScreenRect(Self);
      shiftState$2=TShiftState.Current();
      TShiftState.SetMouseEvent(shiftState$2,eventObj$10);
      TW3CustomControl.MouseExit$(Self,shiftState$2,eventObj$10.clientX-sr$5.Left$1,eventObj$10.clientY-sr$5.Top$1);
   }
   ,CBMouseMove:function(Self, eventObj$11) {
      var sr$6 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var shiftState$3 = null;
      sr$6=TW3MovableControl.ScreenRect(Self);
      shiftState$3=TShiftState.Current();
      TShiftState.SetMouseEvent(shiftState$3,eventObj$11);
      TW3CustomControl.MouseMove$(Self,shiftState$3,eventObj$11.clientX-sr$6.Left$1,eventObj$11.clientY-sr$6.Top$1);
   }
   ,CBMouseUp:function(Self, eventObj$12) {
      var sr$7 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var shiftState$4 = null;
      sr$7=TW3MovableControl.ScreenRect(Self);
      shiftState$4=TShiftState.Current();
      shiftState$4.FMouseButtons=shiftState$4.FMouseButtons&(~(1<<eventObj$12.button));
      TShiftState.SetMouseEvent(shiftState$4,eventObj$12);
      TW3CustomControl.MouseUp$(Self,eventObj$12.button,shiftState$4,eventObj$12.clientX-sr$7.Left$1,eventObj$12.clientY-sr$7.Top$1);
   }
   ,CBMouseWheel:function(Self, eventObj$13) {
      var wheelDelta$1=0;
      var handled$1 = {};
      handled$1.v=false;
      var sr$8 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var shiftState$5 = null;
      var mousePos={X$1:0,Y$1:0};
      if (Self.FOnMouseWheel) {
         
    wheelDelta$1 = eventObj$13.detail ? -40*eventObj$13.detail : eventObj$13.wheelDelta;
    sr$8=TW3MovableControl.ScreenRect(Self);
         shiftState$5=TShiftState.Current();
         TShiftState.SetMouseEvent(shiftState$5,eventObj$13);
         mousePos.X$1=eventObj$13.clientX-sr$8.Left$1;
         mousePos.Y$1=eventObj$13.clientY-sr$8.Top$1;
         TW3CustomControl.MouseWheel$(Self,shiftState$5,wheelDelta$1,mousePos,handled$1);
         if (handled$1.v) {
            eventObj$13.preventDefault();
            eventObj$13.stopPropagation();
         }
      }
   }
   ,CMGestureChange:function(Self) {
      
    event.preventDefault();
  if (Self.FOnGestureChange) {
         if (!Self.FGestureData) {
            Self.FGestureData=TObject.Create($New(TW3GestureData));
         } else {
            TW3GestureData.Update$1(Self.FGestureData);
         }
         Self.FOnGestureChange(Self,Self.FGestureData);
      }
   }
   ,CMGestureEnd:function(Self) {
      
    event.preventDefault();
  if (Self.FOnGestureEnd) {
         if (!Self.FGestureData) {
            Self.FGestureData=TObject.Create($New(TW3GestureData));
         } else {
            TW3GestureData.Update$1(Self.FGestureData);
         }
         Self.FOnGestureEnd(Self,Self.FGestureData);
      }
   }
   ,CMGestureStart:function(Self) {
      
    event.preventDefault();
  if (Self.FOnGestureStart) {
         if (!Self.FGestureData) {
            Self.FGestureData=TObject.Create($New(TW3GestureData));
         } else {
            TW3GestureData.Update$1(Self.FGestureData);
         }
         Self.FOnGestureStart(Self,Self.FGestureData);
      }
   }
   ,CMTouchBegins:function(Self) {
      
    event.preventDefault();
  if (Self.FOnTouchBegins) {
         if (!Self.FTouchData) {
            Self.FTouchData=TObject.Create($New(TW3TouchData));
         } else {
            TW3TouchData.Update(Self.FTouchData);
         }
         Self.FOnTouchBegins(Self,Self.FTouchData);
      }
   }
   ,CMTouchEnds:function(Self) {
      
    event.preventDefault();
  if (Self.FOnTouchEnds) {
         if (!Self.FTouchData) {
            Self.FTouchData=TObject.Create($New(TW3TouchData));
         } else {
            TW3TouchData.Update(Self.FTouchData);
         }
         Self.FOnTouchEnds(Self,Self.FTouchData);
      }
   }
   ,CMTouchMove:function(Self) {
      
    event.preventDefault();
  if (Self.FOnTouchMoves) {
         if (!Self.FTouchData) {
            Self.FTouchData=TObject.Create($New(TW3TouchData));
         } else {
            TW3TouchData.Update(Self.FTouchData);
         }
         Self.FOnTouchMoves(Self,Self.FTouchData);
      }
   }
   ,ContextPopup:function(Self, mousePos$1, handled$2) {
      if (Self.FOnContextPopup) {
         Self.FOnContextPopup(Self,mousePos$1,handled$2);
      }
   }
   ,FinalizeObject:function(Self) {
      if (Self.FFont) {
         TObject.Free(Self.FFont);
      }
      if (Self.FClassNames) {
         TObject.Free(Self.FClassNames);
      }
      if (Self.FScrollInfo) {
         TObject.Free(Self.FScrollInfo);
      }
      if (Self.FTouchData) {
         TObject.Free(Self.FTouchData);
      }
      if (Self.FGestureData) {
         TObject.Free(Self.FGestureData);
      }
      TW3MovableControl.FinalizeObject(Self);
   }
   ,getBorderRadius:function(Self) {
      var Result=0;
      Result=w3_getStyleAsInt(Self.FHandle$3,"bordertopleftRadius");
      return Result
   }
   ,GetChildrenSortedByYPos:function(Self) {
      var Result=[];
      var mCount=0;
      var x$6=0;
      var mAltered=false;
      var mObj$2=null;
      var mLast=null;
      var mCurrent=null;
      Result.length=0;
      mCount=TW3Component.GetChildCount(Self);
      if (mCount>0) {
         var $temp8;
         for(x$6=0,$temp8=mCount;x$6<$temp8;x$6++) {
            mObj$2=TW3Component.GetChildObject(Self,x$6);
            if ($Is(mObj$2,TW3CustomControl)) {
               Result.push(mObj$2);
            }
         }
         if (Result.length>1) {
            do {
               mAltered=false;
               var $temp9;
               for(x$6=1,$temp9=mCount;x$6<$temp9;x$6++) {
                  mLast=$As(Result[x$6-1],TW3CustomControl);
                  mCurrent=$As(Result[x$6],TW3CustomControl);
                  if (TW3MovableControl.GetTop$(mCurrent)<TW3MovableControl.GetTop$(mLast)) {
                     $ArraySwap(Result,(x$6-1),x$6);
                     mAltered=true;
                  }
               }
            } while (!(mAltered==false));
         }
      }
      return Result
   }
   ,getClassNames:function(Self) {
      var Result=null;
      if (Self.FClassNames===null) {
         Self.FClassNames=TW3OwnedObject.Create$5$($New(TW3CSSClassStyleNames),Self);
      }
      Result=Self.FClassNames;
      return Result
   }
   ,getEnabled:function(Self) {
      var Result=false;
      Result=Self.FHandle$3.disabled==false;
      return Result
   }
   ,getFont$1:function(Self) {
      var Result=null;
      if (Self.FFont===null) {
         Self.FFont=TW3ControlFont.Create$37$($New(TW3ControlFont),Self);
      }
      Result=Self.FFont;
      return Result
   }
   ,gethasFocus:function(Self) {
      var Result=false;
      if (Self.FHandle$3) {
         Result=(Self.FHandle$3.focused()?true:false);
      }
      return Result
   }
   ,GetMaxZIndex:function(Self) {
      var Result=0;
      var iChild=0;
      var obj = null;
      var objZIndex = 0;
      Result=0;
      var $temp10;
      for(iChild=0,$temp10=TW3Component.GetChildCount(Self);iChild<$temp10;iChild++) {
         obj=TW3Component.GetChildObject(Self,iChild);
         if (((obj!==null)&&$Is(obj,TW3CustomControl))&&obj.FHandle$3) {
            objZIndex=TW3CustomControl.GetZIndexAsInt($As(obj,TW3CustomControl),0);
            if (objZIndex>Result) {
               Result=objZIndex;
            }
            objZIndex=TW3CustomControl.GetMaxZIndex($As(obj,TW3CustomControl));
            if (objZIndex>Result) {
               Result=objZIndex;
            }
         }
      }
      return Result
   }
   ,getScrollInfo:function(Self) {
      var Result=null;
      if (Self.FScrollInfo===null) {
         Self.FScrollInfo=TW3OwnedObject.Create$5$($New(TW3ScrollInfo),Self);
      }
      Result=Self.FScrollInfo;
      return Result
   }
   ,GetSizeInfo:function(Self) {
      var Result={siClientHeight:0,siClientWidth:0,siHeight:0,siOffsetHeight:0,siOffsetWidth:0,siScrollHeight:0,siScrollWidth:0,siWidth:0};
      Result.siWidth=TW3MovableControl.GetWidth$1$(Self);
      Result.siHeight=TW3MovableControl.GetHeight$1$(Self);
      Result.siClientWidth=w3_getPropertyAsInt(Self.FHandle$3,"clientWidth");
      Result.siClientHeight=w3_getPropertyAsInt(Self.FHandle$3,"clientHeight");
      Result.siOffsetWidth=w3_getPropertyAsInt(Self.FHandle$3,"offsetWidth");
      Result.siOffsetHeight=w3_getPropertyAsInt(Self.FHandle$3,"offsetHeight");
      return Result
   }
   ,getStyleClass:function(Self) {
      var Result="";
      Result=w3_getAttribAsStr(Self.FHandle$3,"class");
      return Result
   }
   ,GetZIndexAsInt:function(Self, default$1) {
      var Result=0;
      var mData$3 = undefined;
      Result=default$1;
      mData$3=Self.FHandle$3.style["zIndex"];
      if (Self.FHandle$3) {
         if (TVariant.IsNumber(mData$3)) {
            
        Result = Number(mData$3);
               } else if (TVariant.IsString(mData$3)) {
            
        Result = parseInt(mData$3);
        if (isNaN(Result)) Result=default$1;
               }
      }
      return Result
   }
   ,getZoom:function(Self) {
      var Result=0;
      Result=w3_getStyleAsFloat(Self.FHandle$3,"zoom");
      return Result
   }
   ,InitializeCapture:function(Self) {
      var doc = undefined;
      doc=TW3CustomBrowserAPI.GetDocument();
      doc.addEventListener("mousedown",function (evt) {
         if (vCaptureControl!==null) {
            TW3CustomControl.CBMouseDown$(vCaptureControl,evt);
            evt.stopImmediatePropagation();
         }
      },true);
      doc.addEventListener("mousemove",function (evt$1) {
         if (vCaptureControl!==null) {
            TW3CustomControl.CBMouseMove$(vCaptureControl,evt$1);
            evt$1.stopImmediatePropagation();
         }
      },true);
      doc.addEventListener("mouseup",function (evt$2) {
         if (vCaptureControl!==null) {
            TW3CustomControl.CBMouseUp$(vCaptureControl,evt$2);
            evt$2.stopImmediatePropagation();
         }
         vCaptureControl=null;
      },true);
      doc.addEventListener("mouseover",function (evt$3) {
         if (vCaptureControl!==null) {
            TW3CustomControl.CBMouseEnter$(vCaptureControl,evt$3);
            evt$3.stopImmediatePropagation();
         }
      },true);
      doc.addEventListener("mouseout",function (evt$4) {
         if (vCaptureControl!==null) {
            TW3CustomControl.CBMouseExit$(vCaptureControl,evt$4);
            evt$4.stopImmediatePropagation();
         }
      },true);
      doc.addEventListener("mousewheel",function (evt$5) {
         if (vCaptureControl!==null) {
            TW3CustomControl.CBMouseWheel$(vCaptureControl,evt$5);
            evt$5.stopImmediatePropagation();
         }
      },true);
      doc.addEventListener("onclick",function (evt$6) {
         if (vCaptureControl!==null) {
            TW3CustomControl.CBClick$(vCaptureControl,evt$6);
            evt$6.stopImmediatePropagation();
         }
      },true);
      doc.addEventListener("ondblclick",function (evt$7) {
         if (vCaptureControl!==null) {
            TW3CustomControl.CBDblClick$(vCaptureControl,evt$7);
            evt$7.stopImmediatePropagation();
         }
      },true);
      vCaptureInitialized=true;
   }
   ,InitializeObject:function(Self) {
      TW3MovableControl.InitializeObject(Self);
      Self.FNoBehavior=$Event0(Self,TW3Component.CBNoBehavior$);
      w3_bind2(Self.FHandle$3,"onselectstart",$Event0(Self,TW3Component.CBNoBehavior$));
      w3_bind2(Self.FHandle$3,"onfocus",$Event0(Self,TW3CustomControl.CBFocused$));
      w3_bind2(Self.FHandle$3,"onblur",$Event0(Self,TW3CustomControl.CBLostFocus$));
   }
   ,Invalidate:function(Self) {
   }
   ,LayoutChildren:function(Self) {
      var x$7=0;
      var mChild$2=null;
      TW3TagObj.BeginUpdate(Self);
      try {
         var $temp11;
         for(x$7=0,$temp11=TW3Component.GetChildCount(Self);x$7<$temp11;x$7++) {
            mChild$2=TW3Component.GetChildObject(Self,x$7);
            if ($Is(mChild$2,TW3CustomControl)) {
               w3_Callback($Event0($As(mChild$2,TW3CustomControl),TW3CustomControl.LayoutChildren$),10);
            }
         }
      } finally {
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,MouseDown:function(Self, button$1, shiftState$6, x$8, y$1) {
      if (Self.FOnMouseDown) {
         Self.FOnMouseDown(Self,button$1,shiftState$6,x$8,y$1);
      }
   }
   ,MouseEnter:function(Self, shiftState$7, x$9, y$2) {
      if (Self.FOnMouseEnter) {
         Self.FOnMouseEnter(Self,shiftState$7,x$9,y$2);
      }
   }
   ,MouseExit:function(Self, shiftState$8, x$10, y$3) {
      if (Self.FOnMouseExit) {
         Self.FOnMouseExit(Self,shiftState$8,x$10,y$3);
      }
   }
   ,MouseMove:function(Self, shiftState$9, x$11, y$4) {
      if (Self.FOnMouseMove) {
         Self.FOnMouseMove(Self,shiftState$9,x$11,y$4);
      }
   }
   ,MouseUp:function(Self, button$2, shiftState$10, x$12, y$5) {
      if (Self.FOnMouseUp) {
         Self.FOnMouseUp(Self,button$2,shiftState$10,x$12,y$5);
      }
   }
   ,MouseWheel:function(Self, shift, wheelDelta$2, mousePos$2, handled$3) {
      if (Self.FOnMouseWheel) {
         Self.FOnMouseWheel(Self,shift,wheelDelta$2,mousePos$2,handled$3);
      }
   }
   ,ReleaseCapture:function(Self) {
      --Self.FMouseCaptured;
      if (Self.FMouseCaptured==0) {
         if (Self.FHandle$3.releaseCapture) {
            Self.FHandle$3.releaseCapture();
         }
         vCaptureControl=null;
      } else if (Self.FMouseCaptured<0) {
         Self.FMouseCaptured=0;
      }
   }
   ,SendToBack:function(Self) {
      var iChild$1=0;
      var obj$1=null;
      var pushUp=0;
      var minZIndex=0;
      var objZIndex$1 = 0;
      var objZIndex$2 = 0;
      if (Self.FHandle$3) {
         minZIndex=99999;
         if ((Self.FParent!==null)&&$Is(Self.FParent,TW3Component)) {
            var $temp12;
            for(iChild$1=0,$temp12=TW3Component.GetChildCount(Self.FParent);iChild$1<$temp12;iChild$1++) {
               obj$1=TW3Component.GetChildObject(Self.FParent,iChild$1);
               if (((obj$1!==null)&&$Is(obj$1,TW3CustomControl))&&obj$1.FHandle$3) {
                  objZIndex$1=TW3CustomControl.GetZIndexAsInt($As(obj$1,TW3CustomControl),99999);
                  if (objZIndex$1<minZIndex) {
                     minZIndex=objZIndex$1;
                  }
               }
            }
         }
         if (minZIndex==99999) {
            minZIndex=0;
         }
         if ((Self.FParent!==null)&&$Is(Self.FParent,TW3Component)) {
            if (minZIndex<0) {
               pushUp=-minZIndex;
            } else {
               pushUp=1;
            }
            var $temp13;
            for(iChild$1=0,$temp13=TW3Component.GetChildCount(Self.FParent);iChild$1<$temp13;iChild$1++) {
               obj$1=TW3Component.GetChildObject(Self.FParent,iChild$1);
               if ((((obj$1!==null)&&(obj$1!==Self))&&$Is(obj$1,TW3CustomControl))&&obj$1.FHandle$3) {
                  objZIndex$2=TW3CustomControl.GetZIndexAsInt($As(obj$1,TW3CustomControl),-1);
                  if (objZIndex$2<0) {
                     obj$1.FHandle$3.style.zIndex=(minZIndex+pushUp+1);
                  } else {
                     obj$1.FHandle$3.style.zIndex=(objZIndex$2+pushUp);
                  }
               }
            }
         }
         Self.FHandle$3.style.zIndex=((minZIndex+pushUp)-1);
      }
   }
   ,setAngle:function(Self, aValue$11) {
      var mStyle="";
      if (aValue$11!=Self.FAngle) {
         Self.FAngle=aValue$11;
         mStyle="rotate("+(aValue$11).toFixed(2)+"deg)";
         w3_setStyle(Self.FHandle$3,w3_CSSPrefix("Transform"),mStyle);
      }
   }
   ,setBorderRadius:function(Self, aNewRadius) {
      TW3TagObj.BeginUpdate(Self);
      w3_setStyle(Self.FHandle$3,"borderRadius",TInteger.toPxStr(TInteger,aNewRadius));
      TW3MovableControl.SetWasSized(Self);
      TW3TagObj.EndUpdate$(Self);
   }
   ,SetCapture:function(Self) {
      if (Self.FMouseCaptured==0) {
         if (Self.FHandle$3.setCapture) {
            Self.FHandle$3.setCapture(true);
         } else if (!vCaptureInitialized) {
            TW3CustomControl.InitializeCapture(Self.ClassType);
         }
         vCaptureControl=Self;
      }
      ++Self.FMouseCaptured;
   }
   ,setEnabled:function(Self, aValue$12) {
      if (aValue$12) {
         Self.FHandle$3.disabled=false;
      } else {
         Self.FHandle$3.disabled=true;
      }
   }
   ,SetFocus:function(Self) {
      if (Self.FHandle$3) {
         Self.FHandle$3.focus();
      }
   }
   ,setStyleClass:function(Self, aStyle) {
      w3_setAttrib(Self.FHandle$3,"class",aStyle);
   }
   ,setZoom:function(Self, aValue$13) {
      w3_setStyle(Self.FHandle$3,"zoom",aValue$13);
   }
   ,StyleTagObject:function(Self) {
      TW3TagObj.StyleTagObject(Self);
      TW3CustomControl.setStyleClass(Self,TObject.ClassName(Self.ClassType));
      TW3MovableControl.SetVisible$(Self,true);
   }
   ,_setAnimationBegins:function(Self, aValue$14) {
      var mObj$3=undefined;
      mObj$3=Self.FHandle$3;
      switch ((aValue$14!==null)) {
         case true :
            mObj$3[w3_CSSPrefix("AnimationStart")]=$Event1(Self,TW3CustomControl.CBAnimationBegins$);
            break;
         case false :
            mObj$3[w3_CSSPrefix("AnimationStart")]=Self.FNoBehavior;
            break;
      }
      Self.FOnAnimationBegins=aValue$14;
   }
   ,_setAnimationEnds:function(Self, aValue$15) {
      var mObj$4=undefined;
      mObj$4=Self.FHandle$3;
      switch ((aValue$15!==null)) {
         case true :
            mObj$4[w3_CSSPrefix("AnimationEnd")]=$Event1(Self,TW3CustomControl.CBAnimationEnds$);
            break;
         case false :
            mObj$4[w3_CSSPrefix("AnimationEnd")]=Self.FNoBehavior;
            break;
      }
      Self.FOnAnimationEnds=aValue$15;
   }
   ,_setChanged:function(Self, aValue$16) {
      var mObj$5=undefined;
      mObj$5=Self.FHandle$3;
      switch ((aValue$16!==null)) {
         case true :
            mObj$5["onchange"]=$Event1(Self,TW3CustomControl.CBChanged$);
            break;
         case false :
            mObj$5["onchange"]=Self.FNoBehavior;
            break;
      }
      Self.FOnChanged=aValue$16;
   }
   ,_setContextPopup:function(Self, aValue$17) {
      var mObj$6 = undefined;
      mObj$6=Self.FHandle$3;
      if (aValue$17) {
         mObj$6["oncontextmenu"]=$Event1(Self,TW3CustomControl.CBContextPopup$);
      } else {
         mObj$6["oncontextmenu"]=Self.FNoBehavior;
      }
      Self.FOnContextPopup=aValue$17;
   }
   ,_setGestureChange:function(Self, aValue$18) {
      if (Self.FOnGestureChange) {
         w3_RemoveEvent(Self.FHandle$3,"gesturechange",$Event0(Self,TW3CustomControl.CMGestureChange$),true);
         Self.FOnGestureChange=null;
      }
      if (aValue$18) {
         Self.FOnGestureChange=aValue$18;
         w3_AddEvent(Self.FHandle$3,"gesturechange",$Event0(Self,TW3CustomControl.CMGestureChange$),true);
      }
   }
   ,_setGestureEnd:function(Self, aValue$19) {
      if (Self.FOnGestureEnd) {
         w3_RemoveEvent(Self.FHandle$3,"gesturestart",$Event0(Self,TW3CustomControl.CMGestureEnd$),true);
         Self.FOnGestureEnd=null;
      }
      if (aValue$19) {
         Self.FOnGestureEnd=aValue$19;
         w3_AddEvent(Self.FHandle$3,"gestureend",$Event0(Self,TW3CustomControl.CMGestureEnd$),true);
      }
   }
   ,_setGestureStart:function(Self, aValue$20) {
      if (Self.FOnGestureStart) {
         w3_RemoveEvent(Self.FHandle$3,"gesturestart",$Event0(Self,TW3CustomControl.CMGestureStart$),true);
         Self.FOnGestureStart=null;
      }
      if (aValue$20) {
         Self.FOnGestureStart=aValue$20;
         w3_AddEvent(Self.FHandle$3,"gesturestart",$Event0(Self,TW3CustomControl.CMGestureStart$),true);
      }
   }
   ,_setGotFocus:function(Self, aValue$21) {
      Self.FOnGotFocus=aValue$21;
   }
   ,_setKeyDown:function(Self, aValue$22) {
      var mObj$7=undefined;
      mObj$7=Self.FHandle$3;
      switch ((aValue$22!==null)) {
         case true :
            mObj$7["onkeydown"]=$Event1(Self,TW3CustomControl.CBKeyDown$);
            break;
         case false :
            mObj$7["onkeydown"]=Self.FNoBehavior;
            break;
      }
      Self.FOnKeyDown=aValue$22;
   }
   ,_setKeyPress:function(Self, aValue$23) {
      var mObj$8=undefined;
      mObj$8=Self.FHandle$3;
      switch ((aValue$23!==null)) {
         case true :
            mObj$8["onkeypress"]=$Event1(Self,TW3CustomControl.CBKeyPress$);
            break;
         case false :
            mObj$8["onkeypress"]=Self.FNoBehavior;
            break;
      }
      Self.FOnKeyPress=aValue$23;
   }
   ,_setKeyUp:function(Self, aValue$24) {
      var mObj$9=undefined;
      mObj$9=Self.FHandle$3;
      switch ((aValue$24!==null)) {
         case true :
            mObj$9["onkeyup"]=$Event1(Self,TW3CustomControl.CBKeyUp$);
            break;
         case false :
            mObj$9["onkeyup"]=Self.FNoBehavior;
            break;
      }
      Self.FOnKeyUp=aValue$24;
   }
   ,_setLostFocus:function(Self, aValue$25) {
      Self.FOnLostFocus=aValue$25;
   }
   ,_setMouseClick:function(Self, aValue$26) {
      var mObj$10=undefined;
      mObj$10=Self.FHandle$3;
      switch ((aValue$26!==null)) {
         case true :
            mObj$10["onclick"]=$Event1(Self,TW3CustomControl.CBClick$);
            break;
         case false :
            mObj$10["onclick"]=Self.FNoBehavior;
            break;
      }
      Self.FOnClick=aValue$26;
   }
   ,_setMouseDblClick:function(Self, aValue$27) {
      var mObj$11=undefined;
      mObj$11=Self.FHandle$3;
      switch ((aValue$27!==null)) {
         case true :
            mObj$11["ondblclick"]=$Event1(Self,TW3CustomControl.CBDblClick$);
            break;
         case false :
            mObj$11["ondblclick"]=Self.FNoBehavior;
            break;
      }
      Self.FOnDblClick=aValue$27;
   }
   ,_setMouseDown:function(Self, aValue$28) {
      var mObj$12=undefined;
      mObj$12=Self.FHandle$3;
      if (aValue$28) {
         mObj$12["onmousedown"]=$Event1(Self,TW3CustomControl.CBMouseDown$);
      } else {
         mObj$12["onmousedown"]=Self.FNoBehavior;
      }
      Self.FOnMouseDown=aValue$28;
   }
   ,_setMouseEnter:function(Self, aValue$29) {
      var mObj$13=undefined;
      mObj$13=Self.FHandle$3;
      if (aValue$29) {
         mObj$13["onmouseover"]=$Event1(Self,TW3CustomControl.CBMouseEnter$);
      } else {
         mObj$13["onmouseover"]=Self.FNoBehavior;
      }
      Self.FOnMouseEnter=aValue$29;
   }
   ,_setMouseExit:function(Self, aValue$30) {
      var mObj$14=undefined;
      mObj$14=Self.FHandle$3;
      if (aValue$30) {
         mObj$14["onmouseout"]=$Event1(Self,TW3CustomControl.CBMouseExit$);
      } else {
         mObj$14["onmouseout"]=Self.FNoBehavior;
      }
      Self.FOnMouseExit=aValue$30;
   }
   ,_setMouseMove:function(Self, aValue$31) {
      var mObj$15 = undefined;
      mObj$15=Self.FHandle$3;
      if (aValue$31) {
         mObj$15["onmousemove"]=$Event1(Self,TW3CustomControl.CBMouseMove$);
      } else {
         mObj$15["onmousemove"]=Self.FNoBehavior;
      }
      Self.FOnMouseMove=aValue$31;
   }
   ,_setMouseUp:function(Self, aValue$32) {
      var mObj$16=undefined;
      mObj$16=Self.FHandle$3;
      if (aValue$32) {
         mObj$16["onmouseup"]=$Event1(Self,TW3CustomControl.CBMouseUp$);
      } else {
         mObj$16["onmouseup"]=Self.FNoBehavior;
      }
      Self.FOnMouseUp=aValue$32;
   }
   ,_setMouseWheel:function(Self, aValue$33) {
      var onEventSupported=false;
      var mObj$17 = undefined;
      mObj$17=Self.FHandle$3;
      
  onEventSupported = 'onmousewheel' in mObj$17;
  if (onEventSupported) {
         if (aValue$33) {
            mObj$17["onmousewheel"]=$Event1(Self,TW3CustomControl.CBMouseWheel$);
         } else {
            mObj$17["onmousewheel"]=Self.FNoBehavior;
         }
      } else {
         if (aValue$33) {
            mObj$17.addEventListener("DOMMouseScroll",$Event1(Self,TW3CustomControl.CBMouseWheel$),false);
         } else {
            mObj$17.removeEventListener("DOMMouseScroll",$Event1(Self,TW3CustomControl.CBMouseWheel$),false);
         }
      }
      Self.FOnMouseWheel=aValue$33;
   }
   ,_setResize:function(Self, aValue$34) {
      Self.FOnResize=aValue$34;
   }
   ,_setTouchBegins:function(Self, aValue$35) {
      if (Self.FOnTouchBegins) {
         w3_RemoveEvent(Self.FHandle$3,"touchstart",$Event0(Self,TW3CustomControl.CMTouchBegins$),true);
         Self.FOnTouchBegins=null;
      }
      if (aValue$35) {
         Self.FOnTouchBegins=aValue$35;
         w3_AddEvent(Self.FHandle$3,"touchstart",$Event0(Self,TW3CustomControl.CMTouchBegins$),true);
      }
   }
   ,_setTouchEnds:function(Self, aValue$36) {
      if (Self.FOnTouchEnds) {
         w3_RemoveEvent(Self.FHandle$3,"touchend",$Event0(Self,TW3CustomControl.CMTouchEnds$),true);
         Self.FOnTouchEnds=null;
      }
      if (aValue$36) {
         Self.FOnTouchEnds=aValue$36;
         w3_AddEvent(Self.FHandle$3,"touchend",$Event0(Self,TW3CustomControl.CMTouchEnds$),true);
      }
   }
   ,_setTouchMoves:function(Self, aValue$37) {
      if (Self.FOnTouchMoves) {
         w3_RemoveEvent(Self.FHandle$3,"touchmove",$Event0(Self,TW3CustomControl.CMTouchMove$),true);
         Self.FOnTouchMoves=null;
      }
      if (aValue$37) {
         Self.FOnTouchMoves=aValue$37;
         w3_AddEvent(Self.FHandle$3,"touchmove",$Event0(Self,TW3CustomControl.CMTouchMove$),true);
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate$:function($){return $.ClassType.AfterUpdate($)}
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins$:function($){return $.ClassType.CBAnimationBegins.apply($.ClassType, arguments)}
   ,CBAnimationEnds$:function($){return $.ClassType.CBAnimationEnds.apply($.ClassType, arguments)}
   ,CBChanged$:function($){return $.ClassType.CBChanged.apply($.ClassType, arguments)}
   ,CBClick$:function($){return $.ClassType.CBClick.apply($.ClassType, arguments)}
   ,CBContextPopup$:function($){return $.ClassType.CBContextPopup.apply($.ClassType, arguments)}
   ,CBDblClick$:function($){return $.ClassType.CBDblClick.apply($.ClassType, arguments)}
   ,CBFocused$:function($){return $.ClassType.CBFocused($)}
   ,CBKeyDown$:function($){return $.ClassType.CBKeyDown.apply($.ClassType, arguments)}
   ,CBKeyPress$:function($){return $.ClassType.CBKeyPress.apply($.ClassType, arguments)}
   ,CBKeyUp$:function($){return $.ClassType.CBKeyUp.apply($.ClassType, arguments)}
   ,CBLostFocus$:function($){return $.ClassType.CBLostFocus($)}
   ,CBMouseDown$:function($){return $.ClassType.CBMouseDown.apply($.ClassType, arguments)}
   ,CBMouseEnter$:function($){return $.ClassType.CBMouseEnter.apply($.ClassType, arguments)}
   ,CBMouseExit$:function($){return $.ClassType.CBMouseExit.apply($.ClassType, arguments)}
   ,CBMouseMove$:function($){return $.ClassType.CBMouseMove.apply($.ClassType, arguments)}
   ,CBMouseUp$:function($){return $.ClassType.CBMouseUp.apply($.ClassType, arguments)}
   ,CBMouseWheel$:function($){return $.ClassType.CBMouseWheel.apply($.ClassType, arguments)}
   ,CMGestureChange$:function($){return $.ClassType.CMGestureChange($)}
   ,CMGestureEnd$:function($){return $.ClassType.CMGestureEnd($)}
   ,CMGestureStart$:function($){return $.ClassType.CMGestureStart($)}
   ,CMTouchBegins$:function($){return $.ClassType.CMTouchBegins($)}
   ,CMTouchEnds$:function($){return $.ClassType.CMTouchEnds($)}
   ,CMTouchMove$:function($){return $.ClassType.CMTouchMove($)}
   ,GetChildrenSortedByYPos$:function($){return $.ClassType.GetChildrenSortedByYPos($)}
   ,getEnabled$:function($){return $.ClassType.getEnabled($)}
   ,GetSizeInfo$:function($){return $.ClassType.GetSizeInfo($)}
   ,Invalidate$:function($){return $.ClassType.Invalidate($)}
   ,LayoutChildren$:function($){return $.ClassType.LayoutChildren($)}
   ,MouseDown$:function($){return $.ClassType.MouseDown.apply($.ClassType, arguments)}
   ,MouseEnter$:function($){return $.ClassType.MouseEnter.apply($.ClassType, arguments)}
   ,MouseExit$:function($){return $.ClassType.MouseExit.apply($.ClassType, arguments)}
   ,MouseMove$:function($){return $.ClassType.MouseMove.apply($.ClassType, arguments)}
   ,MouseUp$:function($){return $.ClassType.MouseUp.apply($.ClassType, arguments)}
   ,MouseWheel$:function($){return $.ClassType.MouseWheel.apply($.ClassType, arguments)}
   ,setEnabled$:function($){return $.ClassType.setEnabled.apply($.ClassType, arguments)}
};
var TW3AlertDialog= {
   $ClassName:"TW3AlertDialog",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FNo=$.FOnSelect=$.FText=$.FTitle=$.FYes=null;
      $.FOptions=0;
      $.FReady=false;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FTitle);
      TObject.Free(Self.FText);
      TObject.Free(Self.FYes);
      TObject.Free(Self.FNo);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,HandleNoClick:function(Self, Sender) {
      if (Self.FOnSelect) {
         switch (Self.FOptions) {
            case 0 :
            case 2 :
            case 1 :
               Self.FOnSelect(Self,1);
               break;
            case 3 :
            case 4 :
            case 5 :
               Self.FOnSelect(Self,3);
               break;
         }
      }
   }
   ,HandleYesClick:function(Self, Sender$1) {
      if (Self.FOnSelect) {
         switch (Self.FOptions) {
            case 0 :
            case 2 :
            case 1 :
               Self.FOnSelect(Self,0);
               break;
            case 3 :
            case 4 :
            case 5 :
               Self.FOnSelect(Self,2);
               break;
         }
      }
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FYes=TW3Component.Create$36$($New(TW3AlertButton),Self);
      TW3MovableControl.SetSize$4$(Self.FYes,120,42);
      TW3Button.setCaption$1(Self.FYes,"OK");
      TW3CustomControl._setMouseClick(Self.FYes,$Event1(Self,TW3AlertDialog.HandleYesClick$));
      TW3MovableControl.SetVisible$(Self.FYes,false);
      Self.FNo=TW3Component.Create$36$($New(TW3AlertButton),Self);
      TW3MovableControl.SetSize$4$(Self.FNo,120,42);
      TW3Button.setCaption$1(Self.FNo,"Cancel");
      TW3CustomControl._setMouseClick(Self.FNo,$Event1(Self,TW3AlertDialog.HandleNoClick$));
      TW3MovableControl.SetVisible$(Self.FNo,false);
      Self.FTitle=TW3Component.Create$36$($New(TW3Label),Self);
      Self.FText=TW3Component.Create$36$($New(TW3Label),Self);
   }
   ,Resize:function(Self) {
      var hd=0;
      var wd = {};
      wd.v=0;
      var dx$1 = {};
      dx$1.v=0;
      var dy$1=0;
      TW3MovableControl.Resize(Self);
      wd.v=TW3ScrollInfo.getScrollWidth(TW3CustomControl.getScrollInfo(Self));
      hd=TW3ScrollInfo.getScrollHeight(TW3CustomControl.getScrollInfo(Self));
      TW3MovableControl.SetBounds$(Self.FTitle,8,8,wd.v-(8*2),32);
      TW3MovableControl.SetBounds$(Self.FText,8,TW3MovableControl.GetTop$(Self.FTitle)+TW3MovableControl.GetHeight$1$(Self.FTitle)+2,wd.v-(8*2),100-8);
      if (Self.FObjReady&&Self.FReady) {
         (wd.v-=(8*2));
         if (((Self.FOptions==2)||(Self.FOptions==5))) {
            (wd.v-=8);
         }
         if (((Self.FOptions==0)||(Self.FOptions==3)||(Self.FOptions==1)||(Self.FOptions==4))) {
            if (((Self.FOptions==0)||(Self.FOptions==3))) {
               dy$1=TW3MovableControl.GetHeight$1$(Self)-(TW3MovableControl.GetHeight$1$(Self.FYes)+20);
               TW3MovableControl.SetBounds$(Self.FYes,10,dy$1,wd.v,TW3MovableControl.GetHeight$1$(Self.FYes));
            } else if (((Self.FOptions==1)||(Self.FOptions==4))) {
               dy$1=TW3MovableControl.GetHeight$1$(Self)-(TW3MovableControl.GetHeight$1$(Self.FNo)+20);
               TW3MovableControl.SetBounds$(Self.FNo,10,dy$1,wd.v,TW3MovableControl.GetHeight$1$(Self.FNo));
            }
         } else if (((Self.FOptions==2)||(Self.FOptions==5))) {
            dy$1=hd-(TW3MovableControl.GetHeight$1$(Self.FYes)+8);
            TW3MovableControl.SetBounds$(Self.FYes,8,dy$1,$Div(wd.v,2),TW3MovableControl.GetHeight$1$(Self.FYes));
            dx$1.v=TW3ScrollInfo.getScrollWidth(TW3CustomControl.getScrollInfo(Self))-($Div(wd.v,2));
            (dx$1.v-=8);
            TW3MovableControl.SetBounds$(Self.FNo,dx$1.v,dy$1,$Div(wd.v,2),TW3MovableControl.GetHeight$1$(Self.FNo));
         }
      }
   }
   ,SetupDialog:function(Self, aTitle, aText, aOptions) {
      if (!Self.FReady) {
         TW3TagObj.BeginUpdate(Self);
         try {
            Self.FOptions=aOptions;
            TW3Label.setCaption$(Self.FTitle,aTitle);
            TW3Label.setCaption$(Self.FText,aText);
            switch (Self.FOptions) {
               case 0 :
               case 3 :
                  TW3MovableControl.SetVisible$(Self.FYes,true);
                  TW3MovableControl.SetVisible$(Self.FNo,false);
                  break;
               case 1 :
               case 4 :
                  TW3MovableControl.SetVisible$(Self.FNo,true);
                  TW3MovableControl.SetVisible$(Self.FYes,false);
                  break;
               case 2 :
               case 5 :
                  TW3MovableControl.SetVisible$(Self.FYes,true);
                  TW3MovableControl.SetVisible$(Self.FNo,true);
                  break;
            }
            switch (Self.FOptions) {
               case 0 :
                  TW3Button.setCaption$1(Self.FYes,"Yes");
                  break;
               case 1 :
                  TW3Button.setCaption$1(Self.FNo,"No");
                  break;
               case 3 :
                  TW3Button.setCaption$1(Self.FYes,"OK");
                  break;
               case 4 :
                  TW3Button.setCaption$1(Self.FNo,"Cancel");
                  break;
               case 2 :
                  TW3Button.setCaption$1(Self.FYes,"Yes");
                  TW3Button.setCaption$1(Self.FNo,"No");
                  break;
               case 5 :
                  TW3Button.setCaption$1(Self.FYes,"OK");
                  TW3Button.setCaption$1(Self.FNo,"Cancel");
                  break;
            }
            TW3CustomFont.setName(TW3CustomControl.getFont$1(Self.FTitle),"Helvetica, Arial, sans-serif");
            TW3CustomFont.setWeight(TW3CustomControl.getFont$1(Self.FTitle),"bold");
            TW3CustomFont.setSize(TW3CustomControl.getFont$1(Self.FTitle),24);
            TW3Label.setTextAlign$1$(Self.FTitle,1);
            TW3CustomFont.setColor$1(TW3CustomControl.getFont$1(Self.FTitle),16777215);
            Self.FTitle.FContainer.FHandle$3.style["text-shadow"]="0 -1px 0 rgba(0,0,0,.8)";
            TW3CustomFont.setSize(TW3CustomControl.getFont$1(Self.FText),16);
            TW3CustomFont.setName(TW3CustomControl.getFont$1(Self.FText),"Helvetica, Arial, sans-serif");
            TW3Label.setTextAlign$1$(Self.FText,1);
            Self.FReady=true;
         } finally {
            TW3MovableControl.SetWasSized(Self);
            TW3MovableControl.SetWasMoved(Self);
            TW3TagObj.EndUpdate$(Self);
         }
      }
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,HandleNoClick$:function($){return $.ClassType.HandleNoClick.apply($.ClassType, arguments)}
   ,HandleYesClick$:function($){return $.ClassType.HandleYesClick.apply($.ClassType, arguments)}
};
TW3AlertDialog.$Intf={
   IW3AlertDialog:[TW3AlertDialog.SetupDialog]
}
var TW3Button= {
   $ClassName:"TW3Button",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,getCaption:function(Self) {
      var Result="";
      if (Self.FHandle$3) {
         Result=Self.FHandle$3.innerHTML.toString();
      }
      return Result
   }
   ,setCaption$1:function(Self, Value$3) {
      if (Self.FHandle$3) {
         Self.FHandle$3.innerHTML=Value$3;
      }
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("button");
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      TW3MovableControl.SetWidth$(Self,100);
      TW3MovableControl.setHeight$(Self,32);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3AlertButton= {
   $ClassName:"TW3AlertButton",
   $Parent:TW3Button,
   $Init:function ($) {
      TW3Button.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3Button.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3Button.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
function WriteLn(Value$4) {
   
    if (window.console)
    window.console.log(Value$4);
  };
function w3_unbind(obj_ref, event_name) {
   
    (obj_ref)[event_name] = null;
  };
function w3_StrToArray(aText$1, aDelimiter) {
   var Result=[];
   var mRef=undefined;
   var mLen=0;
   var x=0;
   Result=$NewArray(0,"");
   if ((aText$1.length>0)&&(aDelimiter.length>0)) {
      
      mRef = (aText$1).split(aDelimiter);
      mLen = (mRef).length;
    var $temp14;
      for(x=0,$temp14=mLen;x<$temp14;x++) {
         
        (Result).push((mRef)[x]);
            }
   }
   return Result
};
function w3_StrLikeInArray(aLike, aArray) {
   var Result=0;
   var x$1=0;
   var mLen1=0;
   var mLen2=0;
   Result=-1;
   mLen1=aLike.length;
   if ((mLen1>0)&&(aArray.length>0)) {
      var $temp15;
      for(x$1=0,$temp15=aArray.length;x$1<$temp15;x$1++) {
         mLen2=aArray[x$1].length;
         if (mLen2>=mLen1) {
            if (aArray[x$1].substr(0,mLen1)==aLike) {
               Result=x$1;
               break;
            }
         }
      }
   }
   return Result
};
function w3_StringReplace(aValue$38, aToReplace, aNewValue) {
   var Result="";
   var xpos=0;
   var seg1="";
   var seg2="";
   var mStride=0;
   xpos=(aValue$38.indexOf(aToReplace)+1);
   if (xpos>0) {
      do {
         mStride=xpos+aNewValue.length;
         if (xpos>1) {
            seg1=aValue$38.substr(0,(xpos-1));
         } else {
            seg1="";
         }
         seg2=aValue$38.substr((xpos+aToReplace.length)-1,aValue$38.length);
         aValue$38=seg1+aNewValue+seg2;
         xpos=(aValue$38.indexOf(aToReplace)+1);
      } while (!((xpos<1)||(xpos<mStride)));
   }
   Result=aValue$38;
   return Result
};
function w3_ShowMessage(aText$2) {
   
    alert(aText$2);
  };
function w3_setStyle(tagRef, aStyleName, aStyleValue) {
   
    if (tagRef)
    (tagRef).style[aStyleName] = aStyleValue;
  };
function w3_setProperty(tagRef$1, aPropName, aValue$39) {
   
  (tagRef$1)[aPropName] = aValue$39;
  };
function w3_setInnerHtml(aRef, aValue$40) {
   
    (aRef).innerHTML = aValue$40;
  };
function w3_setElementParentByRef(aElement, aParent) {
   if (VarIsValidRef(aParent)) {
      if (VarIsValidRef(aElement)) {
         aParent.appendChild(aElement);
      } else {
         throw Exception.Create($New(Exception),"Failed to add element to parent, element is null");
      }
   }
};
function w3_setElementParentByName(aElement$1, aParentName) {
   var mTemp=undefined;
   mTemp=w3_getElementByName(aParentName);
   if (VarIsValidRef(mTemp)) {
      
      (mTemp).appendChild(aElement$1);
       }
};
function w3_setAttrib(tagRef$2, aAttribName, aValue$41) {
   
    if (tagRef$2)
    (tagRef$2).setAttribute(aAttribName,aValue$41);
  };
function w3_RequestAnimationFrame(aMethod) {
   var Result=undefined;
   if (!vRequestAnimFrame) {
      InitAnimationFrameShim();
   }
   Result=vRequestAnimFrame(aMethod);
   return Result
};
function w3_RemoveEvent(a_tagRef, a_eventName, a_callback, a_useCapture) {
   if (a_eventName=="mousewheel") {
      
    (a_tagRef).removeEventListener('DOMMouseScroll',a_callback,a_useCapture);
     }
   
    (a_tagRef).removeEventListener(a_eventName,a_callback,a_useCapture)
  };
function w3_RemoveElementByRef(aElement$2, aParent$1) {
   if (aParent$1) {
      
      (aParent$1).removeChild(aElement$2);
       }
};
function w3_RemoveClass(tagRef$3, aClassName) {
   var reg=undefined;
   if (w3_HasClass(tagRef$3,aClassName)) {
      
      reg = new RegExp("(\\s|^)" + aClassName + "(\\s|$)");
      (tagRef$3).className=(tagRef$3).className.replace(reg," ");
       }
};
function w3_RegisterBrowserAPI(aDriver) {
   _driver=aDriver;
};
function w3_NameToUrlStr(aUrl) {
   var Result="";
   Result="url("+aUrl+")";
   return Result
};
function w3_HasClass(tagRef$4, aClassName$1) {
   var Result=false;
   
    Result = (tagRef$4).className.match(new RegExp("(\\s|^)"+aClassName$1+"(\\s|$)"));
  return Result
};
function w3_getUniqueObjId() {
   var Result="";
   ++_uniqueNumber;
   Result="OBJ"+_uniqueNumber.toString();
   return Result
};
function w3_getUniqueNumber() {
   var Result=0;
   ++_uniqueNumber;
   Result=_uniqueNumber;
   return Result
};
function w3_getStyleAsStr(tagRef$5, aStyleName$1) {
   var Result="";
   var mData=undefined;
   Result="";
   mData=w3_getStyle(tagRef$5,aStyleName$1);
   if (VarIsValidRef(mData)) {
      if (TVariant.IsString(mData)) {
         Result=TVariant.AsString(mData);
      } else if (TVariant.IsNumber(mData)) {
         Result=TVariant.AsInteger(mData).toString();
      }
   }
   return Result
};
function w3_getStyleAsInt(tagRef$6, aStyleName$2) {
   var Result=0;
   var mData$1=undefined;
   mData$1=w3_getStyle(tagRef$6,aStyleName$2);
   if (VarIsValidRef(mData$1)) {
      if (TVariant.IsNumber(mData$1)) {
         Result=TVariant.AsInteger(mData$1);
      } else if (TVariant.IsString(mData$1)) {
         
        Result = parseInt(mData$1);
      if (TVariant.IsNAN(Result)) {
            Result=0;
         }
      }
   }
   return Result
};
function w3_getStyleAsFloat(tagRef$7, aStyleName$3) {
   var Result=0;
   var mData$2=undefined;
   Result=0;
   mData$2=w3_getStyle(tagRef$7,aStyleName$3);
   if (VarIsValidRef(mData$2)) {
      try {
         if (TVariant.IsNumber(mData$2)) {
            Result=TVariant.AsFloat(mData$2);
            if (TVariant.IsNAN(Result)) {
               Result=0;
            }
         } else if (TVariant.IsString(mData$2)) {
            
          Result = parseFloat(mData$2);
        if (TVariant.IsNAN(Result)) {
               Result=0;
            }
         }
      } catch ($e) {
         var e$3=$W($e);
         /* null */
      }
   }
   return Result
};
function w3_getStyle(tagRef$8, aStyleName$4) {
   var Result=undefined;
   var mObj=undefined;
   
    mObj = document.defaultView.getComputedStyle(tagRef$8,null);
    if (mObj)
    Result = (mObj).getPropertyValue(aStyleName$4);
  return Result
};
function w3_getPropertyAsStr(tagRef$9, aPropName$1) {
   var Result="";
   
    if (tagRef$9)
    Result = String( (tagRef$9)[aPropName$1] );
  return Result
};
function w3_getPropertyAsInt(tagRef$10, aPropName$2) {
   var Result=0;
   
    if (tagRef$10)
    Result = parseInt((tagRef$10)[aPropName$2]);
  return Result
};
function w3_getPropertyAsFloat(tagRef$11, aPropName$3) {
   var Result=0;
   
    if (tagRef$11)
    Result = parseFloat( (tagRef$11)[aPropName$3] );
  return Result
};
function w3_getPropertyAsBool(tagRef$12, aPropName$4) {
   var Result=false;
   
    if (tagRef$12)
    Result = Boolean( (tagRef$12)[aPropName$4] );
  return Result
};
function w3_getProperty(tagRef$13, aPropName$5) {
   var Result=undefined;
   
    Result=(tagRef$13)[aPropName$5];
  return Result
};
function w3_getIsSafari() {
   var Result=false;
   var mTemp$1=undefined;
   
    mTemp$1 = navigator.userAgent.match(/Safari/i);
    if (mTemp$1) Result = true;
  return Result
};
function w3_getIsOpera() {
   var Result=false;
   var mTemp$2=undefined;
   
    mTemp$2 = navigator.userAgent.match(/Opera/i);
    if (mTemp$2) Result = true;
  return Result
};
function w3_getIsIPod() {
   var Result=false;
   var mTemp$3=undefined;
   
    mTemp$3 = navigator.userAgent.match(/iPod/i);
    if (mTemp$3) Result = true;
  return Result
};
function w3_getIsIPhone() {
   var Result=false;
   var mTemp$4=undefined;
   
    mTemp$4 = navigator.userAgent.match(/iPhone/i);
    if (mTemp$4) Result = true;
  return Result
};
function w3_getIsIPad() {
   var Result=false;
   var mTemp$5=undefined;
   
    mTemp$5 = navigator.userAgent.match(/iPad/i);
    if (mTemp$5) Result = true;
  return Result
};
function w3_getIsInternetExplorer() {
   var Result=false;
   var mTemp$6=undefined;
   
    mTemp$6 = navigator.userAgent.match(/MSIE/i);
    if (mTemp$6) Result = true;
  return Result
};
function w3_getIsFirefox() {
   var Result=false;
   var mTemp$7=undefined;
   
    mTemp$7 = navigator.userAgent.match(/Firefox/i);
    if (mTemp$7) Result = true;
  return Result
};
function w3_getIsChrome() {
   var Result=false;
   var mTemp$8=undefined;
   
    mTemp$8 = navigator.userAgent.match(/Chrome/i);
    if (mTemp$8) Result = true;
  return Result
};
function w3_getIsAndroid() {
   var Result=false;
   var mTemp$9=undefined;
   
    mTemp$9 = navigator.userAgent.match(/Android/i);
    if (mTemp$9) Result = true;
  return Result
};
function w3_getInnerHtml(aRef$1) {
   var Result="";
   
    Result = (aRef$1).innerHTML;
  return Result
};
function w3_getElementByName(aElementName) {
   var Result=undefined;
   
    Result = document.getElementById(aElementName);
  return Result
};
function w3_getCursorCSSName(aCursor) {
   var Result="";
   switch (aCursor) {
      case 0 :
         Result="auto";
         break;
      case 2 :
         Result="inherited";
         break;
      case 3 :
         Result="url";
         break;
      case 4 :
         Result="crosshair";
         break;
      case 5 :
         Result="help";
         break;
      case 6 :
         Result="move";
         break;
      case 7 :
         Result="pointer";
         break;
      case 8 :
         Result="progress";
         break;
      case 9 :
         Result="text";
         break;
      case 10 :
         Result="wait";
         break;
      case 11 :
         Result="n-resize";
         break;
      case 12 :
         Result="s-resize";
         break;
      case 13 :
         Result="e-resize";
         break;
      case 14 :
         Result="w-resize";
         break;
      case 15 :
         Result="ne-resize";
         break;
      case 16 :
         Result="nw-resize";
         break;
      case 17 :
         Result="se-resize";
         break;
      case 18 :
         Result="sw-resize";
         break;
      default :
         Result="default";
   }
   return Result
};
function w3_getCalcStyleFor(tagRef$14) {
   var Result=undefined;
   
    Result = document.defaultView.getComputedStyle(tagRef$14,null);
  return Result
};
function w3_GetBrowserName() {
   var Result="";
   switch (Vendor) {
      case 0 :
         Result="Unknown browser";
         break;
      case 1 :
         Result="Safari mobile";
         break;
      case 2 :
         Result="Chrome mobile";
         break;
      case 3 :
         Result="Chrome";
         break;
      case 4 :
         Result="Safari";
         break;
      case 5 :
         Result="FireFox";
         break;
      case 6 :
         Result="Opera";
         break;
      case 7 :
         Result="Internet explorer";
         break;
   }
   return Result
};
function w3_getAttribAsStr(tagRef$15, aAttribName$1) {
   var Result="";
   var mValue=null;
   
    mValue=(tagRef$15).getAttribute(aAttribName$1,0);
    if (mValue)
    Result = String(mValue);
  return Result
};
function w3_getAttribAsInt(tagRef$16, aAttribName$2) {
   var Result=0;
   var mValue$1=null;
   
    mValue$1=(tagRef$16).getAttribute(aAttribName$2,0);
    if (mValue$1)
    Result = parseInt(mValue$1);
  return Result
};
function w3_getAttrib(tagRef$17, aAttribName$3) {
   var Result=undefined;
   
    if (tagRef$17)
    Result=(tagRef$17).getAttribute(aAttribName$3);
  return Result
};
function w3_event() {
   var Result=undefined;
   
    Result = event;
  return Result
};
function W3_DOMReady() {
   var Result=false;
   var mState="";
    mState = document.readyState; Result=(mState).toLowerCase()=="complete";
   return Result
};
function w3_CSSPrefixDef(aCSS) {
   var Result="";
   Result="-"+BrowserAPI().FCSSToken+"-"+aCSS;
   return Result
};
function w3_CSSPrefix(aCSS$1) {
   var Result="";
   Result=BrowserAPI().FCSSToken+aCSS$1;
   return Result
};
function w3_createHtmlElement(aTypeName) {
   var Result=undefined;
   
    Result = document.createElement(aTypeName);
  return Result
};
function w3_CancelAnimationFrame(handle) {
   if (!vCancelAnimFrame) {
      InitAnimationFrameShim();
   }
   vCancelAnimFrame(handle);
};
function w3_Callback(aMethod$1, aDelay) {
   
    setTimeout(aMethod$1,aDelay);
  };
function w3_BrowserVendor() {
   var Result=0;
   Result=Vendor;
   return Result
};
function w3_bind2(obj_ref$1, event_name$1, callback) {
   
    (obj_ref$1)[event_name$1] = callback;
  };
function w3_bind(obj_id, event_name$2, callback$1) {
   
    document.getElementById(obj_id)[event_name$2] = callback$1;
  };
function w3_base64encode(aValue$42) {
   var Result="";
   if (VarIsValidRef(aValue$42)) {
      
      Result = window.btoa(aValue$42);
       }
   return Result
};
function w3_base64decode(aValue$43) {
   var Result=undefined;
   if (aValue$43.length>0) {
      
      Result = window.atob(aValue$43);
       } else {
      
      Result = undefined;
       }
   return Result
};
function w3_AddEvent(a_tagRef$1, a_eventName$1, a_callback$1, a_useCapture$1) {
   if (a_eventName$1=="mousewheel") {
      
    (a_tagRef$1).addEventListener('DOMMouseScroll',a_callback$1,a_useCapture$1);
     }
   
    (a_tagRef$1).addEventListener(a_eventName$1,a_callback$1,a_useCapture$1);
  };
function w3_AddClass(tagRef$18, aClassName$2) {
   if (!w3_HasClass(tagRef$18,aClassName$2)) {
      
      (tagRef$18).className += " " + aClassName$2;
       }
};
function VarIsValidRef(aRef$2) {
   var Result=false;
   
    Result = !((aRef$2 == null) || (aRef$2 == undefined));
  return Result
};
function VariantToObj(Value$5) {
   var Result=null;
   
    Result = Value$5;
  return Result
};
function VariantExtend(target$4, prop) {
   var Result=undefined;
   var n=undefined;
   
     for (n in prop) if ((prop).hasOwnProperty(n)) target$4[n]=prop[n];
     Result = target$4;
   return Result
};
function VariantExtend$1(target$5, prop$1) {
   var Result=null;
   var n$1=undefined;
   
     for (n$1 in prop$1) if ((prop$1).hasOwnProperty(n$1)) target$5[n$1]=prop$1[n];
     Result = target$5;
   return Result
};
var TW3CustomBrowserAPI= {
   $ClassName:"TW3CustomBrowserAPI",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FCSSAnimation=$.FCSSBackgroundColor=$.FCSSBackgroundImage=$.FCSSBackgroundPos=$.FCSSBackgroundSize=$.FCSSToken=$.FCSSTransform="";
   }
   ,DevicePixelRatio:function() {
      var Result=0;
      
    Result=window.devicePixelRatio || 1;
  return Result
   }
   ,GetBody:function() {
      var Result=undefined;
      
    Result=window.document.body;
  return Result
   }
   ,GetDocument:function() {
      var Result=undefined;
      
    Result=window.document;
  return Result
   }
   ,GetStyles:function() {
      var Result=undefined;
      
    Result=window.style;
  return Result
   }
   ,GetWindow:function() {
      var Result=undefined;
      
    Result=window;
  return Result
   }
   ,Destroy:TObject.Destroy
};
var TW3WebkitBrowserAPI= {
   $ClassName:"TW3WebkitBrowserAPI",
   $Parent:TW3CustomBrowserAPI,
   $Init:function ($) {
      TW3CustomBrowserAPI.$Init($);
   }
   ,Create$3:function(Self) {
      Self.FCSSToken="webkit";
      Self.FCSSBackgroundImage="background-image";
      Self.FCSSBackgroundSize="webkitbackgroundSize";
      Self.FCSSBackgroundPos="webkitbackgroundPosition";
      Self.FCSSBackgroundColor="webkitbackgroundColor";
      Self.FCSSTransform="webkitTransform";
      Self.FCSSAnimation="webkitAnimation";
      return Self
   }
   ,Destroy:TObject.Destroy
};
function Copy$TW3RGBA(s,d) {
   d.A$1=s.A$1;
   d.B=s.B;
   d.G=s.G;
   d.R=s.R;
   return d;
}
function Clone$TW3RGBA($) {
   return {
      A$1:$.A$1,
      B:$.B,
      G:$.G,
      R:$.R
   }
}
function TW3RGBA$Brighter(Self$1, aPercent) {
   var Result={A$1:0,B:0,G:0,R:0};
   var f = 0;
   f=ClampInt(aPercent,0,99)/100;
   Result.R=Math.round(Self$1.R*f)+Math.round(255-(f*255));
   Result.G=Math.round(Self$1.G*f)+Math.round(255-(f*255));
   Result.B=Math.round(Self$1.B*f)+Math.round(255-(f*255));
   Result.A$1=Self$1.A$1;
   return Result
}
function Create$4(R$2, G$2, B$2, A$3) {
   var Result={A$1:0,B:0,G:0,R:0};
   Result.R=R$2;
   Result.G=G$2;
   Result.B=B$2;
   Result.A$1=A$3;
   return Result
}
function TW3RGBA$Darker(Self$2, aPercent$1) {
   var Result={A$1:0,B:0,G:0,R:0};
   var f$1 = 0;
   f$1=ClampInt(aPercent$1,0,99)/100;
   Result.R=ClampInt(Self$2.R-Math.round(Self$2.R*f$1),0,255);
   Result.G=ClampInt(Self$2.G-Math.round(Self$2.G*f$1),0,255);
   Result.B=ClampInt(Self$2.B-Math.round(Self$2.B*f$1),0,255);
   Result.A$1=Self$2.A$1;
   return Result
}
function TW3RGBA$getIntensity(Self$3) {
   var Result=0;
   Result=Self$3.R+Self$3.G+Self$3.B;
   if (Result>0) {
      Result=$Div(Result,3);
   }
   return Result
}
function getIntensityOf(aValue$44) {
   var Result=0;
   Result=aValue$44.R+aValue$44.G+aValue$44.B;
   if (Result>0) {
      Result=$Div(Result,3);
   }
   return Result
}
function TW3RGBA$Negative(Self$4) {
   var Result={A$1:0,B:0,G:0,R:0};
   Result.R=255-Self$4.R;
   Result.G=255-Self$4.G;
   Result.B=255-Self$4.B;
   Result.A$1=Self$4.A$1;
   return Result
}
function NegativeOf(aValue$45) {
   var Result={A$1:0,B:0,G:0,R:0};
   Result.R=255-aValue$45.R;
   Result.G=255-aValue$45.G;
   Result.B=255-aValue$45.B;
   Result.A$1=aValue$45.A$1;
   return Result
}
function TW3RGBA$ToColor(Self$5) {
   var Result=0;
   Result=RGBToColor(Self$5.R,Self$5.G,Self$5.B);
   return Result
}
function TW3RGBA$ToString(Self$6) {
   var Result="";
   Result=ColorToStrA(RGBToColor(Self$6.R,Self$6.G,Self$6.B),Self$6.A$1);
   return Result
}
var TW3OwnedObject= {
   $ClassName:"TW3OwnedObject",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FOwner=null;
   }
   ,AcceptParent:function(Self, aObject) {
      var Result=false;
      Result=true;
      return Result
   }
   ,Create$5:function(Self, AOwner$1) {
      TObject.Create(Self);
      if (TW3OwnedObject.AcceptParent$(Self,AOwner$1)) {
         Self.FOwner=AOwner$1;
      } else {
         throw EW3Exception.CreateFmt($New(EW3OwnedObject),"Method %s in class %s threw exception [%s]",["constructor",TObject.ClassName(Self.ClassType),"Unsuitable owner object-type error"]);
      }
      return Self
   }
   ,Destroy:TObject.Destroy
   ,AcceptParent$:function($){return $.ClassType.AcceptParent.apply($.ClassType, arguments)}
   ,Create$5$:function($){return $.ClassType.Create$5.apply($.ClassType, arguments)}
};
var TW3OperaBrowserAPI= {
   $ClassName:"TW3OperaBrowserAPI",
   $Parent:TW3CustomBrowserAPI,
   $Init:function ($) {
      TW3CustomBrowserAPI.$Init($);
   }
   ,Create$6:function(Self) {
      Self.FCSSToken="O";
      Self.FCSSBackgroundImage="OBackgroundImage";
      Self.FCSSBackgroundSize="OBackgroundSize";
      Self.FCSSBackgroundPos="OBackgroundPosition";
      Self.FCSSBackgroundColor="backgroundColor";
      Self.FCSSTransform="OTransform";
      Self.FCSSAnimation="OAnimation";
      return Self
   }
   ,Destroy:TObject.Destroy
};
var TW3IEBrowserAPI= {
   $ClassName:"TW3IEBrowserAPI",
   $Parent:TW3CustomBrowserAPI,
   $Init:function ($) {
      TW3CustomBrowserAPI.$Init($);
   }
   ,Create$7:function(Self) {
      Self.FCSSToken="ms";
      Self.FCSSBackgroundImage="msBackgroundImage";
      Self.FCSSBackgroundSize="msBackgroundSize";
      Self.FCSSBackgroundPos="msBackgroundPosition";
      Self.FCSSBackgroundColor="backgroundColor";
      Self.FCSSTransform="msTransform";
      Self.FCSSAnimation="msAnimation";
      return Self
   }
   ,Destroy:TObject.Destroy
};
var TW3FirefoxBrowserAPI= {
   $ClassName:"TW3FirefoxBrowserAPI",
   $Parent:TW3CustomBrowserAPI,
   $Init:function ($) {
      TW3CustomBrowserAPI.$Init($);
   }
   ,Create$8:function(Self) {
      Self.FCSSToken="Moz";
      Self.FCSSBackgroundImage="backgroundImage";
      Self.FCSSBackgroundSize="backgroundSize";
      Self.FCSSBackgroundPos="backgroundPosition";
      Self.FCSSBackgroundColor="backgroundColor";
      Self.FCSSTransform="MozTransform";
      Self.FCSSAnimation="MozAnimation";
      return Self
   }
   ,Destroy:TObject.Destroy
};
bvUnknown=0;
bviOS=1;
bvAndroid=2;
bvChrome=3;
bvSafari=4;
bvFirefox=5;
bvOpera=6;
bvIE=7;
var TVariant= {
   $ClassName:"TVariant",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
   }
   ,AsBool:function(aValue$46) {
      var Result=false;
      if (VarIsValidRef(aValue$46)) {
         
      Result = Boolean(aValue$46);
          }
      return Result
   }
   ,AsFloat:function(aValue$47) {
      var Result=0;
      if (VarIsValidRef(aValue$47)) {
         
      Result = parseFloat(aValue$47);
          } else {
         Result=0;
      }
      return Result
   }
   ,AsInteger:function(aValue$48) {
      var Result=0;
      if (VarIsValidRef(aValue$48)) {
         
      Result = Number(aValue$48);
          } else {
         Result=0;
      }
      return Result
   }
   ,AsObject:function(aValue$49) {
      var Result=null;
      if (VarIsValidRef(aValue$49)) {
         
      Result = aValue$49;
          } else {
         Result=null;
      }
      return Result
   }
   ,AsString:function(aValue$50) {
      var Result="";
      if (VarIsValidRef(aValue$50)) {
         
      Result = String(aValue$50);
          } else {
         Result="";
      }
      return Result
   }
   ,CreateArray:function() {
      var Result=undefined;
      
    Result = [];
  return Result
   }
   ,CreateObject:function() {
      var Result=undefined;
      
    Result = {};
  return Result
   }
   ,IsBool:function(aValue$51) {
      var Result=false;
      
    if (aValue$51 == null) return false;
    if (aValue$51 == undefined) return false;
    if (typeof(aValue$51) === "boolean")
    return true;
  return Result
   }
   ,IsInteger:function(aValue$52) {
      var Result=false;
      
    if (aValue$52 == null) return false;
    if (aValue$52 == undefined) return false;
    if (typeof(aValue$52) === "number")
    if (parseInt(aValue$52) === aValue$52)
    return true;
  return Result
   }
   ,IsNAN:function(aValue$53) {
      var Result=false;
      
    return isNaN(aValue$53);
  return Result
   }
   ,IsNull:function(aValue$54) {
      var Result=false;
      
    Result=(aValue$54 == null);
  return Result
   }
   ,IsNumber:function(aValue$55) {
      var Result=false;
      
    if (aValue$55 == null) return false;
    if (aValue$55 == undefined) return false;
    if (typeof(aValue$55) === "number")
    return true;
  return Result
   }
   ,IsString:function(aValue$56) {
      var Result=false;
      
    if (aValue$56 == null) return false;
    if (aValue$56 == undefined) return false;
    if (typeof(aValue$56) === "string")
    return true;
  return Result
   }
   ,OwnProperties:function(aValue$57) {
      var Result=[];
      var buf=undefined;
      
    for (buf in aValue$57) if ((aValue$57).hasOwnProperty(buf)) (Result).push(buf);
  return Result
   }
   ,Properties:function(aValue$58) {
      var Result=[];
      var buf$1=undefined;
      
    for (buf$1 in aValue$58) (Result).push(buf$1);
  return Result
   }
   ,Destroy:TObject.Destroy
};
function Copy$TRectF(s,d) {
   d.Bottom=s.Bottom;
   d.Left=s.Left;
   d.Right=s.Right;
   d.Top=s.Top;
   return d;
}
function Clone$TRectF($) {
   return {
      Bottom:$.Bottom,
      Left:$.Left,
      Right:$.Right,
      Top:$.Top
   }
}
function TRectF$BottomRight(Self$7) {
   var Result={X:0,Y:0};
   Result.X=Self$7.Right;
   Result.Y=Self$7.Bottom;
   return Result
}
function TRectF$CenterPoint(Self$8) {
   var Result={X:0,Y:0};
   Result.X=(Self$8.Right+Self$8.Left)*0.5;
   Result.Y=(Self$8.Bottom+Self$8.Top)*0.5;
   return Result
}
function TRectF$Clip(Self$9, RectToClip) {
   var Result={Bottom:0,Left:0,Right:0,Top:0};
   if (RectToClip.Left<Self$9.Left) {
      Result.Left=Self$9.Left;
   } else {
      Result.Left=RectToClip.Left;
   }
   if (RectToClip.Top<Self$9.Top) {
      Result.Top=Self$9.Top;
   } else {
      Result.Top=RectToClip.Top;
   }
   if (RectToClip.Right>Self$9.Right) {
      Result.Right=Self$9.Right;
   } else {
      Result.Right=RectToClip.Right;
   }
   if (RectToClip.Bottom>Self$9.Bottom) {
      Result.Bottom=Self$9.Bottom;
   } else {
      Result.Bottom=RectToClip.Bottom;
   }
   return Result
}
function TRectF$Compare(Self$10, aRect$1) {
   var Result=false;
   Result=(((Self$10.Left==aRect$1.Left)&&(Self$10.Top==aRect$1.Top))&&(Self$10.Right==aRect$1.Right))&&(Self$10.Bottom==aRect$1.Bottom);
   return Result
}
function TRectF$ContainsCol(Self$11, aCol) {
   var Result=false;
   Result=(aCol>=Self$11.Left)&&(aCol<=Self$11.Right);
   return Result
}
function TRectF$ContainsPoint(Self$12, aPoint$1) {
   var Result=false;
   Result=(((aPoint$1.X>=Self$12.Left)&&(aPoint$1.X<=Self$12.Right))&&(aPoint$1.Y>=Self$12.Top))&&(aPoint$1.Y<=Self$12.Bottom);
   return Result
}
function TRectF$ContainsPos(Self$13, aLeft$2, aTop$2) {
   var Result=false;
   Result=(((aLeft$2>=Self$13.Left)&&(aLeft$2<=Self$13.Right))&&(aTop$2>=Self$13.Top))&&(aTop$2<=Self$13.Bottom);
   return Result
}
function TRectF$ContainsRect(Self$14, aRect$2) {
   var Result=false;
   Result=TRectF$Expose(Self$14,aRect$2)!=2;
   return Result
}
function TRectF$ContainsRow(Self$15, aRow) {
   var Result=false;
   Result=(aRow>=Self$15.Top)&&(aRow<=Self$15.Bottom);
   return Result
}
function Create$10(topLeft, bottomRight) {
   var Result={Bottom:0,Left:0,Right:0,Top:0};
   Result.Left=topLeft.X;
   Result.Top=topLeft.Y;
   Result.Right=bottomRight.X;
   Result.Bottom=bottomRight.Y;
   return Result
}
function Create$9(aLeft$3, aTop$3, aRight, aBottom) {
   var Result={Bottom:0,Left:0,Right:0,Top:0};
   Result.Left=aLeft$3;
   Result.Top=aTop$3;
   Result.Right=aRight;
   Result.Bottom=aBottom;
   return Result
}
function CreateBounded(x1, y1, x2, y2) {
   var Result={Bottom:0,Left:0,Right:0,Top:0};
   if (x1<x2) {
      Result.Left=x1;
      Result.Right=x2;
   } else {
      Result.Left=x2;
      Result.Right=x1;
   }
   if (y1<y2) {
      Result.Top=y1;
      Result.Bottom=y2;
   } else {
      Result.Top=y2;
      Result.Bottom=y1;
   }
   return Result
}
function CreateSized$1(aWidth$2, aHeight$2) {
   var Result={Bottom:0,Left:0,Right:0,Top:0};
   Result.Left=0;
   Result.Top=0;
   Result.Right=aWidth$2;
   Result.Bottom=aHeight$2;
   return Result
}
function CreateSized(aLeft$4, aTop$4, aWidth$3, aHeight$3) {
   var Result={Bottom:0,Left:0,Right:0,Top:0};
   Result.Left=aLeft$4;
   Result.Top=aTop$4;
   Result.Right=aLeft$4+aWidth$3;
   Result.Bottom=aTop$4+aHeight$3;
   return Result
}
function TRectF$Empty(Self$16) {
   var Result=false;
   Result=(Self$16.Left==Self$16.Right)&&(Self$16.Top==Self$16.Bottom);
   return Result
}
function TRectF$Expose(Self$17, aChildRect) {
   var Result=0;
   if ((((aChildRect.Left>=Self$17.Right)||(aChildRect.Top>=Self$17.Bottom))||(aChildRect.Right<=Self$17.Left))||(aChildRect.Bottom<=Self$17.Top)) {
      Result=2;
   } else {
      if ((((aChildRect.Left<Self$17.Left)||(aChildRect.Top<Self$17.Top))||(aChildRect.Right>(Self$17.Right-1)))||(aChildRect.Bottom>(Self$17.Bottom-1))) {
         Result=1;
      } else {
         Result=0;
      }
   }
   return Result
}
function TRectF$Extend$1(Self$18, x$13, y$6) {
   var Result=false;
   if (x$13<Self$18.Left) {
      Self$18.Left=x$13;
      Result=true;
   } else if (x$13>Self$18.Right) {
      Self$18.Right=x$13;
      Result=true;
   }
   if (y$6<Self$18.Top) {
      Self$18.Top=y$6;
      Result=true;
   } else if (y$6>Self$18.Bottom) {
      Self$18.Bottom=y$6;
      Result=true;
   }
   return Result
}
function TRectF$Extend(Self$19, aPoint$2) {
   var Result=false;
   Result=TRectF$Extend$1(Self$19,aPoint$2.X,aPoint$2.Y);
   return Result
}
function TRectF$FitWithin(Self$20, aChildRect$1) {
   var Result={Bottom:0,Left:0,Right:0,Top:0};
   var x1$1=0;
   var y1$1=0;
   var rc={Bottom:0,Left:0,Right:0,Top:0};
   var x$14=0;
   var y$7=0;
   var wd$1=0;
   var hd$1=0;
   wd$1=TRectF$Width(aChildRect$1);
   hd$1=TRectF$Height(aChildRect$1);
   if ((wd$1<1)||(hd$1<1)) {
      Copy$TRectF({Bottom:0,Left:0,Right:0,Top:0},Result);
      return Result;
   }
   if ((TRectF$Width(Self$20)>wd$1)&&(TRectF$Height(Self$20)>hd$1)) {
      Copy$TRectF(Self$20,Result);
      x$14=(TRectF$Width(Self$20)-wd$1)/2;
      y$7=(TRectF$Height(Self$20)-hd$1)/2;
      Result=Create$9((Result.Left+x$14),(Result.Top+y$7),(Result.Left+wd$1),(Result.Top+hd$1));
   } else {
      x1$1=TRectF$Width(Self$20)/wd$1;
      y1$1=TRectF$Height(Self$20)/hd$1;
      if (x1$1>y1$1) {
         x$14=Trunc(wd$1*y1$1);
         rc=Create$9(((TRectF$Width(Self$20)-x$14)/2),0,(rc.Left+x$14),TRectF$Height(Self$20));
      } else {
         y$7=Trunc(hd$1*x1$1);
         rc=Create$9(0,((TRectF$Height(Self$20)-y$7)/2),TRectF$Width(Self$20),(rc.Top+y$7));
      }
      Result=Create$9((rc.Left+Self$20.Left),(rc.Top+Self$20.Top),(rc.Right+Self$20.Left),(rc.Bottom+Self$20.Top));
   }
   return Result
}
function TRectF$Height(Self$21) {
   var Result=0;
   Result=Self$21.Bottom-Self$21.Top;
   return Result
}
function TRectF$Intersect(Self$22, aRect$3, intersection) {
   var Result=false;
   Copy$TRectF(Self$22,intersection);
   if (aRect$3.Left>Self$22.Left) {
      intersection.Left=aRect$3.Left;
   }
   if (aRect$3.Top>Self$22.Top) {
      intersection.Top=aRect$3.Top;
   }
   if (aRect$3.Right<Self$22.Right) {
      intersection.Right=aRect$3.Right;
   }
   if (aRect$3.Bottom<Self$22.Bottom) {
      intersection.Bottom=aRect$3.Bottom;
   }
   Result=(intersection.Right>intersection.Left)&&(intersection.Bottom>intersection.Top);
   if (!Result) {
      Copy$TRectF({Bottom:0,Left:0,Right:0,Top:0},intersection);
   }
   return Result
}
function TRectF$Move(Self$23, aCol$1, aRow$1, Center) {
   var wd$2=0;
   var hd$2=0;
   wd$2=TRectF$Width(Self$23);
   hd$2=TRectF$Height(Self$23);
   switch (Center) {
      case false :
         Self$23.Left=aCol$1;
         Self$23.Top=aRow$1;
         Self$23.Right=aCol$1+wd$2;
         Self$23.Bottom=aRow$1+hd$2;
         break;
      case true :
         Self$23.Left=aCol$1-(wd$2/2);
         Self$23.Top=aRow$1-(hd$2/2);
         Self$23.Right=aCol$1+(wd$2/2);
         Self$23.Bottom=aCol$1+(hd$2/2);
         break;
   }
}
function TRectF$MoveBy(Self$24, x$15, y$8) {
   Self$24.Left=Self$24.Left+x$15;
   Self$24.Right=Self$24.Right+x$15;
   Self$24.Top=Self$24.Top+y$8;
   Self$24.Bottom=Self$24.Bottom+y$8;
}
function TRectF$TopLeft(Self$25) {
   var Result={X:0,Y:0};
   Result.X=Self$25.Left;
   Result.Y=Self$25.Top;
   return Result
}
function TRectF$ToPolygon(Self$26) {
   var Result=[];
   $ArraySetLenC(Result,4,function (){return {X:0,Y:0}});
   Result[0]=Create$13(Self$26.Left,Self$26.Top);
   Result[1]=Create$13(Self$26.Right,Self$26.Top);
   Result[2]=Create$13(Self$26.Right,Self$26.Bottom);
   Result[3]=Create$13(Self$26.Left,Self$26.Bottom);
   return Result
}
function TRectF$ToString$1(Self$27) {
   var Result="";
   Result=(Self$27.Left.toString()+","+Self$27.Top.toString()+","+Self$27.Right.toString()+","+Self$27.Bottom.toString());
   return Result
}
function TRectF$Width(Self$28) {
   var Result=0;
   Result=Self$28.Right-Self$28.Left;
   return Result
}
function Copy$TRect(s,d) {
   d.Bottom$1=s.Bottom$1;
   d.Left$1=s.Left$1;
   d.Right$1=s.Right$1;
   d.Top$1=s.Top$1;
   return d;
}
function Clone$TRect($) {
   return {
      Bottom$1:$.Bottom$1,
      Left$1:$.Left$1,
      Right$1:$.Right$1,
      Top$1:$.Top$1
   }
}
function TRect$BottomRight$1(Self$29) {
   var Result={X$1:0,Y$1:0};
   Result.X$1=Self$29.Right$1;
   Result.Y$1=Self$29.Bottom$1;
   return Result
}
function TRect$CenterPoint$1(Self$30) {
   var Result={X$1:0,Y$1:0};
   Result.X$1=$Div(Self$30.Right$1+Self$30.Left$1,2);
   Result.Y$1=$Div(Self$30.Top$1+Self$30.Bottom$1,2);
   return Result
}
function TRect$Clip$1(Self$31, RectToClip$1) {
   var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
   if (RectToClip$1.Left$1<Self$31.Left$1) {
      Result.Left$1=Self$31.Left$1;
   } else {
      Result.Left$1=RectToClip$1.Left$1;
   }
   if (RectToClip$1.Top$1<Self$31.Top$1) {
      Result.Top$1=Self$31.Top$1;
   } else {
      Result.Top$1=RectToClip$1.Top$1;
   }
   if (RectToClip$1.Right$1>Self$31.Right$1) {
      Result.Right$1=Self$31.Right$1;
   } else {
      Result.Right$1=RectToClip$1.Right$1;
   }
   if (RectToClip$1.Bottom$1>Self$31.Bottom$1) {
      Result.Bottom$1=Self$31.Bottom$1;
   } else {
      Result.Bottom$1=RectToClip$1.Bottom$1;
   }
   return Result
}
function TRect$Compare$1(Self$32, aRect$4) {
   var Result=false;
   Result=(((Self$32.Left$1==aRect$4.Left$1)&&(Self$32.Top$1==aRect$4.Top$1))&&(Self$32.Right$1==aRect$4.Right$1))&&(Self$32.Bottom$1==aRect$4.Bottom$1);
   return Result
}
function TRect$ContainsCol$1(Self$33, aCol$2) {
   var Result=false;
   Result=(aCol$2>=Self$33.Left$1)&&(aCol$2<=Self$33.Right$1);
   return Result
}
function TRect$ContainsPoint$1(Self$34, aPoint$3) {
   var Result=false;
   Result=(((aPoint$3.X$1>=Self$34.Left$1)&&(aPoint$3.X$1<=Self$34.Right$1))&&(aPoint$3.Y$1>=Self$34.Top$1))&&(aPoint$3.Y$1<=Self$34.Bottom$1);
   return Result
}
function TRect$ContainsPos$1(Self$35, aLeft$5, aTop$5) {
   var Result=false;
   Result=(((aLeft$5>=Self$35.Left$1)&&(aLeft$5<=Self$35.Right$1))&&(aTop$5>=Self$35.Top$1))&&(aTop$5<=Self$35.Bottom$1);
   return Result
}
function TRect$ContainsRect$1(Self$36, aRect$5) {
   var Result=false;
   Result=TRect$Expose$1(Self$36,aRect$5)!=2;
   return Result
}
function TRect$ContainsRow$1(Self$37, aRow$2) {
   var Result=false;
   Result=(aRow$2>=Self$37.Top$1)&&(aRow$2<=Self$37.Bottom$1);
   return Result
}
function Create$12(topLeft$1, bottomRight$1) {
   var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
   Result.Left$1=topLeft$1.X$1;
   Result.Top$1=topLeft$1.Y$1;
   Result.Right$1=bottomRight$1.X$1;
   Result.Bottom$1=bottomRight$1.Y$1;
   return Result
}
function Create$11(aLeft$6, aTop$6, aRight$1, aBottom$1) {
   var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
   Result.Left$1=aLeft$6;
   Result.Top$1=aTop$6;
   Result.Right$1=aRight$1;
   Result.Bottom$1=aBottom$1;
   return Result
}
function CreateSized$3(aWidth$4, aHeight$4) {
   var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
   Result.Left$1=0;
   Result.Top$1=0;
   Result.Right$1=aWidth$4;
   Result.Bottom$1=aHeight$4;
   return Result
}
function CreateSized$2(aLeft$7, aTop$7, aWidth$5, aHeight$5) {
   var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
   Result.Left$1=aLeft$7;
   Result.Top$1=aTop$7;
   Result.Right$1=aLeft$7+aWidth$5;
   Result.Bottom$1=aTop$7+aHeight$5;
   return Result
}
function TRect$Empty$1(Self$38) {
   var Result=false;
   Result=(Self$38.Left$1==Self$38.Right$1)&&(Self$38.Top$1==Self$38.Bottom$1);
   return Result
}
function TRect$Expose$1(Self$39, aChildRect$2) {
   var Result=0;
   if ((((aChildRect$2.Left$1>=Self$39.Right$1)||(aChildRect$2.Top$1>=Self$39.Bottom$1))||(aChildRect$2.Right$1<=Self$39.Left$1))||(aChildRect$2.Bottom$1<=Self$39.Top$1)) {
      Result=2;
   } else {
      if ((((aChildRect$2.Left$1<Self$39.Left$1)||(aChildRect$2.Top$1<Self$39.Top$1))||(aChildRect$2.Right$1>(Self$39.Right$1-1)))||(aChildRect$2.Bottom$1>(Self$39.Bottom$1-1))) {
         Result=1;
      } else {
         Result=0;
      }
   }
   return Result
}
function TRect$Extend$3(Self$40, aPoint$4) {
   var Result=false;
   Result=TRect$Extend$2(Self$40,aPoint$4.X$1,aPoint$4.Y$1);
   return Result
}
function TRect$Extend$2(Self$41, x$16, y$9) {
   var Result=false;
   if (x$16<Self$41.Left$1) {
      Self$41.Left$1=x$16;
      Result=true;
   } else if (x$16>Self$41.Right$1) {
      Self$41.Right$1=x$16;
      Result=true;
   }
   if (y$9<Self$41.Top$1) {
      Self$41.Top$1=y$9;
      Result=true;
   } else if (y$9>Self$41.Bottom$1) {
      Self$41.Bottom$1=y$9;
      Result=true;
   }
   return Result
}
function TRect$FitWithin$1(Self$42, aChildRect$3) {
   var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
   var x1$2=0;
   var y1$2=0;
   var x$17=0;
   var y$10=0;
   var wd$3=0;
   var hd$3=0;
   wd$3=TRect$Width$1(aChildRect$3);
   hd$3=TRect$Height$1(aChildRect$3);
   if ((wd$3<1)||(hd$3<1)) {
      Copy$TRect({Bottom$1:0,Left$1:0,Right$1:0,Top$1:0},Result);
      return Result;
   }
   if ((TRect$Width$1(Self$42)>wd$3)&&(TRect$Height$1(Self$42)>hd$3)) {
      Copy$TRect(Self$42,Result);
      x$17=$Div(TRect$Width$1(Self$42)-wd$3,2);
      y$10=$Div(TRect$Height$1(Self$42)-hd$3,2);
      Result=Create$11((Result.Left$1+x$17),(Result.Top$1+y$10),(Result.Left$1+wd$3),(Result.Top$1+hd$3));
   } else {
      x1$2=TRect$Width$1(Self$42)/wd$3;
      y1$2=TRect$Height$1(Self$42)/hd$3;
      if (x1$2>y1$2) {
         x$17=Trunc(wd$3*y1$2);
         Result=Create$11(((TRect$Width$1(Self$42)-x$17)>>>1),0,(aChildRect$3.Left$1+x$17),TRect$Height$1(Self$42));
      } else {
         y$10=Trunc(hd$3*x1$2);
         Result=Create$11(0,((TRect$Height$1(Self$42)-y$10)>>>1),TRect$Width$1(Self$42),(aChildRect$3.Top$1+y$10));
      }
      TRect$MoveBy$1(Result,Self$42.Left$1,Self$42.Top$1);
   }
   return Result
}
function TRect$Height$1(Self$43) {
   var Result=0;
   Result=Self$43.Bottom$1-Self$43.Top$1;
   return Result
}
function TRect$Intersect$1(Self$44, aRect$6, intersection$1) {
   var Result=false;
   Copy$TRect(Self$44,intersection$1);
   if (aRect$6.Left$1>Self$44.Left$1) {
      intersection$1.Left$1=aRect$6.Left$1;
   }
   if (aRect$6.Top$1>Self$44.Top$1) {
      intersection$1.Top$1=aRect$6.Top$1;
   }
   if (aRect$6.Right$1<Self$44.Right$1) {
      intersection$1.Right$1=aRect$6.Right$1;
   }
   if (aRect$6.Bottom$1<Self$44.Bottom$1) {
      intersection$1.Bottom$1=aRect$6.Bottom$1;
   }
   Result=(intersection$1.Right$1>intersection$1.Left$1)&&(intersection$1.Bottom$1>intersection$1.Top$1);
   if (!Result) {
      Copy$TRect({Bottom$1:0,Left$1:0,Right$1:0,Top$1:0},intersection$1);
   }
   return Result
}
function TRect$Move$1(Self$45, aCol$3, aRow$3, Center$1) {
   var wd$4=0;
   var hd$4=0;
   wd$4=TRect$Width$1(Self$45);
   hd$4=TRect$Height$1(Self$45);
   if (Center$1) {
      Self$45.Left$1=aCol$3-($Div(wd$4,2));
      Self$45.Top$1=aRow$3-($Div(hd$4,2));
      Self$45.Right$1=aCol$3+($Div(wd$4,2));
      Self$45.Bottom$1=aCol$3+($Div(hd$4,2));
   } else {
      Self$45.Left$1=aCol$3;
      Self$45.Top$1=aRow$3;
      Self$45.Right$1=aCol$3+wd$4;
      Self$45.Bottom$1=aRow$3+hd$4;
   }
}
function TRect$MoveBy$1(Self$46, dX, dY) {
   dX={v:dX};
   dY={v:dY};
   (Self$46.Left$1+=dX.v);
   (Self$46.Right$1+=dX.v);
   (Self$46.Top$1+=dY.v);
   (Self$46.Bottom$1+=dY.v);
}
function TRect$TopLeft$1(Self$47) {
   var Result={X$1:0,Y$1:0};
   Result.X$1=Self$47.Left$1;
   Result.Y$1=Self$47.Top$1;
   return Result
}
function TRect$ToPolygon$1(Self$48) {
   var Result=[];
   Result=[Create$14(Self$48.Left$1,Self$48.Top$1),Create$14(Self$48.Right$1,Self$48.Top$1),Create$14(Self$48.Right$1,Self$48.Bottom$1),Create$14(Self$48.Left$1,Self$48.Bottom$1)].slice();
   return Result
}
function TRect$ToString$2(Self$49) {
   var Result="";
   Result=(Self$49.Left$1.toString()+","+Self$49.Top$1.toString()+","+Self$49.Right$1.toString()+","+Self$49.Bottom$1.toString());
   return Result
}
function TRect$Width$1(Self$50) {
   var Result=0;
   Result=Self$50.Right$1-Self$50.Left$1;
   return Result
}
function Copy$TPointF(s,d) {
   d.X=s.X;
   d.Y=s.Y;
   return d;
}
function Clone$TPointF($) {
   return {
      X:$.X,
      Y:$.Y
   }
}
function TPointF$ToString$3(Self$51) {
   var Result="";
   Result=(Self$51.X.toString()+","+Self$51.Y.toString());
   return Result
}
function TPointF$Compare$2(Self$52, aPoint$5) {
   var Result=false;
   Result=(aPoint$5.X==Self$52.X)&&(aPoint$5.Y==Self$52.Y);
   return Result
}
function Create$13(aCol$4, aRow$4) {
   var Result={X:0,Y:0};
   Result.X=aCol$4;
   Result.Y=aRow$4;
   return Result
}
function Copy$TPoint(s,d) {
   d.X$1=s.X$1;
   d.Y$1=s.Y$1;
   return d;
}
function Clone$TPoint($) {
   return {
      X$1:$.X$1,
      Y$1:$.Y$1
   }
}
function TPoint$ToString$4(Self$53) {
   var Result="";
   Result=(Self$53.X$1.toString()+","+Self$53.Y$1.toString());
   return Result
}
function TPoint$Compare$3(Self$54, aPoint$6) {
   var Result=false;
   Result=(aPoint$6.X$1==Self$54.X$1)&&(aPoint$6.Y$1==Self$54.Y$1);
   return Result
}
function Create$14(aCol$5, aRow$5) {
   var Result={X$1:0,Y$1:0};
   Result.X$1=aCol$5;
   Result.Y$1=aRow$5;
   return Result
}
var TInteger= {
   $ClassName:"TInteger",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
   }
   ,Average:function(Self, anArray) {
      var Result=0;
      var x$18=0;
      var mCount$1=0;
      var mTemp$12 = {};
      mTemp$12.v=0;
      mCount$1=anArray.length;
      if (mCount$1>1) {
         mTemp$12.v=0;
         var $temp16;
         for(x$18=0,$temp16=anArray.length;x$18<$temp16;x$18++) {
            (mTemp$12.v+=anArray[x$18]);
         }
         Result=($Div(mTemp$12.v,mCount$1));
      } else if (mCount$1>0) {
         Result=anArray[0];
      } else {
         Result=0;
      }
      return Result
   }
   ,Diff:function(Self, Primary, Secondary) {
      var Result=0;
      if (Primary!=Secondary) {
         if (Primary>Secondary) {
            Result=Primary-Secondary;
         } else {
            Result=Secondary-Primary;
         }
         if (Result<0) {
            Result=(Result-1)^(-1);
         }
      } else {
         Result=0;
      }
      return Result
   }
   ,EnsureRange:function(Self, aValue$59, aMin, aMax) {
      var Result=0;
      Result=ClampInt(aValue$59,aMin,aMax);
      return Result
   }
   ,GetBit:function(Self, index$1, buffer$1) {
      var Result=false;
      if ((index$1>=0)&&(index$1<=31)) {
         Result=(buffer$1&(1<<index$1))!=0;
      } else {
         throw Exception.Create($New(Exception),"Invalid bit index, expected 0..31");
      }
      return Result
   }
   ,Largest$1:function(Self, anArray$1) {
      var Result=0;
      var x$19=0;
      Result=anArray$1.length;
      if (Result>0) {
         Result=0;
         var $temp17;
         for(x$19=0,$temp17=anArray$1.length;x$19<$temp17;x$19++) {
            if (anArray$1[x$19]>Result) {
               Result=anArray$1[x$19];
            }
         }
      }
      return Result
   }
   ,Largest:function(Self, Primary$1, Secondary$1) {
      var Result=0;
      if (Primary$1>Secondary$1) {
         Result=Primary$1;
      } else {
         Result=Secondary$1;
      }
      return Result
   }
   ,Middle:function(Self, Primary$2, Secondary$2) {
      var Result=0;
      Result=($Div(Primary$2,2))+($Div(Secondary$2,2));
      return Result
   }
   ,PercentOfValue:function(Self, Value$6, Total$2) {
      var Result=0;
      if (Value$6<=Total$2) {
         Result=Trunc((Value$6/Total$2)*100);
      } else {
         Result=0;
      }
      return Result
   }
   ,SetBit:function(Self, index$2, aValue$60, buffer$2) {
      if ((index$2>=0)&&(index$2<=31)) {
         if (aValue$60) {
            buffer$2.v=buffer$2.v|(1<<index$2);
         } else {
            buffer$2.v=buffer$2.v&(~(1<<index$2));
         }
      } else {
         throw Exception.Create($New(Exception),"Invalid bit index, expected 0..31");
      }
   }
   ,Sign$2:function(Self, Value$7) {
      var Result=0;
      if (Value$7<0) {
         Result=(Value$7-1)^(-1);
      } else {
         Result=Value$7;
      }
      return Result
   }
   ,Smallest$1:function(Self, anArray$2) {
      var Result=0;
      var x$20=0;
      if (anArray$2.length>1) {
         Result=2147483647;
         var $temp18;
         for(x$20=0,$temp18=anArray$2.length;x$20<$temp18;x$20++) {
            if (anArray$2[x$20]<Result) {
               Result=anArray$2[x$20];
            }
         }
      } else if (anArray$2.length==1) {
         Result=anArray$2[0];
      } else {
         Result=0;
      }
      return Result
   }
   ,Smallest:function(Self, Primary$3, Secondary$3) {
      var Result=0;
      if (Primary$3<Secondary$3) {
         Result=Primary$3;
      } else {
         Result=Secondary$3;
      }
      return Result
   }
   ,Sort:function(Self, Domain) {
      var x$21=0;
      var FComplete=false;
      if (Domain.v.length>1) {
         do {
            FComplete=true;
            var $temp19;
            for(x$21=0+1,$temp19=Domain.v.length;x$21<$temp19;x$21++) {
               if (Domain.v[x$21-1]>Domain.v[x$21]) {
                  $ArraySwap(Domain.v,(x$21-1),x$21);
                  FComplete=false;
               }
            }
         } while (!FComplete);
      }
   }
   ,Sum:function(Self, anArray$3) {
      var Result={v:0};
      try {
         var x$22=0;
         Result.v=0;
         if (anArray$3.length>0) {
            var $temp20;
            for(x$22=0,$temp20=anArray$3.length;x$22<$temp20;x$22++) {
               (Result.v+=anArray$3[x$22]);
            }
         }
      } finally {return Result.v}
   }
   ,Swap:function(Self, Primary$4, Secondary$4) {
      var temp=0;
      temp=Primary$4.v;
      Primary$4.v=Secondary$4.v;
      Secondary$4.v=temp;
   }
   ,toHex:function(Self, aValue$61) {
      var Result="";
      Result=IntToHex(aValue$61,16);
      if (Result.length<2) {
         do {
            Result="0"+Result;
         } while (!(Result.length>=2));
      }
      Result=Result.substr((Result.length-1)-1,2);
      return Result
   }
   ,ToNearest:function(Self, Value$8, Factor) {
      var Result={v:0};
      try {
         var FTemp=0;
         Result.v=Value$8;
         FTemp=Value$8%Factor;
         if (FTemp>0) {
            (Result.v+=(Factor-FTemp));
         }
      } finally {return Result.v}
   }
   ,ToNearestSigned:function(Self, Value$9, Factor$1) {
      var Result=0;
      Result=(1+($Div(Value$9-1,Factor$1)))*Factor$1;
      return Result
   }
   ,toPxStr:function(Self, aValue$62) {
      var Result="";
      Result=aValue$62.toString()+"px";
      return Result
   }
   ,WrapRange:function(Self, aValue$63, aLowRange, aHighRange) {
      var Result=0;
      if (aValue$63>aHighRange) {
         Result=aLowRange+TInteger.Diff(Self,aHighRange,(aValue$63-1));
         if (Result>aHighRange) {
            Result=TInteger.WrapRange(Self,Result,aLowRange,aHighRange);
         }
      } else if (aValue$63<aLowRange) {
         Result=aHighRange-TInteger.Diff(Self,aLowRange,(aValue$63+1));
         if (Result<aLowRange) {
            Result=TInteger.WrapRange(Self,Result,aLowRange,aHighRange);
         }
      } else {
         Result=aValue$63;
      }
      return Result
   }
   ,Destroy:TObject.Destroy
};
var TFloat= {
   $ClassName:"TFloat",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
   }
   ,PercentOfValue$1:function(Value$10, Total$3) {
      var Result=0;
      if (Value$10<=Total$3) {
         Result=(Value$10/Total$3)*100;
      } else {
         Result=0;
      }
      return Result
   }
   ,Destroy:TObject.Destroy
};
esVisible=0;
esPartly=1;
esNone=2;
crAuto=0;
crDefault=1;
crInherited=2;
crURL=3;
crCrossHair=4;
crHelp=5;
crMove=6;
crPointer=7;
crProgress=8;
crText=9;
crWait=10;
crNResize=11;
crSResize=12;
crEResize=13;
crWResize=14;
crNEResize=15;
crNWReSize=16;
crSEResize=17;
crSWResize=18;
function StrToColor(aColorStr) {
   aColorStr={v:aColorStr};
   var Result={v:0};
   try {
      var mTemp$10 = {};
      mTemp$10.v="";
      var xpos$1=0;
      var r=0;
      var g=0;
      var b=0;
      aColorStr.v=Trim((aColorStr.v).toLowerCase());
      if (aColorStr.v.length>1) {
         if ((aColorStr.v.charAt(0)=="#")||(aColorStr.v.charAt(0)=="$")) {
            Delete(aColorStr,1,1);
            Result.v=parseInt("0x"+aColorStr.v,16);
         } else if (aColorStr.v.substr(0,2)=="0x") {
            Result.v=parseInt(aColorStr.v,16);
         } else if (aColorStr.v.substr(0,4)=="rgb(") {
            Delete(aColorStr,1,4);
            try {
               xpos$1=(aColorStr.v.indexOf(",")+1);
               if (xpos$1>1) {
                  mTemp$10.v=aColorStr.v.substr(0,(xpos$1-1));
                  Delete(aColorStr,1,xpos$1);
                  if (mTemp$10.v.charAt(0)=="$") {
                     Delete(mTemp$10,1,1);
                     mTemp$10.v="0x"+mTemp$10.v;
                  }
                  r=parseInt(mTemp$10.v,10);
               }
               xpos$1=(aColorStr.v.indexOf(",")+1);
               if (xpos$1>1) {
                  mTemp$10.v=aColorStr.v.substr(0,(xpos$1-1));
                  Delete(aColorStr,1,xpos$1);
                  if (mTemp$10.v.charAt(0)=="$") {
                     Delete(mTemp$10,1,1);
                     mTemp$10.v="0x"+mTemp$10.v;
                  }
                  g=parseInt(mTemp$10.v,10);
               }
               xpos$1=(aColorStr.v.indexOf(")")+1);
               if (xpos$1>1) {
                  mTemp$10.v=aColorStr.v.substr(0,(xpos$1-1));
                  if (mTemp$10.v.charAt(0)=="$") {
                     Delete(mTemp$10,1,1);
                     mTemp$10.v="0x"+mTemp$10.v;
                  }
                  b=parseInt(mTemp$10.v,10);
               }
               Result.v=RGBToColor(r,g,b);
            } catch ($e) {
               var e$4=$W($e);
               return Result.v;
            }
         }
      } else {
         Result.v=0;
      }
   } finally {return Result.v}
};
function ShowMessage(aText$3) {
   
    alert(aText$3);
  };
function RGBToColor(aRed, aGreen, aBlue) {
   var Result=0;
   Result=(aBlue|(aGreen<<8))|(aRed<<16);
   return Result
};
function ObjToVariant(value$2) {
   var Result=undefined;
   
    Result = value$2;
  return Result
};
var JSON$1= {
   $ClassName:"JSON",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
   }
   ,Parse:function(jsonData) {
      var Result=undefined;
      
      Result = JSON.parse(jsonData);
   return Result
   }
   ,Stringify:function(v) {
      var Result="";
      
      Result = JSON.stringify(v);
   return Result
   }
   ,Destroy:TObject.Destroy
};
function InitVendorInfo() {
   if (w3_getIsAndroid()) {
      Vendor=2;
   } else if (w3_getIsSafari()) {
      Vendor=4;
   } else if (w3_getIsFirefox()) {
      Vendor=5;
   } else if (w3_getIsChrome()) {
      Vendor=3;
   } else if (w3_getIsInternetExplorer()) {
      Vendor=7;
   } else if (w3_getIsOpera()) {
      Vendor=6;
   }
   if (Vendor==0) {
      if ((w3_getIsIPhone()||w3_getIsIPad())||w3_getIsIPod()) {
         Vendor=1;
      }
   }
   switch (Vendor) {
      case 1 :
      case 4 :
      case 3 :
      case 2 :
         w3_RegisterBrowserAPI(TW3WebkitBrowserAPI.Create$3($New(TW3WebkitBrowserAPI)));
         break;
      case 5 :
         w3_RegisterBrowserAPI(TW3FirefoxBrowserAPI.Create$8($New(TW3FirefoxBrowserAPI)));
         break;
      case 7 :
         w3_RegisterBrowserAPI(TW3IEBrowserAPI.Create$7($New(TW3IEBrowserAPI)));
         break;
      case 6 :
         w3_RegisterBrowserAPI(TW3OperaBrowserAPI.Create$6($New(TW3OperaBrowserAPI)));
         break;
      default :
         w3_RegisterBrowserAPI(TW3FirefoxBrowserAPI.Create$8($New(TW3FirefoxBrowserAPI)));
   }
};
var EW3Exception= {
   $ClassName:"EW3Exception",
   $Parent:Exception,
   $Init:function ($) {
      Exception.$Init($);
   }
   ,CreateFmt:function(Self, aText$4, aValues) {
      Exception.Create(Self,Format(aText$4,aValues.slice(0)));
      return Self
   }
   ,Destroy:Exception.Destroy
};
var EW3OwnedObject= {
   $ClassName:"EW3OwnedObject",
   $Parent:EW3Exception,
   $Init:function ($) {
      EW3Exception.$Init($);
   }
   ,Destroy:Exception.Destroy
};
function ColorToWebStr(aColor) {
   var Result="";
   var r$1=0;
   var g$1=0;
   var b$1=0;
   r$1=(aColor>>>16)&255;
   g$1=(aColor>>>8)&255;
   b$1=(aColor>>>0)&255;
   Result="#"+TInteger.toHex(TInteger,r$1)+TInteger.toHex(TInteger,g$1)+TInteger.toHex(TInteger,b$1);
   return Result
};
function ColorToStrA(aColor$1, Alpha) {
   var Result="";
   var r$2=0;
   var g$2=0;
   var b$2=0;
   var a=0;
   r$2=(aColor$1>>>16)&255;
   g$2=(aColor$1>>>8)&255;
   b$2=(aColor$1>>>0)&255;
   a=Alpha/255;
   Result="rgba("+r$2.toString()+","+g$2.toString()+","+b$2.toString()+","+(a).toString()+")";
   return Result
};
function ColorToStr(aColor$2) {
   var Result="";
   var r$3=0;
   var g$3=0;
   var b$3=0;
   r$3=(aColor$2>>>16)&255;
   g$3=(aColor$2>>>8)&255;
   b$3=(aColor$2>>>0)&255;
   Result="0x"+TInteger.toHex(TInteger,r$3)+TInteger.toHex(TInteger,g$3)+TInteger.toHex(TInteger,b$3);
   return Result
};
function BrowserAPI() {
   var Result=null;
   if (_driver===null) {
      InitVendorInfo();
   }
   Result=_driver;
   return Result
};
function InitAnimationFrameShim() {
   
    vRequestAnimFrame = (function(){
      return  window.requestAnimationFrame       ||
              window.webkitRequestAnimationFrame ||
              window.mozRequestAnimationFrame    ||
              window.oRequestAnimationFrame      ||
              window.msRequestAnimationFrame     ||
              function( callback ){
                return window.setTimeout(callback, 1000 / 60);
              };
    })();
    vCancelAnimFrame = (function(){
      return  window.cancelAnimationFrame       ||
              window.webkitCancelAnimationFrame ||
              window.mozCancelAnimationFrame    ||
              window.oCancelAnimationFrame      ||
              window.msCancelAnimationFrame     ||
              function( handle ){
                window.clearTimeout(handle);
              };
    })();
  };
var TW3ScrollInfo= {
   $ClassName:"TW3ScrollInfo",
   $Parent:TW3OwnedObject,
   $Init:function ($) {
      TW3OwnedObject.$Init($);
   }
   ,AcceptParent:function(Self, aObject$1) {
      var Result=false;
      Result=(aObject$1!==null)&&$Is(aObject$1,TW3TagObj);
      return Result
   }
   ,getScrollHeight:function(Self) {
      var Result=0;
      var mRef$1=undefined;
      mRef$1=$As(Self.FOwner,TW3TagObj).FHandle$3;
      if (mRef$1) {
         Result=TVariant.AsInteger(mRef$1.scrollHeight);
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3ScrollInfo.getScrollHeight",Self,"invalid owner handle error");
      }
      return Result
   }
   ,getScrollLeft:function(Self) {
      var Result=0;
      var mRef$2=undefined;
      mRef$2=$As(Self.FOwner,TW3TagObj).FHandle$3;
      if (mRef$2) {
         Result=TVariant.AsInteger(mRef$2.scrollLeft);
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3ScrollInfo.getScrollLeft",Self,"invalid owner handle error");
      }
      return Result
   }
   ,getScrollTop:function(Self) {
      var Result=0;
      var mRef$3=undefined;
      mRef$3=$As(Self.FOwner,TW3TagObj).FHandle$3;
      if (mRef$3) {
         Result=TVariant.AsInteger(mRef$3.scrollTop);
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3ScrollInfo.getScrollTop",Self,"invalid owner handle error");
      }
      return Result
   }
   ,getScrollWidth:function(Self) {
      var Result=0;
      var mRef$4=undefined;
      mRef$4=$As(Self.FOwner,TW3TagObj).FHandle$3;
      if (mRef$4) {
         Result=TVariant.AsInteger(mRef$4.scrollWidth);
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3ScrollInfo.getScrollWidth",Self,"invalid owner handle error");
      }
      return Result
   }
   ,ScrollTo:function(Self, aLeft$8, aTop$8) {
      var mRef$5=undefined;
      mRef$5=$As(Self.FOwner,TW3TagObj).FHandle$3;
      if (mRef$5) {
         mRef$5.scrollLeft=aLeft$8;
         mRef$5.scrollTop=aTop$8;
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3ScrollInfo.ScrollTo",Self,"invalid owner handle error");
      }
   }
   ,ScrollX:function(Self, aLeft$9) {
      var mRef$6=undefined;
      mRef$6=$As(Self.FOwner,TW3TagObj).FHandle$3;
      if (mRef$6) {
         mRef$6.scrollLeft=TInteger.toPxStr(TInteger,aLeft$9);
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3ScrollInfo.ScrollX",Self,"invalid owner handle error");
      }
   }
   ,ScrollY:function(Self, aTop$9) {
      var mRef$7=undefined;
      mRef$7=$As(Self.FOwner,TW3TagObj).FHandle$3;
      if (mRef$7) {
         mRef$7.scrollTop=TInteger.toPxStr(TInteger,aTop$9);
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3ScrollInfo.ScrollY",Self,"invalid owner handle error");
      }
   }
   ,ToString$8:function(Self) {
      var Result="";
      Result=Format("OffsetX=%d"+"\r"+"OffsetY=%d"+"\r"+"ScrollWidth=%d"+"\r"+"ScrollHeight=%d"+"\r",[TW3ScrollInfo.getScrollLeft(Self),TW3ScrollInfo.getScrollTop(Self),TW3ScrollInfo.getScrollWidth(Self),TW3ScrollInfo.getScrollHeight(Self)]);
      return Result
   }
   ,Destroy:TObject.Destroy
   ,AcceptParent$:function($){return $.ClassType.AcceptParent.apply($.ClassType, arguments)}
   ,Create$5:TW3OwnedObject.Create$5
   ,ToString$8$:function($){return $.ClassType.ToString$8($)}
};
var TW3GraphicControl= {
   $ClassName:"TW3GraphicControl",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FCanvas=$.FContext$2=$.FOnPaint=null;
      $.FDirty=false;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FCanvas);
      TObject.Free(Self.FContext$2);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,GetDC$1:function(Self) {
      var Result=undefined;
      if (Self.FHandle$3) {
         Result=Self.FHandle$3.getContext("2d");
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3GraphicControl.GetDC",Self,"invalid control handle error");
      }
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FContext$2=TW3ControlGraphicContext.Create$28$($New(TW3ControlGraphicContext),Self.FHandle$3);
      Self.FCanvas=TW3Canvas.Create$30$($New(TW3Canvas),Self.FContext$2);
   }
   ,Invalidate:function(Self) {
      if (!Self.FDirty) {
         Self.FDirty=true;
         TW3AnimationFrame.ScheduleRefresh(Self);
      }
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("canvas");
      return Result
   }
   ,Paint:function(Self) {
      if (Self.FOnPaint) {
         Self.FOnPaint(Self,Self.FCanvas);
      }
   }
   ,Refresh:function(Self) {
      Self.FDirty=false;
      if ((((!TW3TagObj.getUpdating(Self))&&(Self.FCanvas!==null))&&(Self.FContext$2!==null))&&TW3MovableControl.getVisible$(Self)) {
         TW3GraphicControl.Paint$(Self);
      }
   }
   ,Resize:function(Self) {
      TW3MovableControl.Resize(Self);
      w3_setAttrib(Self.FHandle$3,"width",w3_getStyle(Self.FHandle$3,"width"));
      w3_setAttrib(Self.FHandle$3,"height",w3_getStyle(Self.FHandle$3,"height"));
   }
   ,setHeight:function(Self, aValue$64) {
      TW3MovableControl.setHeight(Self,aValue$64);
      if (Self.FHandle$3) {
         w3_setAttrib(Self.FHandle$3,"height",TInteger.toPxStr(TInteger,aValue$64));
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3GraphicControl.SetHeight",Self,"invalid control handle error");
      }
   }
   ,SetWidth:function(Self, aValue$65) {
      TW3MovableControl.SetWidth(Self,aValue$65);
      if (Self.FHandle$3) {
         w3_setAttrib(Self.FHandle$3,"width",TInteger.toPxStr(TInteger,aValue$65));
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3GraphicControl.SetWidth",Self,"invalid control handle error");
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight$:function($){return $.ClassType.setHeight.apply($.ClassType, arguments)}
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth$:function($){return $.ClassType.SetWidth.apply($.ClassType, arguments)}
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate$:function($){return $.ClassType.Invalidate($)}
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,Paint$:function($){return $.ClassType.Paint($)}
};
function Copy$TW3ControlSizeInfo(s,d) {
   d.siClientHeight=s.siClientHeight;
   d.siClientWidth=s.siClientWidth;
   d.siHeight=s.siHeight;
   d.siOffsetHeight=s.siOffsetHeight;
   d.siOffsetWidth=s.siOffsetWidth;
   d.siScrollHeight=s.siScrollHeight;
   d.siScrollWidth=s.siScrollWidth;
   d.siWidth=s.siWidth;
   return d;
}
function Clone$TW3ControlSizeInfo($) {
   return {
      siClientHeight:$.siClientHeight,
      siClientWidth:$.siClientWidth,
      siHeight:$.siHeight,
      siOffsetHeight:$.siOffsetHeight,
      siOffsetWidth:$.siOffsetWidth,
      siScrollHeight:$.siScrollHeight,
      siScrollWidth:$.siScrollWidth,
      siWidth:$.siWidth
   }
}
function TW3ControlSizeInfo$ToString$9(Self$55) {
   var Result="";
   Result="Width:"+(Self$55.siWidth).toString()+"\r"+"Height:"+(Self$55.siHeight).toString()+"\r"+"ClientWidth:"+(Self$55.siClientWidth).toString()+"\r"+"ClientHeight:"+(Self$55.siClientHeight).toString()+"\r"+"OffsetWidth:"+(Self$55.siOffsetWidth).toString()+"\r"+"OffsetHeight:"+(Self$55.siOffsetHeight).toString()+"\r";
   return Result
}
var TW3CustomFont= {
   $ClassName:"TW3CustomFont",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FOnChange=null;
   }
   ,getColor$1:function(Self) {
      var Result={v:0};
      try {
         var mRef$8=undefined;
         var mText$3="";
         mRef$8=TW3CustomFont.GetHandle$1$(Self);
         if (mRef$8) {
            mText$3=w3_getStyleAsStr(mRef$8,"color");
            Result.v=StrToColor(mText$3);
         } else {
            throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["TW3CustomFont.getColor",TObject.ClassName(Self.ClassType),"Invalid tag handle error"]);
         }
      } finally {return Result.v}
   }
   ,getName:function(Self) {
      var Result="";
      var mHandle=undefined;
      mHandle=TW3CustomFont.GetHandle$1$(Self);
      if (mHandle) {
         Result=w3_getStyleAsStr(mHandle,"fontFamily");
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["TW3CustomFont.getName",TObject.ClassName(Self.ClassType),"Invalid tag handle error"]);
      }
      return Result
   }
   ,getSize:function(Self) {
      var Result=0;
      var mRef$9=undefined;
      mRef$9=TW3CustomFont.GetHandle$1$(Self);
      if (mRef$9) {
         Result=w3_getStyleAsInt(mRef$9,"fontSize");
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["TW3CustomFont.getSize",TObject.ClassName(Self.ClassType),"Invalid tag handle error"]);
      }
      return Result
   }
   ,getWeight:function(Self) {
      var Result="";
      var mRef$10=undefined;
      mRef$10=TW3CustomFont.GetHandle$1$(Self);
      if (mRef$10) {
         Result=w3_getStyleAsStr(mRef$10,"fontWeight");
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["TW3CustomFont.getWeight",TObject.ClassName(Self.ClassType),"Invalid tag handle error"]);
      }
      return Result
   }
   ,setColor$1:function(Self, aNewColor) {
      var mRef$11=undefined;
      mRef$11=TW3CustomFont.GetHandle$1$(Self);
      if (mRef$11) {
         w3_setStyle(mRef$11,"color",ColorToWebStr(aNewColor));
         if (Self.FOnChange) {
            Self.FOnChange(Self);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["TW3CustomFont.setColor",TObject.ClassName(Self.ClassType),"Invalid tag handle error"]);
      }
   }
   ,setName:function(Self, aNewName) {
      var mHandle$1=undefined;
      mHandle$1=TW3CustomFont.GetHandle$1$(Self);
      if (mHandle$1) {
         w3_setStyle(mHandle$1,"fontFamily",aNewName);
         if (Self.FOnChange) {
            Self.FOnChange(Self);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["TW3CustomFont.setName",TObject.ClassName(Self.ClassType),"Invalid tag handle error"]);
      }
   }
   ,setSize:function(Self, aNewSize) {
      var mRef$12=undefined;
      mRef$12=TW3CustomFont.GetHandle$1$(Self);
      if (mRef$12) {
         w3_setStyle(mRef$12,"fontSize",TInteger.toPxStr(TInteger,aNewSize));
         if (Self.FOnChange) {
            Self.FOnChange(Self);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["TW3CustomFont.setSize",TObject.ClassName(Self.ClassType),"Invalid tag handle error"]);
      }
   }
   ,setWeight:function(Self, aNewWeight) {
      var mRef$13=undefined;
      mRef$13=TW3CustomFont.GetHandle$1$(Self);
      if (mRef$13) {
         w3_setStyle(mRef$13,"fontWeight",aNewWeight);
         if (Self.FOnChange) {
            Self.FOnChange(Self);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3FontError),"Method %s in class %s threw exception [%s]",["TW3CustomFont.setWeight",TObject.ClassName(Self.ClassType),"Invalid tag handle error"]);
      }
   }
   ,Destroy:TObject.Destroy
   ,GetHandle$1$:function($){return $.ClassType.GetHandle$1($)}
};
var TW3ControlFont= {
   $ClassName:"TW3ControlFont",
   $Parent:TW3CustomFont,
   $Init:function ($) {
      TW3CustomFont.$Init($);
      $.FOwner$4=null;
   }
   ,GetHandle$1:function(Self) {
      var Result=undefined;
      Result=Self.FOwner$4.FHandle$3;
      return Result
   }
   ,Create$37:function(Self, AOwner$2) {
      TObject.Create(Self);
      if (AOwner$2) {
         Self.FOwner$4=AOwner$2;
      } else {
         EW3TagObj.RaiseCntErrMethod("TW3ControlFont.Create",Self,"Owner was NIL error");
      }
      return Self
   }
   ,Destroy:TObject.Destroy
   ,GetHandle$1$:function($){return $.ClassType.GetHandle$1($)}
   ,Create$37$:function($){return $.ClassType.Create$37.apply($.ClassType, arguments)}
};
var TW3ControlBackground= {
   $ClassName:"TW3ControlBackground",
   $Parent:TW3OwnedObject,
   $Init:function ($) {
      TW3OwnedObject.$Init($);
   }
   ,AcceptParent:function(Self, aObject$2) {
      var Result=false;
      Result=(aObject$2!==null)&&$Is(aObject$2,TW3MovableControl);
      return Result
   }
   ,FromColor:function(Self, aValue$66) {
      var mRef$14=undefined;
      mRef$14=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      mRef$14.style["backgroundColor"]=ColorToWebStr(aValue$66);
   }
   ,FromURL:function(Self, aURL) {
      var mRef$15=undefined;
      mRef$15=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      mRef$15.style["backgroundImage"]=w3_NameToUrlStr(aURL);
      mRef$15.style["backgroundSize"]="auto auto";
   }
   ,FromImageData:function(Self, aImgStr) {
      var mRef$16=undefined;
      mRef$16=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      mRef$16.style["backgroundImage"]=aImgStr;
      mRef$16.style["backgroundSize"]="auto auto";
   }
   ,ToColor$1:function(Self) {
      var Result=0;
      var mRef$17=undefined;
      mRef$17=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      Result=StrToColor(w3_getStyleAsStr(mRef$17,"backgroundColor"));
      return Result
   }
   ,ToURL:function(Self) {
      var Result="";
      var mRef$18=undefined;
      mRef$18=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      Result=w3_getStyleAsStr(mRef$18,"backgroundImage");
      return Result
   }
   ,Destroy:TObject.Destroy
   ,AcceptParent$:function($){return $.ClassType.AcceptParent.apply($.ClassType, arguments)}
   ,Create$5:TW3OwnedObject.Create$5
};
var TW3Constraints= {
   $ClassName:"TW3Constraints",
   $Parent:TW3OwnedObject,
   $Init:function ($) {
      TW3OwnedObject.$Init($);
   }
   ,AcceptParent:function(Self, aObject$3) {
      var Result=false;
      Result=(aObject$3!==null)&&$Is(aObject$3,TW3TagObj);
      return Result
   }
   ,GetMaxHeight:function(Self) {
      var Result=0;
      var mRef$19=undefined;
      mRef$19=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      if (mRef$19) {
         Result=w3_getStyleAsInt(mRef$19,"max-height");
      }
      return Result
   }
   ,GetMaxWidth:function(Self) {
      var Result=0;
      var mRef$20=undefined;
      mRef$20=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      if (mRef$20) {
         Result=w3_getStyleAsInt(mRef$20,"max-width");
      }
      return Result
   }
   ,GetMinHeight:function(Self) {
      var Result=0;
      var mRef$21=undefined;
      mRef$21=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      if (mRef$21) {
         Result=w3_getStyleAsInt(mRef$21,"min-height");
      }
      return Result
   }
   ,GetMinWidth:function(Self) {
      var Result=0;
      var mRef$22=undefined;
      mRef$22=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      if (mRef$22) {
         Result=w3_getStyleAsInt(mRef$22,"min-width");
      }
      return Result
   }
   ,setMaxHeight:function(Self, aValue$67) {
      var mRef$23=undefined;
      mRef$23=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      if (mRef$23) {
         mRef$23.style["max-width"]=TInteger.toPxStr(TInteger,aValue$67);
      }
   }
   ,setMaxWidth:function(Self, aValue$68) {
      var mRef$24=undefined;
      mRef$24=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      if (mRef$24) {
         mRef$24.style["max-width"]=TInteger.toPxStr(TInteger,aValue$68);
      }
   }
   ,setMinHeight:function(Self, aValue$69) {
      var mRef$25=undefined;
      mRef$25=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      if (mRef$25) {
         mRef$25.style["min-height"]=TInteger.toPxStr(TInteger,aValue$69);
      }
   }
   ,setMinWidth:function(Self, aValue$70) {
      var mRef$26=undefined;
      mRef$26=$As(Self.FOwner,TW3MovableControl).FHandle$3;
      if (mRef$26) {
         mRef$26.style["min-width"]=TInteger.toPxStr(TInteger,aValue$70);
      }
   }
   ,Destroy:TObject.Destroy
   ,AcceptParent$:function($){return $.ClassType.AcceptParent.apply($.ClassType, arguments)}
   ,Create$5:TW3OwnedObject.Create$5
};
var TW3AnimationFrame= {
   $ClassName:"TW3AnimationFrame",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
   }
   ,Perform:function() {
      var i$2=0;
      var callbacks = [];
      var controls = [];
      if (vScheduledCallbacks.length>0) {
         callbacks=vScheduledCallbacks;
         vScheduledCallbacks=[];
         var $temp21;
         for(i$2=0,$temp21=callbacks.length;i$2<$temp21;i$2++) {
            callbacks[i$2]();
         }
      }
      if (vScheduledControls.length>0) {
         controls=vScheduledControls;
         vScheduledControls=[];
         var $temp22;
         for(i$2=0,$temp22=controls.length;i$2<$temp22;i$2++) {
            TW3GraphicControl.Refresh(controls[i$2]);
         }
      }
      var $temp23;
      for(i$2=0,$temp23=vOnPerform.length;i$2<$temp23;i$2++) {
         vOnPerform[i$2]();
      }
   }
   ,ScheduleCallback:function(callback$2) {
      vScheduledCallbacks.push(callback$2);
      if (!vPending) {
         w3_RequestAnimationFrame(TW3AnimationFrame.Perform);
      }
   }
   ,ScheduleRefresh:function(control) {
      vScheduledControls.push(control);
      if (!vPending) {
         w3_RequestAnimationFrame(TW3AnimationFrame.Perform);
      }
   }
   ,Destroy:TObject.Destroy
};
ssShift=0;
ssAlt=1;
ssCtrl=2;
ssMeta=3;
ssLeft=4;
ssRight=5;
ssMiddle=6;
var TShiftState= {
   $ClassName:"TShiftState",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FEvent=$.FMouseEvent=null;
      $.FMouseButtons=0;
   }
   ,CheckShiftStateEnum:function(Self, value$3) {
      var Result=false;
      if (Self.FEvent===null) {
         Result=false;
      } else {
         switch (value$3) {
            case 0 :
               Result=Self.FEvent.shiftKey;
               break;
            case 1 :
               Result=Self.FEvent.altKey;
               break;
            case 2 :
               Result=Self.FEvent.ctrlKey;
               break;
            case 3 :
               Result=Self.FEvent.metaKey;
               break;
            case 4 :
               Result=(Self.FMouseButtons&1)!=0;
               break;
            case 5 :
               Result=(Self.FMouseButtons&4)!=0;
               break;
            case 6 :
               Result=(Self.FMouseButtons&2)!=0;
               break;
         }
      }
      return Result
   }
   ,Current:function() {
      var Result=null;
      if (vCurrent===null) {
         vCurrent=TObject.Create($New(TShiftState));
      }
      Result=vCurrent;
      return Result
   }
   ,SetKeyStateEvent:function(Self, evt$8) {
      Self.FEvent=evt$8;
      Self.FMouseEvent=null;
   }
   ,SetMouseEvent:function(Self, evt$9) {
      Self.FEvent=evt$9;
      Self.FMouseEvent=evt$9;
   }
   ,Destroy:TObject.Destroy
};
mbLeft=0;
mbMiddle=1;
mbRight=2;
var TCustomAppContainer= {
   $ClassName:"TCustomAppContainer",
   $Parent:TW3Component,
   $Init:function ($) {
      TW3Component.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3TagObj.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3Component.FinalizeObject
   ,InitializeObject:TW3Component.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3TagObj.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
};
var TDocumentBody= {
   $ClassName:"TDocumentBody",
   $Parent:TCustomAppContainer,
   $Init:function ($) {
      TCustomAppContainer.$Init($);
      $.FOnReSize=null;
   }
   ,CBResize:function(Self) {
      if (Self.FOnReSize) {
         Self.FOnReSize(Self);
      }
   }
   ,getClientHeight:function(Self) {
      var Result=0;
      Result=w3_getStyleAsInt(TW3CustomBrowserAPI.GetBody(),"height");
      return Result
   }
   ,getClientLeft:function(Self) {
      var Result=0;
      Result=0;
      return Result
   }
   ,getClientRect:function(Self) {
      var Result={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      Result.Left$1=0;
      Result.Top$1=0;
      Result.Right$1=w3_getStyleAsInt(TW3CustomBrowserAPI.GetBody(),"width")-1;
      Result.Right$1=w3_getStyleAsInt(TW3CustomBrowserAPI.GetBody(),"height")-1;
      return Result
   }
   ,getClientTop:function(Self) {
      var Result=0;
      Result=0;
      return Result
   }
   ,getClientWidth:function(Self) {
      var Result=0;
      Result=w3_getStyleAsInt(TW3CustomBrowserAPI.GetBody(),"width");
      return Result
   }
   ,getHeight$4:function(Self) {
      var Result=0;
      var mHandle$2=undefined;
      mHandle$2=TW3CustomBrowserAPI.GetWindow();
      if (mHandle$2) {
         Result=TVariant.AsInteger(mHandle$2.innerHeight);
      } else {
         Result=0;
      }
      return Result
   }
   ,getWidth$5:function(Self) {
      var Result=0;
      var mHandle$3=undefined;
      mHandle$3=TW3CustomBrowserAPI.GetWindow();
      if (mHandle$3) {
         Result=TVariant.AsInteger(mHandle$3.innerWidth);
      } else {
         Result=0;
      }
      return Result
   }
   ,makeElementTagId:function(Self) {
      var Result="";
      Result="";
      return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=TW3CustomBrowserAPI.GetBody();
      return Result
   }
   ,StyleTagObject:function(Self) {
   }
   ,_setOnResize:function(Self, aValue$71) {
      var mRef$27=null;
      if (aValue$71) {
         mRef$27=$Event0(Self,TDocumentBody.CBResize);
      } else {
         mRef$27=$Event0(Self,TW3Component.CBNoBehavior$);
      }
      w3_bind2(Self.FHandle$3,"onresize",mRef$27);
      Self.FOnReSize=aValue$71;
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3TagObj.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3Component.FinalizeObject
   ,InitializeObject:TW3Component.InitializeObject
   ,makeElementTagId$:function($){return $.ClassType.makeElementTagId($)}
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
};
var TDIVAppContainer= {
   $ClassName:"TDIVAppContainer",
   $Parent:TCustomAppContainer,
   $Init:function ($) {
      TCustomAppContainer.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3TagObj.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3Component.FinalizeObject
   ,InitializeObject:TW3Component.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3TagObj.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
};
var EW3TagObj= {
   $ClassName:"EW3TagObj",
   $Parent:EW3Exception,
   $Init:function ($) {
      EW3Exception.$Init($);
   }
   ,RaiseCntErrMethod:function(methName, instance, msg) {
      throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",[methName,(instance!==null)?TObject.ClassName(instance.ClassType):"nil",msg]);
   }
   ,Destroy:Exception.Destroy
};
var EW3CustomControl= {
   $ClassName:"EW3CustomControl",
   $Parent:EW3Exception,
   $Init:function ($) {
      EW3Exception.$Init($);
   }
   ,Destroy:Exception.Destroy
};
var TObjectList= {
   $ClassName:"TObjectList",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FData=[];
      $.FOnAdded=null;
      $.FOnClear=null;
      $.FOnDeleted=null;
   }
   ,Add:function(Self, Value$11) {
      var Result=0;
      Result=Self.FData.length;
      Self.FData.push(Value$11);
      if (Self.FOnAdded) {
         Self.FOnAdded(Self);
      }
      return Result
   }
   ,Clear:function(Self) {
      Self.FData.length=0;
      if (Self.FOnClear) {
         Self.FOnClear(Self);
      }
   }
   ,Create$15:function(Self) {
      TObject.Create(Self);
      return Self
   }
   ,Destroy:function(Self) {
      Self.FData.length=0;
      TObject.Destroy(Self);
   }
   ,GetCount:function(Self) {
      var Result=0;
      Result=Self.FData.length;
      return Result
   }
   ,GetItem:function(Self, index$3) {
      var Result=null;
      Result=Self.FData[index$3];
      return Result
   }
   ,IndexOf:function(Self, Value$12) {
      var Result=0;
      Result=Self.FData.indexOf(Value$12);
      return Result
   }
   ,Insert$1:function(Self, Index, Value$13) {
      Self.FData.splice(Index,0,Value$13);
   }
   ,Remove:function(Self, ondex) {
      Self.FData.splice(ondex,1)
      ;
      if (Self.FOnDeleted) {
         Self.FOnDeleted(Self);
      }
   }
   ,SetItem:function(Self, index$4, value$4) {
      Self.FData[index$4]=value$4;
   }
   ,Swap$1:function(Self, aFirst, aSecond) {
      $ArraySwap(Self.FData,aFirst,aSecond);
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,Create$15$:function($){return $.ClassType.Create$15($)}
};
var TStringList= {
   $ClassName:"TStringList",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FData$1=[];
      $.FOnAdded$1=null;
      $.FOnClear$1=null;
      $.FOnDeleted$1=null;
   }
   ,Add$1:function(Self, value$5) {
      var Result=0;
      Result=Self.FData$1.length;
      Self.FData$1.push(value$5);
      if (Self.FOnAdded$1) {
         Self.FOnAdded$1(Self);
      }
      return Result
   }
   ,Clear$1:function(Self) {
      Self.FData$1.length=0;
      if (Self.FOnClear$1) {
         Self.FOnClear$1(Self);
      }
   }
   ,Create$16:function(Self) {
      TObject.Create(Self);
      return Self
   }
   ,Destroy:function(Self) {
      Self.FData$1.length=0;
      TObject.Destroy(Self);
   }
   ,GetCount$1:function(Self) {
      var Result=0;
      Result=Self.FData$1.length;
      return Result
   }
   ,GetItem$1:function(Self, index$5) {
      var Result="";
      Result=Self.FData$1[index$5];
      return Result
   }
   ,GetText:function(Self) {
      var Result="";
      Result=(Self.FData$1).join("\r")+"\r";
      return Result
   }
   ,IndexOf$1:function(Self, Value$14) {
      var Result=0;
      Result=Self.FData$1.indexOf(Value$14);
      return Result
   }
   ,Insert$2:function(Self, Index$1, Value$15) {
      Self.FData$1.splice(Index$1,0,Value$15);
   }
   ,Remove$1:function(Self, index$6) {
      Self.FData$1.splice(index$6,1)
      ;
      if (Self.FOnDeleted$1) {
         Self.FOnDeleted$1(Self);
      }
   }
   ,SetItem$1:function(Self, index$7, Value$16) {
      Self.FData$1[index$7]=Value$16;
   }
   ,SetText:function(Self, value$6) {
      value$6={v:value$6};
      var xpos$2=0;
      var mTemp$13="";
      Self.FData$1.length=0;
      xpos$2=(value$6.v.indexOf("\r")+1);
      if (xpos$2>0) {
         do {
            xpos$2=(value$6.v.indexOf("\r")+1);
            if (xpos$2>0) {
               mTemp$13=value$6.v.substr(0,(xpos$2-1));
               Delete(value$6,1,xpos$2);
               if (value$6.v.length>0) {
                  if (value$6.v.charAt(0)=="\n") {
                     Delete(value$6,1,1);
                  }
               }
               Self.FData$1.push(mTemp$13);
            }
         } while (!(xpos$2<1));
         if (value$6.v.length>0) {
            Self.FData$1.push(value$6.v);
         }
      } else {
         Self.FData$1.push(value$6.v);
      }
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,Create$16$:function($){return $.ClassType.Create$16($)}
};
var EW3FontError= {
   $ClassName:"EW3FontError",
   $Parent:EW3Exception,
   $Init:function ($) {
      EW3Exception.$Init($);
   }
   ,Destroy:Exception.Destroy
};
function Copy$TW3TextMetrics(s,d) {
   d.Width$2=s.Width$2;
   return d;
}
function Clone$TW3TextMetrics($) {
   return {
      Width$2:$.Width$2
   }
}
var TW3ImageData= {
   $ClassName:"TW3ImageData",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FHandle=null;
   }
   ,fromContextNew:function(Self, aContextRef, aWidth$6, aHeight$6) {
      var mRef$28=null;
      if (aContextRef) {
         if ((aWidth$6>0)&&(aHeight$6>0)) {
            try {
               mRef$28=aContextRef.createImageData(aWidth$6,aHeight$6);
            } catch ($e) {
               var e$5=$W($e);
               throw Exception.Create($New(Exception),"Failed to initialize from graphics-context: "+"createImageData() failed with \""+e$5.FMessage+"\"");
            }
            Self.FHandle=mRef$28;
         } else {
            throw Exception.Create($New(Exception),"Failed to initialize from graphics-context: "+"invalid width or height error");
         }
      } else {
         throw Exception.Create($New(Exception),"Failed to initialize from graphics-context: "+"reference was NIL error");
      }
   }
   ,fromImageData:function(Self, aImageDataRef) {
      /* null */
Self.FHandle=aImageDataRef;
   }
   ,getA:function(Self, x$23, y$11) {
      var Result=0;
      var mIndex$3=0;
      mIndex$3=(Self.FHandle.width*4*y$11)+(x$23*4);
      Result=Self.FHandle.data[(mIndex$3+3)];
      return Result
   }
   ,getB:function(Self, x$24, y$12) {
      var Result=0;
      var mIndex$4=0;
      mIndex$4=(Self.FHandle.width*4*y$12)+(x$24*4);
      Result=Self.FHandle.data[(mIndex$4+2)];
      return Result
   }
   ,getColor:function(Self, x$25, y$13) {
      var Result=0;
      var mIndex$5=0;
      if ((((x$25>=0)&&(x$25<Self.FHandle.width))&&(y$13>=0))&&(y$13<Self.FHandle.height)) {
         mIndex$5=(Self.FHandle.width*4*y$13)+(x$25*4);
         Result=RGBToColor(Self.FHandle.data[mIndex$5],Self.FHandle.data[(mIndex$5+1)],Self.FHandle.data[(mIndex$5+2)]);
      } else {
         Result=536870911;
      }
      return Result
   }
   ,getG:function(Self, x$26, y$14) {
      var Result=0;
      var mIndex$6=0;
      mIndex$6=(Self.FHandle.width*4*y$14)+(x$26*4);
      Result=Self.FHandle.data[(mIndex$6+1)];
      return Result
   }
   ,getHeight:function(Self) {
      var Result=0;
      Result=Self.FHandle.height;
      return Result
   }
   ,getPixel:function(Self, x$27, y$15) {
      var Result={A$1:0,B:0,G:0,R:0};
      var mIndex$7=0;
      mIndex$7=(Self.FHandle.width*4*y$15)+(x$27*4);
      Result.R=Self.FHandle.data[mIndex$7];
      Result.G=Self.FHandle.data[(mIndex$7+1)];
      Result.B=Self.FHandle.data[(mIndex$7+2)];
      Result.A$1=Self.FHandle.data[(mIndex$7+3)];
      return Result
   }
   ,getPixelEx:function(Self, x$28, y$16, R$3, G$3, B$3, A$4) {
      var mIndex$8=0;
      mIndex$8=(Self.FHandle.width*4*y$16)+(x$28*4);
      R$3.v=Self.FHandle.data[mIndex$8];
      G$3.v=Self.FHandle.data[(mIndex$8+1)];
      B$3.v=Self.FHandle.data[(mIndex$8+2)];
      A$4.v=Self.FHandle.data[(mIndex$8+3)];
   }
   ,getR:function(Self, x$29, y$17) {
      var Result=0;
      var mIndex$9=0;
      mIndex$9=(Self.FHandle.width*4*y$17)+(x$29*4);
      Result=Self.FHandle.data[mIndex$9];
      return Result
   }
   ,getWidth:function(Self) {
      var Result=0;
      Result=Self.FHandle.width;
      return Result
   }
   ,setA:function(Self, x$30, y$18, aValue$72) {
      var mIndex$10=0;
      mIndex$10=(Self.FHandle.width*4*y$18)+(x$30*4);
      Self.FHandle.data[(mIndex$10+3)]=aValue$72;
   }
   ,setB:function(Self, x$31, y$19, aValue$73) {
      var mIndex$11=0;
      mIndex$11=(Self.FHandle.width*4*y$19)+(x$31*4);
      Self.FHandle.data[(mIndex$11+2)]=aValue$73;
   }
   ,setColor:function(Self, x$32, y$20, aValue$74) {
      var mIndex$12=0;
      if ((((x$32>=0)&&(x$32<Self.FHandle.width))&&(y$20>=0))&&(y$20<Self.FHandle.height)) {
         mIndex$12=(Self.FHandle.width*4*y$20)+(x$32*4);
         Self.FHandle.data[mIndex$12]=((aValue$74>>>16)&255);
         Self.FHandle.data[(mIndex$12+1)]=((aValue$74>>>8)&255);
         Self.FHandle.data[(mIndex$12+2)]=((aValue$74>>>0)&255);
         Self.FHandle.data[(mIndex$12+3)]=255;
      }
   }
   ,setG:function(Self, x$33, y$21, aValue$75) {
      var mIndex$13=0;
      mIndex$13=(Self.FHandle.width*4*y$21)+(x$33*4);
      Self.FHandle.data[(mIndex$13+1)]=aValue$75;
   }
   ,setPixel:function(Self, x$34, y$22, aValue$76) {
      var mIndex$14=0;
      mIndex$14=(Self.FHandle.width*4*y$22)+(x$34*4);
      Self.FHandle.data[mIndex$14]=aValue$76.R;
      Self.FHandle.data[(mIndex$14+1)]=aValue$76.G;
      Self.FHandle.data[(mIndex$14+2)]=aValue$76.B;
      Self.FHandle.data[(mIndex$14+3)]=aValue$76.A$1;
   }
   ,setPixelC:function(Self, x$35, y$23, aColor$3) {
      var mIndex$15=0;
      mIndex$15=(Self.FHandle.width*4*y$23)+(x$35*4);
      Self.FHandle.data[mIndex$15]=((aColor$3>>>16)&255);
      Self.FHandle.data[(mIndex$15+1)]=((aColor$3>>>8)&255);
      Self.FHandle.data[(mIndex$15+2)]=((aColor$3>>>0)&255);
      Self.FHandle.data[(mIndex$15+3)]=255;
   }
   ,setPixelEx:function(Self, x$36, y$24, R$4, G$4, B$4, A$5) {
      var mIndex$16=0;
      mIndex$16=(Self.FHandle.width*4*y$24)+(x$36*4);
      Self.FHandle.data[mIndex$16]=R$4;
      Self.FHandle.data[(mIndex$16+1)]=G$4;
      Self.FHandle.data[(mIndex$16+2)]=B$4;
      Self.FHandle.data[(mIndex$16+3)]=A$5;
   }
   ,setR:function(Self, x$37, y$25, aValue$77) {
      var mIndex$17=0;
      mIndex$17=(Self.FHandle.width*4*y$25)+(x$37*4);
      Self.FHandle.data[mIndex$17]=aValue$77;
   }
   ,toDataUrl:function(Self) {
      var Result="";
      var mContext=null;
      var mCanvas=null;
      mContext=TW3GraphicContext.Create$27$($New(TW3GraphicContext),null);
      try {
         TW3CustomGraphicContext.Allocate$(mContext,TW3ImageData.getWidth(Self),TW3ImageData.getHeight(Self));
         mCanvas=TW3Canvas.Create$30$($New(TW3Canvas),mContext);
         try {
            TW3Canvas.PutImageData(mCanvas,Self,0,0);
            Result=TW3Canvas.ToDataURL(mCanvas,"image/png");
            WriteLn(Result);
         } finally {
            TObject.Free(mCanvas);
         }
      } finally {
         TObject.Free(mContext);
      }
      return Result
   }
   ,Destroy:TObject.Destroy
};
var TW3CustomGraphicContext= {
   $ClassName:"TW3CustomGraphicContext",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
   }
   ,Allocate:function(Self, aWidth$7, aHeight$7) {
      if (TW3CustomGraphicContext.getOwnsReference$(Self)) {
         if (VarIsValidRef(TW3CustomGraphicContext.GetDC$(Self))) {
            TW3CustomGraphicContext.Release$(Self);
         }
         TW3CustomGraphicContext.SetSize$(Self,aWidth$7,aHeight$7);
      } else {
         throw Exception.Create($New(Exception),"Cannot modify current graphics context");
      }
   }
   ,BackingStorePixelRatio:function(Self) {
      var Result=0;
      var dc = undefined;
      dc=TW3CustomGraphicContext.GetDC$(Self);
      
     Result = (dc).webkitBackingStorePixelRatio ||
                (dc).mozBackingStorePixelRatio ||
                (dc).msBackingStorePixelRatio ||
                (dc).oBackingStorePixelRatio ||
                (dc).backingStorePixelRatio || 1
  return Result
   }
   ,Release:function(Self) {
      if (TW3CustomGraphicContext.getOwnsReference$(Self)) {
         if (VarIsValidRef(TW3CustomGraphicContext.GetDC$(Self))) {
            TW3CustomGraphicContext.ReleaseDC$(Self);
         }
      } else {
         throw Exception.Create($New(Exception),"Cannot modify current graphics context");
      }
   }
   ,Destroy:TObject.Destroy
   ,Allocate$:function($){return $.ClassType.Allocate.apply($.ClassType, arguments)}
   ,GetDC$:function($){return $.ClassType.GetDC($)}
   ,GetHandle$:function($){return $.ClassType.GetHandle($)}
   ,GetHeight$:function($){return $.ClassType.GetHeight($)}
   ,getOwnsReference$:function($){return $.ClassType.getOwnsReference($)}
   ,GetWidth$:function($){return $.ClassType.GetWidth($)}
   ,Release$:function($){return $.ClassType.Release($)}
   ,ReleaseDC$:function($){return $.ClassType.ReleaseDC($)}
   ,SetSize$:function($){return $.ClassType.SetSize.apply($.ClassType, arguments)}
};
var TW3GraphicContext= {
   $ClassName:"TW3GraphicContext",
   $Parent:TW3CustomGraphicContext,
   $Init:function ($) {
      TW3CustomGraphicContext.$Init($);
      $.FObjId="";
      $.FObjRef=$.FOwner$1=undefined;
   }
   ,Create$27:function(Self, AOwner$3) {
      TObject.Create(Self);
      Self.FObjRef=w3_createHtmlElement("canvas");
      Self.FObjId=w3_getUniqueObjId();
      Self.FObjRef.id=Self.FObjId;
      Self.FOwner$1=AOwner$3;
      if (Self.FOwner$1) {
         w3_setElementParentByRef(Self.FObjRef,Self.FOwner$1);
      }
      return Self
   }
   ,Destroy:function(Self) {
      if (Self.FOwner$1) {
         w3_RemoveElementByRef(Self.FObjRef,Self.FOwner$1);
      }
      Self.FOwner$1=null;
      Self.FObjRef=null;
      TObject.Destroy(Self);
   }
   ,GetDC:function(Self) {
      var Result=undefined;
      if (Self.FObjRef) {
         Result=Self.FObjRef.getContext("2d");
      } else {
         Result=null;
      }
      return Result
   }
   ,GetHandle:function(Self) {
      var Result=undefined;
      Result=Self.FObjRef;
      return Result
   }
   ,GetHeight:function(Self) {
      var Result=0;
      if (Self.FObjRef) {
         Result=parseInt(Self.FObjRef.height,10);
      } else {
         Result=0;
      }
      return Result
   }
   ,getOwnsReference:function(Self) {
      var Result=false;
      Result=true;
      return Result
   }
   ,GetWidth:function(Self) {
      var Result=0;
      if (Self.FObjRef) {
         Result=parseInt(Self.FObjRef.width,10);
      } else {
         Result=0;
      }
      return Result
   }
   ,ReleaseDC:function(Self) {
      if (Self.FObjRef) {
         Self.FObjRef.width=0;
         Self.FObjRef.height=0;
      }
   }
   ,SetSize:function(Self, aNewWidth, aNewHeight) {
      if (Self.FObjRef) {
         Self.FObjRef.width=aNewWidth;
         Self.FObjRef.height=aNewHeight;
      }
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,Allocate:TW3CustomGraphicContext.Allocate
   ,GetDC$:function($){return $.ClassType.GetDC($)}
   ,GetHandle$:function($){return $.ClassType.GetHandle($)}
   ,GetHeight$:function($){return $.ClassType.GetHeight($)}
   ,getOwnsReference$:function($){return $.ClassType.getOwnsReference($)}
   ,GetWidth$:function($){return $.ClassType.GetWidth($)}
   ,Release:TW3CustomGraphicContext.Release
   ,ReleaseDC$:function($){return $.ClassType.ReleaseDC($)}
   ,SetSize$:function($){return $.ClassType.SetSize.apply($.ClassType, arguments)}
   ,Create$27$:function($){return $.ClassType.Create$27.apply($.ClassType, arguments)}
};
var TW3ControlGraphicContext= {
   $ClassName:"TW3ControlGraphicContext",
   $Parent:TW3CustomGraphicContext,
   $Init:function ($) {
      TW3CustomGraphicContext.$Init($);
      $.FCtrlTag=undefined;
   }
   ,Create$28:function(Self, aControlHandle) {
      TObject.Create(Self);
      if (aControlHandle) {
         Self.FCtrlTag=aControlHandle;
      } else {
         throw Exception.Create($New(Exception),"Control handle is invalid error");
      }
      return Self
   }
   ,GetDC:function(Self) {
      var Result=undefined;
      Result=Self.FCtrlTag.getContext("2d");
      return Result
   }
   ,GetHandle:function(Self) {
      var Result=undefined;
      Result=Self.FCtrlTag;
      return Result
   }
   ,GetHeight:function(Self) {
      var Result=0;
      Result=w3_getPropertyAsInt(Self.FCtrlTag,"height");
      return Result
   }
   ,getOwnsReference:function(Self) {
      var Result=false;
      Result=false;
      return Result
   }
   ,GetWidth:function(Self) {
      var Result=0;
      Result=w3_getPropertyAsInt(Self.FCtrlTag,"width");
      return Result
   }
   ,ReleaseDC:function(Self) {
   }
   ,SetSize:function(Self, aNewWidth$1, aNewHeight$1) {
   }
   ,Destroy:TObject.Destroy
   ,Allocate:TW3CustomGraphicContext.Allocate
   ,GetDC$:function($){return $.ClassType.GetDC($)}
   ,GetHandle$:function($){return $.ClassType.GetHandle($)}
   ,GetHeight$:function($){return $.ClassType.GetHeight($)}
   ,getOwnsReference$:function($){return $.ClassType.getOwnsReference($)}
   ,GetWidth$:function($){return $.ClassType.GetWidth($)}
   ,Release:TW3CustomGraphicContext.Release
   ,ReleaseDC$:function($){return $.ClassType.ReleaseDC($)}
   ,SetSize$:function($){return $.ClassType.SetSize.apply($.ClassType, arguments)}
   ,Create$28$:function($){return $.ClassType.Create$28.apply($.ClassType, arguments)}
};
var TW3CanvasPattern= {
   $ClassName:"TW3CanvasPattern",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FHandle$1=undefined;
   }
   ,Destroy:TObject.Destroy
};
var TW3CanvasGradient= {
   $ClassName:"TW3CanvasGradient",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FHandle$2=undefined;
   }
   ,AddColorStop$3:function(Self, offset, aColor$4) {
      Self.FHandle$2.addColorStop(offset,ColorToWebStr(aColor$4));
   }
   ,AddColorStop$2:function(Self, offset$1, R$5, G$5, B$5) {
      Self.FHandle$2.addColorStop(offset$1,ColorToWebStr(RGBToColor(R$5,G$5,B$5)));
   }
   ,AddColorStop$1:function(Self, offset$2, R$6, G$6, B$6, A$6) {
      Self.FHandle$2.addColorStop(offset$2,ColorToStrA(RGBToColor(R$6,G$6,B$6),A$6));
   }
   ,AddColorStop:function(Self, offset$3, aColor$5) {
      Self.FHandle$2.addColorStop(offset$3,aColor$5);
   }
   ,Create$29:function(Self, aHandle$1) {
      TObject.Create(Self);
      Self.FHandle$2=aHandle$1;
      return Self
   }
   ,Destroy:TObject.Destroy
};
var TW3Canvas= {
   $ClassName:"TW3Canvas",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FContext=$.FDC=null;
   }
   ,ArcF:function(Self, x$38, y$26, radius, startAngle, endAngle, anticlockwise) {
      Self.FDC.arc(x$38,y$26,radius,startAngle,endAngle,anticlockwise);
   }
   ,ArcToF:function(Self, x1$3, y1$3, x2$1, y2$1, radius$1) {
      Self.FDC.arcTo(x1$3,y1$3,x2$1,y2$1,radius$1);
   }
   ,BeginPath:function(Self) {
      Self.FDC.beginPath();
   }
   ,BezierCurveToF:function(Self, cp1x, cp1y, cp2x, cp2y, x$39, y$27) {
      Self.FDC.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x$39,y$27);
   }
   ,Clear$3:function(Self) {
      if (Self.FContext) {
         Self.FDC.clearRect(0,0,TW3CustomGraphicContext.GetWidth$(Self.FContext),TW3CustomGraphicContext.GetHeight$(Self.FContext));
      }
   }
   ,ClearRect:function(Self, aRect$7) {
      Self.FDC.clearRect(aRect$7.Left$1,aRect$7.Top$1,TRect$Width$1(aRect$7),TRect$Height$1(aRect$7));
   }
   ,ClearRectF:function(Self, aLeft$10, aTop$10, aWidth$8, aHeight$8) {
      Self.FDC.clearRect(aLeft$10,aTop$10,aWidth$8,aHeight$8);
   }
   ,ClearShadow:function(Self) {
      Self.FDC.clearShadow();
   }
   ,Clip$2:function(Self) {
      Self.FDC.clip();
   }
   ,ClosePath:function(Self) {
      Self.FDC.closePath();
   }
   ,Create$30:function(Self, Context$2) {
      TObject.Create(Self);
      Self.FContext=Context$2;
      if (!Self.FContext) {
         throw Exception.Create($New(Exception),"Invalid canvas context error");
      } else {
         Self.FDC=TW3CustomGraphicContext.GetDC$(Self.FContext);
      }
      return Self
   }
   ,CreateHorizontalGradient:function(Self, x0, x1$4) {
      var Result=null;
      Result=TW3CanvasGradient.Create$29($New(TW3CanvasGradient),Self.FDC.createLinearGradient(x0,0,x1$4,0));
      return Result
   }
   ,CreateImageData$1:function(Self, reference) {
      var Result=null;
      var mTemp$14 = null;
      mTemp$14=Self.FDC.createImageData(reference.FHandle);
      if (mTemp$14) {
         Result=TObject.Create($New(TW3ImageData));
         TW3ImageData.fromImageData(Result,mTemp$14);
      }
      return Result
   }
   ,CreateImageData:function(Self, sw, sh) {
      var Result=null;
      var mTemp$15 = null;
      mTemp$15=Self.FDC.createImageData(sw,sh);
      if (mTemp$15) {
         Result=TObject.Create($New(TW3ImageData));
         TW3ImageData.fromImageData(Result,mTemp$15);
      }
      return Result
   }
   ,CreateLinearGradientF:function(Self, x0$1, y0, x1$5, y1$4) {
      var Result=null;
      var mTemp$16=undefined;
      mTemp$16=Self.FDC.createLinearGradient(x0$1,y0,x1$5,y1$4);
      if (mTemp$16) {
         Result=TW3CanvasGradient.Create$29($New(TW3CanvasGradient),mTemp$16);
      }
      return Result
   }
   ,CreatePattern:function(Self, image, aRepeat) {
      var Result=null;
      Result=TObject.Create($New(TW3CanvasPattern));
      Result.FHandle$1=Self.FDC.createPattern(image,aRepeat);
      return Result
   }
   ,CreateRadialGradientF:function(Self, x0$2, y0$1, r0, x1$6, y1$5, r1) {
      var Result=null;
      var mTemp$17=undefined;
      try {
         mTemp$17=Self.FDC.createRadialGradient(x0$2,y0$1,r0,x1$6,y1$5,r1);
      } catch ($e) {
         var e$6=$W($e);
         throw Exception.Create($New(Exception),"Failed to create gradient object:"+e$6.FMessage);
      }
      Result=TW3CanvasGradient.Create$29($New(TW3CanvasGradient),mTemp$17);
      return Result
   }
   ,CreateVerticalGradient:function(Self, y0$2, y1$6) {
      var Result=null;
      Result=TW3CanvasGradient.Create$29($New(TW3CanvasGradient),Self.FDC.createLinearGradient(0,y0$2,0,y1$6));
      return Result
   }
   ,DrawImage$2:function(Self, image$1, sx, sy, sw$1, sh$1, dx$2, dy$2, dw, dh) {
      Self.FDC.drawImage(image$1,sx,sy,sw$1,sh$1,dx$2,dy$2,dw,dh);
   }
   ,DrawImage$1:function(Self, image$2, x$40, y$28, ow, oh) {
      Self.FDC.drawImage(image$2,x$40,y$28,ow,oh);
   }
   ,DrawImage:function(Self, image$3, x$41, y$29) {
      Self.FDC.drawImage(image$3,x$41,y$29);
   }
   ,DrawImageF$2:function(Self, imageHandle, sx$1, sy$1, sw$2, sh$2, dx$3, dy$3, dw$1, dh$1) {
      Self.FDC.drawImage(imageHandle,sx$1,sy$1,sw$2,sh$2,dx$3,dy$3,dw$1,dh$1);
   }
   ,DrawImageF$1:function(Self, imageHandle$1, x$42, y$30, ow$1, oh$1) {
      Self.FDC.drawImage(imageHandle$1,x$42,y$30,ow$1,oh$1);
   }
   ,DrawImageF:function(Self, imageHandle$2, x$43, y$31) {
      Self.FDC.drawImage(imageHandle$2,x$43,y$31);
   }
   ,DrawPart$2:function(Self, target$6, srcX, srcY, srcWidth, srcHeight, dstX, dstY, rotation, alpha) {
      var mAlpha=0;
      if (target$6!==null) {
         mAlpha=TW3Canvas.getGlobalAlpha(target$6);
         TW3Canvas.setGlobalAlpha(target$6,(1/255)*alpha);
         target$6.FDC.translate(dstX,dstY);
         target$6.FDC.rotate(DegToRad(rotation));
         target$6.FDC.drawImage(TW3CustomGraphicContext.GetHandle$(Self.FContext),srcX,srcY,srcWidth,srcHeight,0,0,srcWidth,srcHeight);
         target$6.FDC.setTransform(1,0,0,1,0,0);
         TW3Canvas.setGlobalAlpha(target$6,mAlpha);
      }
   }
   ,DrawPart$1:function(Self, target$7, srcX$1, srcY$1, srcWidth$1, srcHeight$1, dstX$1, dstY$1, rotation$1) {
      if (target$7!==null) {
         target$7.FDC.translate(dstX$1,dstY$1);
         target$7.FDC.rotate(DegToRad(rotation$1));
         target$7.FDC.drawImage(TW3CustomGraphicContext.GetHandle$(Self.FContext),srcX$1,srcY$1,srcWidth$1,srcHeight$1,0,0,srcWidth$1,srcHeight$1);
         target$7.FDC.setTransform(1,0,0,1,0,0);
      }
   }
   ,DrawPart:function(Self, target$8, srcX$2, srcY$2, srcWidth$2, srcHeight$2, dstX$2, dstY$2) {
      if (target$8!==null) {
         target$8.FDC.translate(dstX$2,dstY$2);
         target$8.FDC.drawImage(TW3CustomGraphicContext.GetHandle$(Self.FContext),srcX$2,srcY$2,srcWidth$2,srcHeight$2,0,0,srcWidth$2,srcHeight$2);
         target$8.FDC.setTransform(1,0,0,1,0,0);
      }
   }
   ,DrawTile$2:function(Self, target$9, TileID, TileSize, dstX$3, dstY$3, rotation$2, alpha$1) {
      var srcX$3=0;
      var srcY$3=0;
      if (target$9!==null) {
         srcX$3=(TileID%Math.floor(TW3CustomGraphicContext.GetWidth$(Self.FContext)/TileSize))*TileSize;
         srcY$3=Math.floor(TileID/TW3CustomGraphicContext.GetWidth$(Self.FContext)/TileSize)*TileSize;
         TW3Canvas.DrawPart$2(Self,target$9,srcX$3,srcY$3,TileSize,TileSize,dstX$3,dstY$3,rotation$2,alpha$1);
      }
   }
   ,DrawTile$1:function(Self, target$10, TileID$1, TileSize$1, dstX$4, dstY$4, rotation$3) {
      var srcX$4=0;
      var srcY$4=0;
      if (target$10!==null) {
         srcX$4=(TileID$1%Math.floor(TW3CustomGraphicContext.GetWidth$(Self.FContext)/TileSize$1))*TileSize$1;
         srcY$4=Math.floor(TileID$1/TW3CustomGraphicContext.GetWidth$(Self.FContext)/TileSize$1)*TileSize$1;
         TW3Canvas.DrawPart$1(Self,target$10,srcX$4,srcY$4,TileSize$1,TileSize$1,dstX$4,dstY$4,rotation$3);
      }
   }
   ,DrawTile:function(Self, target$11, TileID$2, TileSize$2, dstX$5, dstY$5) {
      var srcX$5=0;
      var srcY$5=0;
      if (target$11!==null) {
         srcX$5=(TileID$2%Math.floor(TW3CustomGraphicContext.GetWidth$(Self.FContext)/TileSize$2))*TileSize$2;
         srcY$5=Math.floor(TileID$2/TW3CustomGraphicContext.GetWidth$(Self.FContext)/TileSize$2)*TileSize$2;
         TW3Canvas.DrawPart(Self,target$11,srcX$5,srcY$5,TileSize$2,TileSize$2,dstX$5,dstY$5);
      }
   }
   ,DrawTo$2:function(Self, target$12, dstX$6, dstY$6, rotation$4, alpha$2) {
      var mAlpha$1=0;
      if (target$12!==null) {
         mAlpha$1=target$12.FDC.globalAlpha;
         TW3Canvas.setGlobalAlpha(target$12,(1/255)*alpha$2);
         target$12.FDC.translate(dstX$6,dstY$6);
         target$12.FDC.rotate(DegToRad(rotation$4));
         target$12.FDC.drawImage(TW3CustomGraphicContext.GetHandle$(Self.FContext),0,0);
         target$12.FDC.setTransform(1,0,0,1,0,0);
         TW3Canvas.setGlobalAlpha(target$12,mAlpha$1);
      }
   }
   ,DrawTo$1:function(Self, target$13, dstX$7, dstY$7, rotation$5) {
      if (target$13!==null) {
         target$13.FDC.translate(dstX$7,dstY$7);
         target$13.FDC.rotate(DegToRad(rotation$5));
         target$13.FDC.drawImage(TW3CustomGraphicContext.GetHandle$(Self.FContext),0,0);
         target$13.FDC.setTransform(1,0,0,1,0,0);
      }
   }
   ,DrawTo:function(Self, target$14, dstX$8, dstY$8) {
      if (target$14!==null) {
         target$14.FDC.drawImage(TW3CustomGraphicContext.GetHandle$(Self.FContext),dstX$8,dstY$8);
      }
   }
   ,Ellipse$1:function(Self, aRect$8) {
      Self.FDC.save();
      Self.FDC.translate((aRect$8.Right+aRect$8.Left)*0.5,(aRect$8.Top+aRect$8.Bottom)*0.5);
      Self.FDC.scale((aRect$8.Right-aRect$8.Left)*0.5,(aRect$8.Top-aRect$8.Bottom)*0.5);
      Self.FDC.moveTo(1,0);
      Self.FDC.arc(0,0,1,0,2*Math.PI,false);
      Self.FDC.restore();
   }
   ,Ellipse:function(Self, x1$7, y1$7, x2$2, y2$2) {
      var r$4 = {Bottom:0,Left:0,Right:0,Top:0};
      r$4=CreateBounded(x1$7,y1$7,x2$2,y2$2);
      TW3Canvas.Ellipse$1(Self,r$4);
   }
   ,Fill:function(Self) {
      Self.FDC.fill();
   }
   ,FillBounds:function(Self, aLeft$11, aTop$11, aRight$2, aBottom$2) {
      Self.FDC.fillRect(aLeft$11,aTop$11,aRight$2-aLeft$11,aBottom$2-aTop$11);
   }
   ,FillRect$1:function(Self, aLeft$12, aTop$12, aWidth$9, aHeight$9) {
      Self.FDC.fillRect(aLeft$12,aTop$12,aWidth$9,aHeight$9);
   }
   ,FillRect:function(Self, aRect$9) {
      Self.FDC.fillRect(aRect$9.Left$1,aRect$9.Top$1,TRect$Width$1(aRect$9),TRect$Height$1(aRect$9));
   }
   ,FillRectF$2:function(Self, aLeft$13, aTop$13, aWidth$10, aHeight$10) {
      Self.FDC.fillRect(aLeft$13,aTop$13,aWidth$10,aHeight$10);
   }
   ,FillRectF$1:function(Self, aRect$10) {
      Self.FDC.fillRect(aRect$10.Left,aRect$10.Top,TRectF$Width(aRect$10),TRectF$Height(aRect$10));
   }
   ,FillRectF:function(Self, aRect$11) {
      Self.FDC.fillRect(aRect$11.Left$1,aRect$11.Top$1,TRect$Width$1(aRect$11),TRect$Height$1(aRect$11));
   }
   ,FillText$1:function(Self, text, x$44, y$32) {
      Self.FDC.fillText(text,x$44,y$32);
   }
   ,FillText:function(Self, text$1, x$45, y$33, maxWidth) {
      Self.FDC.fillText(text$1,x$45,y$33,maxWidth);
   }
   ,FillTextF:function(Self, text$2, x$46, y$34, maxWidth$1) {
      Self.FDC.fillText(text$2,x$46,y$34,maxWidth$1);
   }
   ,getFillStyle:function(Self) {
      var Result="";
      Result=Self.FDC.fillStyle.toString();
      return Result
   }
   ,getFont:function(Self) {
      var Result="";
      Result=Self.FDC.font;
      return Result
   }
   ,getGlobalAlpha:function(Self) {
      var Result=0;
      Result=Self.FDC.globalAlpha;
      return Result
   }
   ,getGlobalCompOp:function(Self) {
      var Result="";
      Result=Self.FDC.globalCompositeOperation;
      return Result
   }
   ,GetImageData:function(Self, sx$2, sy$2, sw$3, sh$3) {
      var Result=null;
      var mTemp$18 = null;
      mTemp$18=Self.FDC.getImageData(sx$2,sy$2,sw$3,sh$3);
      if (mTemp$18) {
         Result=TObject.Create($New(TW3ImageData));
         TW3ImageData.fromImageData(Result,mTemp$18);
      }
      return Result
   }
   ,getLineCap:function(Self) {
      var Result="";
      Result=Self.FDC.lineCap;
      return Result
   }
   ,GetLineDash:function(Self) {
      var Result=[];
      
   Result = (Self.FDC).lineDash;
   return Result
   }
   ,GetLineDashOffset:function(Self) {
      var Result=0;
      Result=Self.FDC.lineDashOffset;
      return Result
   }
   ,getLineJoin:function(Self) {
      var Result="";
      Result=Self.FDC.lineJoin;
      return Result
   }
   ,getLineWidth:function(Self) {
      var Result=0;
      Result=Self.FDC.lineWidth;
      return Result
   }
   ,getMiterLimit:function(Self) {
      var Result=0;
      Result=Self.FDC.miterLimit;
      return Result
   }
   ,getShadowBlur:function(Self) {
      var Result=0;
      Result=Self.FDC.shadowBlur;
      return Result
   }
   ,getShadowColor:function(Self) {
      var Result="";
      Result=Self.FDC.shadowColor;
      return Result
   }
   ,getshadowX:function(Self) {
      var Result=0;
      Result=Self.FDC.shadowOffsetX;
      return Result
   }
   ,getshadowY:function(Self) {
      var Result=0;
      Result=Self.FDC.shadowOffsetY;
      return Result
   }
   ,getStrokeStyle:function(Self) {
      var Result="";
      Result=Self.FDC.strokeStyle.toString();
      return Result
   }
   ,getTextAlign:function(Self) {
      var Result="";
      Result=Self.FDC.textAlign;
      return Result
   }
   ,getTextBaseline:function(Self) {
      var Result="";
      Result=Self.FDC.textBaseline;
      return Result
   }
   ,HorzLine:function(Self, x1$8, y$35, x2$3) {
      Self.FDC.moveTo(x1$8,y$35);
      Self.FDC.lineTo(x2$3,y$35);
   }
   ,IsPointInPathF$1:function(Self, p) {
      var Result=false;
      Result=Self.FDC.isPointInPath(p.X,p.Y);
      return Result
   }
   ,IsPointInPathF:function(Self, x$47, y$36) {
      var Result=false;
      Result=Self.FDC.isPointInPath(x$47,y$36);
      return Result
   }
   ,LineF:function(Self, x1$9, y1$8, x2$4, y2$3) {
      Self.FDC.moveTo(x1$9,y1$8);
      Self.FDC.lineTo(x2$4,y2$3);
   }
   ,LineTo:function(Self, aPoint$7) {
      Self.FDC.lineTo(aPoint$7.X,aPoint$7.Y);
   }
   ,LineToF:function(Self, x$48, y$37) {
      Self.FDC.lineTo(x$48,y$37);
   }
   ,MeasureText:function(Self, aText$5) {
      var Result={Width$2:0};
      var metrics=undefined;
      metrics=Self.FDC.measureText(aText$5);
      Result.Width$2=Number(metrics.width);
      return Result
   }
   ,MoveTo:function(Self, aPoint$8) {
      Self.FDC.moveTo(aPoint$8.X,aPoint$8.Y);
   }
   ,MoveToF:function(Self, x$49, y$38) {
      Self.FDC.moveTo(x$49,y$38);
   }
   ,PutImageData$1:function(Self, imageData, x$50, y$39, dx$4, dy$4, dw$2, dh$2) {
      if (imageData) {
         Self.FDC.putImageData(imageData.FHandle,x$50,y$39,dx$4,dy$4,dw$2,dh$2);
      } else {
         throw Exception.Create($New(Exception),"ImageData was NIL error");
      }
   }
   ,PutImageData:function(Self, imageData$1, x$51, y$40) {
      if (imageData$1) {
         Self.FDC.putImageData(imageData$1.FHandle,x$51,y$40);
      } else {
         throw Exception.Create($New(Exception),"ImageData was NIL error");
      }
   }
   ,QuadraticCurveToF:function(Self, cpx, cpy, x$52, y$41) {
      Self.FDC.quadraticCurveTo(cpx,cpy,x$52,y$41);
   }
   ,Rectangle:function(Self, aRect$12) {
      Self.FDC.rect(aRect$12.Left$1,aRect$12.Top$1,TRect$Width$1(aRect$12),TRect$Height$1(aRect$12));
   }
   ,RectangleF:function(Self, aLeft$14, aTop$14, aWidth$11, aHeight$11) {
      Self.FDC.rect(aLeft$14,aTop$14,aWidth$11,aHeight$11);
   }
   ,ResetClip:function(Self) {
      Self.FDC.resetClip();
   }
   ,Restore:function(Self) {
      if (Self.FContext) {
         Self.FDC.restore();
      }
   }
   ,Rotate:function(Self, angleRad) {
      Self.FDC.rotate(angleRad);
   }
   ,Save:function(Self) {
      if (Self.FContext) {
         Self.FDC.save();
      }
   }
   ,Scale$1:function(Self, sx$3, sy$3) {
      Self.FDC.scale(sx$3,sy$3);
   }
   ,setFillStyle:function(Self, aValue$78) {
      Self.FDC.fillStyle=aValue$78;
   }
   ,setFont:function(Self, aValue$79) {
      Self.FDC.font=aValue$79;
   }
   ,setGlobalAlpha:function(Self, aValue$80) {
      Self.FDC.globalAlpha=aValue$80;
   }
   ,setGlobalCompOp:function(Self, aValue$81) {
      Self.FDC.globalCompositeOperation=aValue$81;
   }
   ,setLineCap:function(Self, aValue$82) {
      Self.FDC.lineCap=aValue$82;
   }
   ,SetLineDash:function(Self, aValue$83) {
      
   (Self.FDC).lineDash = aValue$83;
      }
   ,SetLineDashOffset:function(Self, aValue$84) {
      Self.FDC.lineDashOffset=aValue$84;
   }
   ,setLineJoin:function(Self, aValue$85) {
      Self.FDC.lineJoin=aValue$85;
   }
   ,setLineWidth:function(Self, aValue$86) {
      Self.FDC.lineWidth=aValue$86;
   }
   ,setMiterLimit:function(Self, aValue$87) {
      Self.FDC.miterLimit=aValue$87;
   }
   ,SetPixel:function(Self, x$53, y$42) {
      Self.FDC.fillRect(x$53,y$42,1,1);
   }
   ,setShadowBlur:function(Self, aValue$88) {
      Self.FDC.shadowBlur=aValue$88;
   }
   ,setShadowColor:function(Self, aValue$89) {
      Self.FDC.shadowColor=aValue$89;
   }
   ,setShadowX:function(Self, aValue$90) {
      Self.FDC.shadowOffsetX=aValue$90;
   }
   ,setShadowY:function(Self, aValue$91) {
      Self.FDC.shadowOffsetY=aValue$91;
   }
   ,setStrokeStyle:function(Self, aValue$92) {
      Self.FDC.strokeStyle=aValue$92;
   }
   ,setTextAlign:function(Self, aValue$93) {
      Self.FDC.textAlign=aValue$93;
   }
   ,setTextbaseLine:function(Self, aValue$94) {
      Self.FDC.textBaseline=aValue$94;
   }
   ,Stroke:function(Self) {
      Self.FDC.stroke();
   }
   ,StrokeRect:function(Self, aRect$13) {
      Self.FDC.strokeRect(aRect$13.Left$1,aRect$13.Top$1,TRect$Width$1(aRect$13),TRect$Height$1(aRect$13));
   }
   ,StrokeRectF$1:function(Self, aLeft$15, aTop$15, aWidth$12, aHeight$12) {
      Self.FDC.strokeRect(aLeft$15,aTop$15,aWidth$12,aHeight$12);
   }
   ,StrokeRectF:function(Self, aRect$14) {
      Self.FDC.strokeRect(aRect$14.Left,aRect$14.Top,TRectF$Width(aRect$14),TRectF$Height(aRect$14));
   }
   ,StrokeTextF$1:function(Self, text$3, x$54, y$43) {
      Self.FDC.strokeText(text$3,x$54,y$43);
   }
   ,StrokeTextF:function(Self, text$4, x$55, y$44, maxWidth$2) {
      Self.FDC.strokeText(text$4,x$55,y$44,maxWidth$2);
   }
   ,ToDataURL:function(Self, aMimeType) {
      var Result="";
      Result=Self.FDC.canvas.toDataURL(aMimeType);
      return Result
   }
   ,ToImageData:function(Self) {
      var Result=null;
      var mTemp$19=null;
      var wd$5=0;
      var hd$5=0;
      wd$5=Self.FDC.canvas.width;
      hd$5=Self.FDC.canvas.height;
      try {
         mTemp$19=Self.FDC.getImageData(0,0,wd$5,hd$5);
      } catch ($e) {
         var e$7=$W($e);
         throw Exception.Create($New(Exception),"Failed to extract data, browser threw exception: "+e$7.FMessage);
      }
      if (mTemp$19) {
         Result=TObject.Create($New(TW3ImageData));
         TW3ImageData.fromImageData(Result,mTemp$19);
      }
      return Result
   }
   ,Transform:function(Self, m11, m12, m21, m22, dx$5, dy$5) {
      Self.FDC.transform(m11,m12,m21,m22,dx$5,dy$5);
   }
   ,Translate$1:function(Self, pt$2) {
      Self.FDC.translate(pt$2.X,pt$2.Y);
   }
   ,Translate:function(Self, tx, ty) {
      Self.FDC.translate(tx,ty);
   }
   ,UseGradient:function(Self, aGradient) {
      if (aGradient!==null) {
         Self.FDC.fillStyle=aGradient.FHandle$2;
      } else {
         throw Exception.Create($New(Exception),"Failed to use gradient, object was NIL error");
      }
   }
   ,UsePattern:function(Self, aPattern) {
      Self.FDC.fillStyle=aPattern.FHandle$1;
   }
   ,VertLine:function(Self, x$56, y1$9, y2$4) {
      Self.FDC.moveTo(x$56,y1$9);
      Self.FDC.lineTo(x$56,y2$4);
   }
   ,Destroy:TObject.Destroy
   ,Create$30$:function($){return $.ClassType.Create$30.apply($.ClassType, arguments)}
   ,Restore$:function($){return $.ClassType.Restore($)}
   ,Save$:function($){return $.ClassType.Save($)}
};
var TW3BackgroundGraphicContext= {
   $ClassName:"TW3BackgroundGraphicContext",
   $Parent:TW3CustomGraphicContext,
   $Init:function ($) {
      TW3CustomGraphicContext.$Init($);
      $.FContext$1=undefined;
      $.FHeight=$.FWidth=0;
      $.FName="";
   }
   ,Create$31:function(Self, aName, aWidth$13, aHeight$13) {
      TObject.Create(Self);
      aName=Trim(aName);
      if (aName.length>0) {
         if ((aWidth$13>0)&&(aHeight$13>0)) {
            Self.FName=aName;
            TW3CustomGraphicContext.SetSize$(Self,aWidth$13,aHeight$13);
         } else {
            throw Exception.Create($New(EW3Exception),"Background-canvas size must be positive");
         }
      } else {
         throw Exception.Create($New(EW3Exception),"Background-canvas name cannot be empty");
      }
      return Self
   }
   ,GetDC:function(Self) {
      var Result=undefined;
      Result=Self.FContext$1;
      return Result
   }
   ,GetHandle:function(Self) {
      var Result=undefined;
      Result=null;
      return Result
   }
   ,GetHeight:function(Self) {
      var Result=0;
      Result=Self.FHeight;
      return Result
   }
   ,getOwnsReference:function(Self) {
      var Result=false;
      Result=true;
      return Result
   }
   ,GetWidth:function(Self) {
      var Result=0;
      Result=Self.FWidth;
      return Result
   }
   ,IsSupported:function() {
      var Result=false;
      
      if (document.getCSSCanvasContext) Result=true; else Result=false;
   return Result
   }
   ,ReleaseDC:function(Self) {
      Self.FContext$1=null;
      Self.FWidth=0;
      Self.FHeight=0;
   }
   ,SetSize:function(Self, aNewWidth$2, aNewHeight$2) {
      var mRef$29=undefined;
      var mName="";
      if ((aNewWidth$2!=Self.FWidth)||(aNewHeight$2!=Self.FHeight)) {
         if ((aNewWidth$2>0)&&(aNewHeight$2>0)) {
            mName=Self.FName;
            try {
               
        mRef$29=document.getCSSCanvasContext("2d",mName,aNewWidth$2,aNewHeight$2);
        if (!mRef$29) {
                  throw Exception.Create($New(Exception),"Failed to hook CSS canvas");
               }
               Self.FContext$1=mRef$29;
               Self.FWidth=aNewWidth$2;
               Self.FHeight=aNewHeight$2;
            } catch ($e) {
               var e$8=$W($e);
               throw EW3Exception.CreateFmt($New(EW3Exception),"Background-canvas resize failed: %s",[e$8.FMessage]);
            }
         } else {
            throw Exception.Create($New(EW3Exception),"Background-canvas size must be positive");
         }
      }
   }
   ,Destroy:TObject.Destroy
   ,Allocate:TW3CustomGraphicContext.Allocate
   ,GetDC$:function($){return $.ClassType.GetDC($)}
   ,GetHandle$:function($){return $.ClassType.GetHandle($)}
   ,GetHeight$:function($){return $.ClassType.GetHeight($)}
   ,getOwnsReference$:function($){return $.ClassType.getOwnsReference($)}
   ,GetWidth$:function($){return $.ClassType.GetWidth($)}
   ,Release:TW3CustomGraphicContext.Release
   ,ReleaseDC$:function($){return $.ClassType.ReleaseDC($)}
   ,SetSize$:function($){return $.ClassType.SetSize.apply($.ClassType, arguments)}
   ,Create$31$:function($){return $.ClassType.Create$31.apply($.ClassType, arguments)}
};
function GetStrideAlign(Value$17, ElementSize, AlignSize) {
   var Result=0;
   Result=Value$17*ElementSize;
   if ((Result%AlignSize)>0) {
      Result=(Result+AlignSize)-(Result%AlignSize);
   }
   return Result
};
Pixel=0;
Line=1;
Page=2;
Left=0;
Middle=1;
Right=2;
var TW3CSSClassStyleNames= {
   $ClassName:"TW3CSSClassStyleNames",
   $Parent:TW3OwnedObject,
   $Init:function ($) {
      TW3OwnedObject.$Init($);
      $.FCache=[];
      $.FCheck=0;
      $.FToken="";
   }
   ,AcceptParent:function(Self, aObject$4) {
      var Result=false;
      Result=(aObject$4!==null)&&$Is(aObject$4,TW3CustomControl);
      return Result
   }
   ,Add$2:function(Self, aCSSClassName) {
      var Result=0;
      var mRef$30=undefined;
      if (Self.FOwner) {
         mRef$30=$As(Self.FOwner,TW3TagObj).FHandle$3;
         if (mRef$30) {
            w3_AddClass(mRef$30,aCSSClassName);
            Self.FCache.push(aCSSClassName);
            Result=Self.FCache.length-1;
         } else {
            throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.Add",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.Add",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      }
      return Result
   }
   ,CacheToTag:function(Self) {
      var mText$4="";
      var mRef$31=undefined;
      var x$57=0;
      if (Self.FOwner) {
         var $temp24;
         for(x$57=0,$temp24=Self.FCache.length;x$57<$temp24;x$57++) {
            if (x$57<(Self.FCache.length-1)) {
               mText$4=mText$4+Self.FCache[x$57]+" ";
            } else {
               mText$4=mText$4+Self.FCache[x$57];
            }
         }
         mRef$31=$As(Self.FOwner,TW3TagObj).FHandle$3;
         if (mRef$31) {
            mRef$31.setAttribute(Self.FToken,mText$4);
         } else {
            throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.CacheToTag",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.CacheToTag",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      }
   }
   ,Clear$4:function(Self) {
      var mRef$32=undefined;
      Self.FCache.length=0;
      Self.FCheck=-1;
      if (Self.FOwner) {
         mRef$32=$As(Self.FOwner,TW3TagObj).FHandle$3;
         if (mRef$32) {
            mRef$32.setAttribute(Self.FToken,"");
         } else {
            throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.Clear",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.Clear",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      }
   }
   ,Create$5:function(Self, AOwner$4) {
      TW3OwnedObject.Create$5(Self,AOwner$4);
      Self.FToken="class";
      Self.FCache=$NewArray(0,"");
      return Self
   }
   ,Destroy:function(Self) {
      Self.FCache.length=0;
      TObject.Destroy(Self);
   }
   ,getCount:function(Self) {
      var Result=0;
      TW3CSSClassStyleNames.UpdateCache(Self);
      Result=Self.FCache.length;
      return Result
   }
   ,getItem:function(Self, index$8) {
      var Result="";
      TW3CSSClassStyleNames.UpdateCache(Self);
      Result=Self.FCache[index$8];
      return Result
   }
   ,IndexOf$2:function(Self, aCSSClassName$1) {
      var Result=0;
      var x$58=0;
      Result=-1;
      if (Self.FOwner) {
         aCSSClassName$1=(Trim(aCSSClassName$1)).toLowerCase();
         if (aCSSClassName$1.length>0) {
            var $temp25;
            for(x$58=0,$temp25=Self.FCache.length;x$58<$temp25;x$58++) {
               if ((Self.FCache[x$58]).toLowerCase()==aCSSClassName$1) {
                  Result=x$58;
                  break;
               }
            }
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.IndexOf",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      }
      return Result
   }
   ,ParseToCache:function(Self, aValue$95) {
      aValue$95={v:aValue$95};
      var xpos$3=0;
      var mTemp$20="";
      aValue$95.v=Trim(aValue$95.v);
      Self.FCheck=aValue$95.v.length;
      if (Self.FCheck>0) {
         Self.FCache.length=0;
         xpos$3=(aValue$95.v.indexOf(" ")+1);
         if (xpos$3>0) {
            while (xpos$3>0) {
               mTemp$20=aValue$95.v.substr(0,(xpos$3-1));
               Self.FCache.push(mTemp$20);
               Delete(aValue$95,1,xpos$3);
               xpos$3=(aValue$95.v.indexOf(" ")+1);
            }
            if (aValue$95.v.length>0) {
               Self.FCache.push(aValue$95.v);
            }
         } else if (aValue$95.v.length>0) {
            Self.FCache.push(aValue$95.v);
         }
      }
   }
   ,Remove$2:function(Self, index$9) {
      var Result="";
      var mRef$33=undefined;
      if (Self.FOwner) {
         mRef$33=$As(Self.FOwner,TW3TagObj).FHandle$3;
         if (mRef$33) {
            w3_RemoveClass(mRef$33,Self.FCache[index$9]);
            Result=Self.FCache[index$9];
            Self.FCache.splice(index$9,1)
            ;
         } else {
            throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.Remove",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.Remove",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      }
      return Result
   }
   ,RemoveByName:function(Self, aCSSClassName$2) {
      var Result="";
      var mRef$34=undefined;
      var mIndex$18=0;
      if (Self.FOwner) {
         mRef$34=$As(Self.FOwner,TW3TagObj).FHandle$3;
         if (mRef$34) {
            w3_RemoveClass(mRef$34,aCSSClassName$2);
            mIndex$18=TW3CSSClassStyleNames.IndexOf$2(Self,aCSSClassName$2);
            if (mIndex$18>=0) {
               Self.FCache.splice(mIndex$18,1)
               ;
            }
            Result=aCSSClassName$2;
         }
         throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.RemoveByName",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.RemoveByName",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      }
      return Result
   }
   ,setItem:function(Self, index$10, aValue$96) {
      TW3CSSClassStyleNames.UpdateCache(Self);
      Self.FCache[index$10]=aValue$96;
      TW3CSSClassStyleNames.CacheToTag(Self);
   }
   ,toString:function(Self) {
      var Result="";
      var mText$5="";
      var x$59=0;
      if (Self.FOwner) {
         TW3CSSClassStyleNames.UpdateCache(Self);
         var $temp26;
         for(x$59=0,$temp26=Self.FCache.length;x$59<$temp26;x$59++) {
            if (x$59<(Self.FCache.length-1)) {
               mText$5=mText$5+Self.FCache[x$59]+" ";
            } else {
               mText$5=mText$5+Self.FCache[x$59];
            }
         }
         Result=mText$5;
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.toString",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      }
      return Result
   }
   ,UpdateCache:function(Self) {
      var mRef$35=undefined;
      var mText$6="";
      if (Self.FOwner) {
         mRef$35=$As(Self.FOwner,TW3TagObj).FHandle$3;
         if (mRef$35) {
            mText$6=TVariant.AsString(mRef$35.getAttribute(Self.FToken));
            if (mText$6.length!=Self.FCheck) {
               TW3CSSClassStyleNames.ParseToCache(Self,mText$6);
            }
         } else {
            throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.UpdateCache",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3CSSClassStyleNames),"Method %s in class %s threw exception [%s]",["TW3CSSClassStyleNames.UpdateCache",TObject.ClassName(Self.ClassType),"Owner tag-object is NIL error"]);
      }
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,AcceptParent$:function($){return $.ClassType.AcceptParent.apply($.ClassType, arguments)}
   ,Create$5$:function($){return $.ClassType.Create$5.apply($.ClassType, arguments)}
};
var EW3CSSClassStyleNames= {
   $ClassName:"EW3CSSClassStyleNames",
   $Parent:EW3Exception,
   $Init:function ($) {
      EW3Exception.$Init($);
   }
   ,Destroy:Exception.Destroy
};
var TW3TouchList= {
   $ClassName:"TW3TouchList",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FObjects=[];
   }
   ,a$2:function(Self, index$11) {
      return Self.FObjects[index$11];
   }
   ,a$1:function(Self) {
      return Self.FObjects.length;
   }
   ,Clear$2:function(Self) {
      Self.FObjects.length=0;
   }
   ,Consume:function(Self, refObj) {
      var mCount$2=0;
      var x$60=0;
      var mObj$18=null;
      mCount$2=refObj.length;
      if (mCount$2==Self.FObjects.length) {
         var $temp27;
         for(x$60=0,$temp27=mCount$2;x$60<$temp27;x$60++) {
            TW3Touch.Consume$1(Self.FObjects[x$60],refObj[x$60]);
         }
      } else {
         TW3TouchList.Clear$2(Self);
         var $temp28;
         for(x$60=0,$temp28=mCount$2;x$60<$temp28;x$60++) {
            mObj$18=TObject.Create($New(TW3Touch));
            TW3Touch.Consume$1(mObj$18,refObj[x$60]);
            Self.FObjects.push(mObj$18);
         }
      }
   }
   ,Destroy:TObject.Destroy
};
var TW3TouchData= {
   $ClassName:"TW3TouchData",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FChanged=$.FTouches=null;
   }
   ,getChanged:function(Self) {
      var Result=null;
      if (!Self.FChanged) {
         Self.FChanged=TObject.Create($New(TW3TouchList));
         TW3TouchList.Consume(Self.FChanged,w3_event().changedTouches);
      }
      Result=Self.FChanged;
      return Result
   }
   ,getTouches:function(Self) {
      var Result=null;
      if (!Self.FTouches) {
         Self.FTouches=TObject.Create($New(TW3TouchList));
         TW3TouchList.Consume(Self.FTouches,w3_event().touches);
      }
      Result=Self.FTouches;
      return Result
   }
   ,Update:function(Self) {
      if (Self.FTouches) {
         TW3TouchList.Consume(Self.FTouches,w3_event().touches);
      }
      if (Self.FChanged) {
         TW3TouchList.Consume(Self.FChanged,w3_event().changedTouches);
      }
   }
   ,Destroy:TObject.Destroy
};
var TW3Touch= {
   $ClassName:"TW3Touch",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FClientX=$.FClientY=$.FPageX=$.FPageY=$.FScreenX=$.FScreenY=0;
      $.FIdent=undefined;
      $.FTarget=null;
   }
   ,Consume$1:function(Self, touch) {
      Self.FScreenX=touch.screenX;
      Self.FScreenY=touch.screenY;
      Self.FClientX=touch.clientX;
      Self.FClientY=touch.clientY;
      Self.FPageX=touch.pageX;
      Self.FPageY=touch.pageY;
      Self.FIdent=touch.identifier;
      Self.FTarget=TVariant.AsObject(touch.target);
   }
   ,ToString$5:function(Self) {
      var Result="";
      Result="ScreenX = "+Self.FScreenX.toString()+"\r"+"ScreenY = "+Self.FScreenY.toString()+"\r"+"ClientX = "+Self.FClientX.toString()+"\r"+"ClientY = "+Self.FClientY.toString()+"\r"+"PageX = "+Self.FPageX.toString()+"\r"+"PageY = "+Self.FPageY.toString()+"\r"+"Identifier = "+TVariant.AsString(Self.FIdent)+"\r";
      return Result
   }
   ,Destroy:TObject.Destroy
   ,ToString$5$:function($){return $.ClassType.ToString$5($)}
};
var TW3GestureData= {
   $ClassName:"TW3GestureData",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FRotation=$.FScale=0;
   }
   ,Consume$2:function(Self, refObj$1) {
      Self.FRotation=Number(refObj$1.rotation);
      Self.FScale=Number(refObj$1.scale);
   }
   ,ToString$6:function(Self) {
      var Result="";
      Result=Format("Rotation = %f\r"+"Scale = %f",[Self.FRotation,Self.FScale]);
      return Result
   }
   ,Update$1:function(Self) {
      TW3GestureData.Consume$2(Self,w3_event());
   }
   ,Destroy:TObject.Destroy
   ,ToString$6$:function($){return $.ClassType.ToString$6($)}
};
var TW3Borders= {
   $ClassName:"TW3Borders",
   $Parent:TW3OwnedObject,
   $Init:function ($) {
      TW3OwnedObject.$Init($);
      $.FBottom=$.FLeft=$.FRight=$.FTop=null;
   }
   ,AcceptParent:function(Self, aObject$5) {
      var Result=false;
      Result=$Is(aObject$5,TW3TagObj);
      return Result
   }
   ,Create$5:function(Self, AOwner$5) {
      TW3OwnedObject.Create$5(Self,AOwner$5);
      Self.FLeft=TW3Border.Create$34($New(TW3Border),Self,0);
      Self.FTop=TW3Border.Create$34($New(TW3Border),Self,1);
      Self.FRight=TW3Border.Create$34($New(TW3Border),Self,2);
      Self.FBottom=TW3Border.Create$34($New(TW3Border),Self,3);
      return Self
   }
   ,Destroy:function(Self) {
      TObject.Free(Self.FLeft);
      TObject.Free(Self.FTop);
      TObject.Free(Self.FRight);
      TObject.Free(Self.FBottom);
      TObject.Destroy(Self);
   }
   ,getEdge:function(Self, aKind) {
      var Result=null;
      switch (aKind) {
         case 0 :
            Result=Self.FLeft;
            break;
         case 1 :
            Result=Self.FTop;
            break;
         case 2 :
            Result=Self.FRight;
            break;
         case 3 :
            Result=Self.FBottom;
            break;
      }
      return Result
   }
   ,getHSpace:function(Self) {
      var Result=0;
      Result=TW3Border.getWidth$4(Self.FLeft)+TW3Border.getPadding(Self.FLeft)+TW3Border.getWidth$4(Self.FRight)+TW3Border.getPadding(Self.FRight);
      return Result
   }
   ,getVSpace:function(Self) {
      var Result=0;
      Result=TW3Border.getWidth$4(Self.FTop)+TW3Border.getPadding(Self.FTop)+TW3Border.getWidth$4(Self.FBottom)+TW3Border.getPadding(Self.FBottom);
      return Result
   }
   ,setStyle:function(Self, aValue$97) {
      TW3Border.setStyle$1(Self.FLeft,aValue$97);
      TW3Border.setStyle$1(Self.FTop,aValue$97);
      TW3Border.setStyle$1(Self.FRight,aValue$97);
      TW3Border.setStyle$1(Self.FBottom,aValue$97);
   }
   ,toString$1:function(Self) {
      var Result="";
      var mText$7="";
      mText$7="Borders:|"+"HSpace ="+TW3Borders.getHSpace(Self).toString()+"|"+"VSpace ="+TW3Borders.getVSpace(Self).toString()+"|"+TW3Border.ToString$7(Self.FLeft)+"|"+TW3Border.ToString$7(Self.FTop)+"|"+TW3Border.ToString$7(Self.FRight)+"|"+TW3Border.ToString$7(Self.FBottom);
      Result=w3_StringReplace(mText$7,"|","\r\n");
      return Result
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,AcceptParent$:function($){return $.ClassType.AcceptParent.apply($.ClassType, arguments)}
   ,Create$5$:function($){return $.ClassType.Create$5.apply($.ClassType, arguments)}
};
besNone=0;
besSolid=1;
besDotted=2;
besDouble=3;
besGroove=4;
besInset=5;
besOutset=6;
beLeft=0;
beTop=1;
beRight=2;
beBottom=3;
var TW3Border= {
   $ClassName:"TW3Border",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FEdge=0;
      $.FEdgeName="";
      $.FOwner$2=null;
   }
   ,Create$34:function(Self, AOwner$6, AEdge) {
      TObject.Create(Self);
      Self.FOwner$2=AOwner$6;
      Self.FEdge=Self.FEdge;
      switch (AEdge) {
         case 0 :
            Self.FEdgeName="Left";
            break;
         case 1 :
            Self.FEdgeName="Top";
            break;
         case 2 :
            Self.FEdgeName="Right";
            break;
         case 3 :
            Self.FEdgeName="Bottom";
            break;
      }
      return Self
   }
   ,EdgeStyleString:function(Self, aValue$98) {
      var Result="";
      switch (aValue$98) {
         case 1 :
            Result="solid";
            break;
         case 2 :
            Result="dotted";
            break;
         case 3 :
            Result="double";
            break;
         case 4 :
            Result="groove";
            break;
         case 5 :
            Result="inset";
            break;
         case 6 :
            Result="outset";
            break;
         default :
            Result="none";
      }
      return Result
   }
   ,getColor$2:function(Self) {
      var Result=0;
      var mRef$36=undefined;
      var mKey="";
      var mText$8="";
      Result=0;
      mRef$36=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$36) {
         mKey="border-"+Self.FEdgeName+"-Color";
         mText$8=w3_getStyleAsStr(mRef$36,mKey);
         Result=StrToColor(mText$8);
      }
      return Result
   }
   ,getMargin:function(Self) {
      var Result=0;
      var mRef$37=undefined;
      var mKey$1="";
      Result=0;
      mRef$37=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$37) {
         mKey$1="margin-"+Self.FEdgeName;
         Result=w3_getStyleAsInt(mRef$37,mKey$1);
      }
      return Result
   }
   ,getPadding:function(Self) {
      var Result=0;
      var mRef$38=undefined;
      var mKey$2="";
      Result=0;
      mRef$38=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$38) {
         mKey$2="padding-"+Self.FEdgeName;
         Result=w3_getStyleAsInt(mRef$38,mKey$2);
      }
      return Result
   }
   ,getStyle:function(Self) {
      var Result=0;
      var mRef$39=undefined;
      var mKey$3="";
      var mValue$3="";
      Result=0;
      mRef$39=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$39) {
         mKey$3="border-"+Self.FEdgeName+"-Style";
         mValue$3=w3_getStyleAsStr(mRef$39,mKey$3);
         mValue$3=Trim((mValue$3).toLowerCase());
         switch (mValue$3) {
            case "solid" :
               Result=1;
               break;
            case "dotted" :
               Result=2;
               break;
            case "double" :
               Result=3;
               break;
            case "groove" :
               Result=4;
               break;
            case "inset" :
               Result=5;
               break;
            case "outset" :
               Result=6;
               break;
         }
      }
      return Result
   }
   ,getWidth$4:function(Self) {
      var Result=0;
      var mRef$40=undefined;
      var mKey$4="";
      Result=0;
      mRef$40=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$40) {
         mKey$4="border-"+Self.FEdgeName+"-Width";
         Result=w3_getStyleAsInt(mRef$40,mKey$4);
      }
      return Result
   }
   ,setColor$2:function(Self, aValue$99) {
      var mRef$41=undefined;
      var mKey$5="";
      mRef$41=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$41) {
         mKey$5="border-"+Self.FEdgeName+"-Color";
         mRef$41.style[mKey$5]=ColorToStr(aValue$99);
      } else {
         throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3Border.setColor",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
      }
   }
   ,setmargin:function(Self, aValue$100) {
      var mRef$42=undefined;
      var mKey$6="";
      mRef$42=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$42) {
         mKey$6="margin-"+Self.FEdgeName;
         mRef$42.style[mKey$6]=TInteger.toPxStr(TInteger,aValue$100);
      } else {
         throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3Border.setmargin",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
      }
   }
   ,setPadding:function(Self, aValue$101) {
      var mRef$43=undefined;
      var mKey$7="";
      mRef$43=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$43) {
         mKey$7="padding"+Self.FEdgeName;
         mRef$43.style[mKey$7]=TInteger.toPxStr(TInteger,aValue$101);
      } else {
         throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3Border.setPadding",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
      }
   }
   ,setStyle$1:function(Self, aValue$102) {
      var mRef$44=undefined;
      var mKey$8="";
      mRef$44=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$44) {
         mKey$8="border-"+Self.FEdgeName+"-Style";
         w3_setStyle(mRef$44,mKey$8,TW3Border.EdgeStyleString(Self,aValue$102));
      } else {
         throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3Border.setStyle",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
      }
   }
   ,setWidth:function(Self, aValue$103) {
      var mRef$45=undefined;
      var mKey$9="";
      mRef$45=$As(Self.FOwner$2.FOwner,TW3TagObj).FHandle$3;
      if (mRef$45) {
         mKey$9="border-"+Self.FEdgeName+"-Width";
         w3_setStyle(mRef$45,mKey$9,TInteger.toPxStr(TInteger,aValue$103));
      } else {
         throw EW3Exception.CreateFmt($New(EW3TagObj),"Method %s in class %s threw exception [%s]",["TW3Border.setWidth",TObject.ClassName(Self.ClassType),"invalid owner handle error"]);
      }
   }
   ,ToString$7:function(Self) {
      var Result="";
      var mText$9="";
      mText$9=Self.FEdgeName+" = {|"+"Width: "+TW3Border.getWidth$4(Self).toString()+"|"+"Style: "+TW3Border.EdgeStyleString(Self,TW3Border.getStyle(Self))+"|"+"Padding:"+TW3Border.getPadding(Self).toString()+"|"+"Color: "+ColorToStr(TW3Border.getColor$2(Self))+"|"+"Margin: "+TW3Border.getMargin(Self).toString()+"|"+"}";
      Result=w3_StringReplace(mText$9,"|","\r\n");
      return Result
   }
   ,Destroy:TObject.Destroy
};
var TW3LabelText= {
   $ClassName:"TW3LabelText",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3Label= {
   $ClassName:"TW3Label",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FCaption="";
      $.FContainer=null;
      $.FTextAlign=0;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FContainer);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FContainer=TW3Component.Create$36$($New(TW3LabelText),Self);
      w3_setStyle(Self.FContainer.FHandle$3,"textOverflow","ellipsis");
      w3_setStyle(Self.FContainer.FHandle$3,"whiteSpace","nowrap");
      w3_setStyle(Self.FContainer.FHandle$3,"overflow","hidden");
      w3_setStyle(Self.FContainer.FHandle$3,w3_CSSPrefixDef("vertical-align"),"middle");
      TW3Label.setCaption$(Self,"Label");
      TW3MovableControl.setHeight$(Self,12);
   }
   ,Resize:function(Self) {
      var dx$6=0;
      var dy$6=0;
      var wd$6=0;
      var hd$6=0;
      TW3MovableControl.Resize(Self);
      TW3TagObj.BeginUpdate(Self.FContainer);
      TW3MovableControl.SetBounds$(Self.FContainer,0,0,2,2);
      wd$6=ClampInt(TW3ScrollInfo.getScrollWidth(TW3CustomControl.getScrollInfo(Self.FContainer))+2,0,TW3MovableControl.ClientWidth(Self));
      hd$6=ClampInt(TW3ScrollInfo.getScrollHeight(TW3CustomControl.getScrollInfo(Self.FContainer)),0,TW3MovableControl.ClientHeight(Self));
      switch (Self.FTextAlign) {
         case 0 :
            dy$6=($Div(TW3MovableControl.ClientHeight(Self),2))-($Div(hd$6,2));
            TW3MovableControl.SetBounds$(Self.FContainer,0,dy$6,wd$6,hd$6);
            break;
         case 1 :
            dx$6=($Div(TW3MovableControl.ClientWidth(Self),2))-($Div(wd$6,2));
            dy$6=($Div(TW3MovableControl.ClientHeight(Self),2))-($Div(hd$6,2));
            TW3MovableControl.SetBounds$(Self.FContainer,dx$6,dy$6,wd$6,hd$6);
            break;
         case 2 :
            dx$6=TW3MovableControl.ClientWidth(Self)-wd$6;
            dy$6=($Div(TW3MovableControl.ClientHeight(Self),2))-($Div(hd$6,2));
            TW3MovableControl.SetBounds$(Self.FContainer,dx$6,dy$6,wd$6,hd$6);
            break;
      }
      TW3TagObj.EndUpdate$(Self.FContainer);
   }
   ,setCaption:function(Self, aValue$104) {
      if (aValue$104!=Self.FCaption) {
         TW3TagObj.BeginUpdate(Self);
         Self.FCaption=aValue$104;
         TW3TagObj.setInnerHTML(Self.FContainer,aValue$104);
         TW3MovableControl.SetWasSized(Self);
         TW3MovableControl.SetWasMoved(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,setTextAlign$1:function(Self, aNewAlignment) {
      var mToWrite="";
      TW3TagObj.BeginUpdate(Self);
      Self.FTextAlign=aNewAlignment;
      switch (aNewAlignment) {
         case 0 :
            mToWrite="left";
            break;
         case 1 :
            mToWrite="center";
            break;
         case 2 :
            mToWrite="right";
            break;
      }
      w3_setStyle(Self.FContainer.FHandle$3,"text-align",mToWrite);
      TW3MovableControl.SetWasSized(Self);
      TW3MovableControl.SetWasMoved(Self);
      TW3TagObj.EndUpdate$(Self);
   }
   ,supportAdjustment:function(Self) {
      var Result=false;
      Result=false;
      return Result
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment$:function($){return $.supportAdjustment($)}
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,setCaption$:function($){return $.ClassType.setCaption.apply($.ClassType, arguments)}
   ,setTextAlign$1$:function($){return $.ClassType.setTextAlign$1.apply($.ClassType, arguments)}
};
taLeft=0;
taCenter=1;
taRight=2;
dvaSizeToView=0;
dvaVStack=1;
dvaHStack=2;
var TW3DisplayView= {
   $ClassName:"TW3DisplayView",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FArrange=false;
      $.FArrangeKind=0;
   }
   ,ApplyArrangement:function(Self, aKind$1) {
      if (Self.FObjReady) {
         TW3TagObj.BeginUpdate(Self);
         TW3DisplayView.ArrangeChildren(Self,aKind$1);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,ArrangeChildren:function(Self, aKind$2) {
      var x$61=0;
      var dx$7 = {};
      dx$7.v=0;
      var dy$7 = {};
      dy$7.v=0;
      var mObj$19=null;
      var mCount$3=0;
      var mRect={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var wd$7 = {};
      wd$7.v=0;
      var hd$7 = {};
      hd$7.v=0;
      mCount$3=TW3Component.GetChildCount(Self);
      if (mCount$3>0) {
         mRect=TW3MovableControl.getBoundsRect$(Self);
         switch (aKind$2) {
            case 0 :
               wd$7.v=TRect$Width$1(mRect);
               hd$7.v=TRect$Height$1(mRect);
               var $temp29;
               for(x$61=0,$temp29=mCount$3;x$61<$temp29;x$61++) {
                  mObj$19=TW3Component.GetChildObject(Self,x$61);
                  if ($Is(mObj$19,TW3CustomControl)&&(!$Is(mObj$19,TW3BlockBox))) {
                     TW3MovableControl.SetSize$4$($As(mObj$19,TW3CustomControl),wd$7.v,hd$7.v);
                  }
               }
               break;
            case 1 :
               dy$7.v=mRect.Top$1;
               wd$7.v=TRect$Width$1(mRect);
               var $temp30;
               for(x$61=0,$temp30=mCount$3;x$61<$temp30;x$61++) {
                  mObj$19=TW3Component.GetChildObject(Self,x$61);
                  if ($Is(mObj$19,TW3CustomControl)&&(!$Is(mObj$19,TW3BlockBox))) {
                     hd$7.v=TW3MovableControl.GetHeight$1$($As(mObj$19,TW3CustomControl));
                     TW3MovableControl.SetBounds$($As(mObj$19,TW3CustomControl),mRect.Left$1,dy$7.v,wd$7.v,hd$7.v);
                     (dy$7.v+=hd$7.v);
                  }
               }
               break;
            case 2 :
               dx$7.v=mRect.Left$1;
               hd$7.v=TRect$Height$1(mRect);
               var $temp31;
               for(x$61=0,$temp31=mCount$3;x$61<$temp31;x$61++) {
                  mObj$19=TW3Component.GetChildObject(Self,x$61);
                  if ($Is(mObj$19,TW3CustomControl)&&(!$Is(mObj$19,TW3BlockBox))) {
                     wd$7.v=TW3MovableControl.GetWidth$1$($As(mObj$19,TW3CustomControl));
                     TW3MovableControl.SetBounds$($As(mObj$19,TW3CustomControl),dx$7.v,mRect.Top$1,wd$7.v,hd$7.v);
                     (dx$7.v+=wd$7.v);
                  }
               }
               break;
         }
      }
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FArrange=true;
      Self.FArrangeKind=0;
   }
   ,Resize:function(Self) {
      TW3MovableControl.Resize(Self);
      if (Self.FArrange) {
         TW3DisplayView.ArrangeChildren(Self,Self.FArrangeKind);
      }
   }
   ,setArrange:function(Self, aValue$105) {
      if (aValue$105!=Self.FArrange) {
         Self.FArrange=aValue$105;
         if (Self.FArrange) {
            TW3DisplayView.ApplyArrangement(Self,Self.FArrangeKind);
         }
      }
   }
   ,setArrangeType:function(Self, aValue$106) {
      if (aValue$106!=Self.FArrangeKind) {
         if (Self.FObjReady) {
            if (Self.FArrange) {
               TW3TagObj.BeginUpdate(Self);
               try {
                  Self.FArrangeKind=aValue$106;
                  TW3MovableControl.SetWasSized(Self);
               } finally {
                  TW3TagObj.EndUpdate$(Self);
               }
            } else {
               Self.FArrangeKind=aValue$106;
            }
         } else {
            Self.FArrangeKind=aValue$106;
         }
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3Display= {
   $ClassName:"TW3Display",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FFooter=$.FHeader=$.FOnOrient=$.FView=null;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FView);
      if (Self.FHeader) {
         TObject.Free(Self.FHeader);
      }
      if (Self.FFooter) {
         TObject.Free(Self.FFooter);
      }
      TW3CustomControl.FinalizeObject(Self);
   }
   ,getHeightOfChildren:function(Self) {
      var Result={v:0};
      try {
         var x$62=0;
         var mCount$4=0;
         var mObj$20=null;
         Result.v=0;
         mCount$4=TW3Component.GetChildCount(Self);
         var $temp32;
         for(x$62=0,$temp32=mCount$4;x$62<$temp32;x$62++) {
            mObj$20=TW3Component.GetChildObject(Self,x$62);
            if (($Is(mObj$20,TW3CustomControl)&&(!$Is(mObj$20,TW3BlockBox)))&&(mObj$20!==Self.FView)) {
               (Result.v+=TW3MovableControl.GetHeight$1$($As(mObj$20,TW3CustomControl)));
            }
         }
      } finally {return Result.v}
   }
   ,getOrientation:function(Self) {
      var Result=0;
      var mTemp$21=0;
      mTemp$21=0;
      
    mTemp$21 = window.orientation;
  switch (mTemp$21) {
         case 90 :
            Result=1;
            break;
         case (-90) :
            Result=2;
            break;
         case 180 :
            Result=3;
            break;
         default :
            Result=0;
      }
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FView=TW3Component.Create$36$($New(TW3DisplayView),Self);
      TW3MovableControl.setTop$(Self.FView,5);
   }
   ,PositionFormInView:function(Self, aForm) {
      var mApp=null;
      var dx$8=0;
      var dy$8=0;
      if (aForm) {
         mApp=Application();
         if ((mApp!==null)&&(!mApp.FTerminated)) {
            dx$8=TW3ScrollInfo.getScrollLeft(TW3CustomControl.getScrollInfo(Self.FView));
            dy$8=TW3ScrollInfo.getScrollTop(TW3CustomControl.getScrollInfo(Self.FView));
            TW3MovableControl.SetBounds$(aForm,dx$8,dy$8,TW3MovableControl.GetWidth$1$(Self.FView),TW3MovableControl.GetHeight$1$(Self.FView));
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Screen),"Method %s in class %s threw exception [%s]",["PositionFormInView",TObject.ClassName(Self.ClassType),"Form parameter was NIL error"]);
      }
   }
   ,Resize:function(Self) {
      var mTotal=0;
      var mList = [];
      var x$63=0;
      var dy$9 = {};
      dy$9.v=0;
      var mObj$21=null;
      TW3MovableControl.Resize(Self);
      mTotal=TW3Display.getHeightOfChildren(Self);
      TW3MovableControl.setHeight$(Self.FView,TW3MovableControl.GetHeight$1$(Self)-mTotal);
      mList=TW3CustomControl.GetChildrenSortedByYPos$(Self);
      dy$9.v=0;
      var $temp33;
      for(x$63=0,$temp33=mList.length;x$63<$temp33;x$63++) {
         mObj$21=$As(mList[x$63],TW3CustomControl);
         if (!$Is(mObj$21,TW3BlockBox)) {
            TW3MovableControl.SetBounds$(mObj$21,0,dy$9.v,TW3MovableControl.GetWidth$1$(Self),TW3MovableControl.GetHeight$1$(mObj$21));
            (dy$9.v+=TW3MovableControl.GetHeight$1$(mObj$21));
            if (x$63==0) {
               (dy$9.v+=2);
            }
         } else {
            TW3MovableControl.SetBounds$(mObj$21,0,0,TW3MovableControl.GetWidth$1$(Self),TW3MovableControl.GetHeight$1$(Self));
         }
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3CustomApplication= {
   $ClassName:"TW3CustomApplication",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FBlockBox=$.FBody=$.FCurrentForm=$.FDialog=$.FDialogEvent=$.FDisplay=$.FEnterAnim=$.FForms=$.FLeaveAnim=$.FMainForm=$.FOnBeforeUnload=$.FOnUnload=$.FTransDst=$.FTransSrc=null;
      $.FEntryEffect=0;
      $.FFormChangeActive=$.FTerminated=false;
      $.FModalInfoList=[];
   }
   ,AdjustScreen:function(Self) {
      TW3ScrollInfo.ScrollTo(TW3CustomControl.getScrollInfo(Self.FDisplay),0,0);
      TW3MovableControl.SetBounds$(Self.FDisplay,0,0,TDocumentBody.getWidth$5(Self.FBody),TDocumentBody.getHeight$4(Self.FBody));
   }
   ,ApplicationClosing:function(Self) {
   }
   ,ApplicationStarted:function(Self) {
   }
   ,ApplicationStarting:function(Self) {
      TW3CustomApplication.AdjustScreen(Self);
   }
   ,CBOnBeforeUnload:function(Self) {
      if (Self.FOnBeforeUnload) {
         Self.FOnBeforeUnload(Self);
      }
   }
   ,CBOnOrientationChange:function(Self) {
      var mOrientation=0;
      var mTemp$22=0;
      var mEntry=null;
      mTemp$22=0;
      
    mTemp$22 = window.orientation;
  switch (mTemp$22) {
         case 0 :
            mOrientation=0;
            break;
         case 90 :
            mOrientation=1;
            break;
         case (-90) :
            mOrientation=2;
            break;
         case 180 :
            mOrientation=3;
            break;
      }
      try {
         if (Self.FDisplay) {
            mEntry=Self.FDisplay.FOnOrient;
            if (mEntry) {
               mEntry(Self.FDisplay,mOrientation,mTemp$22);
            }
         }
      } finally {
         TW3CustomApplication.AdjustScreen(Self);
      }
   }
   ,CBOnReSize:function(Self) {
      TW3CustomApplication.AdjustScreen(Self);
   }
   ,CBOnUnLoad:function(Self) {
      try {
         if (Self.FOnUnload) {
            Self.FOnUnload(Self);
         }
      } finally {
         if (!Self.FTerminated) {
            TW3CustomApplication.Terminate(Self);
         }
      }
   }
   ,CloseDialog:function(Self) {
      if (TW3CustomApplication.GetDialogActive(Self)) {
         TObject.Free(Self.FDialog);
         Self.FDialog=null;
         if (Self.FBlockBox!==null) {
            TObject.Free(Self.FBlockBox);
            Self.FBlockBox=null;
         }
      }
   }
   ,Create$43:function(Self) {
      TObject.Create(Self);
      Self.FForms=TObjectList.Create$15$($New(TObjectList));
      Self.FBody=TW3Component.Create$36$($New(TDocumentBody),null);
      Self.FDisplay=TW3Component.Create$36$($New(TW3Display),Self.FBody);
      if (!Instance) {
         Instance=Self;
      }
      return Self
   }
   ,CreateOpaqueMask:function(backgroundColor, opacity) {
      var Result=undefined;
      var doc$1=undefined;
       doc$1 = document; Result=doc$1.createElement("div");
      Result.setAttribute("style","position:absolute;width:100%;height:100%;text-align:center");
      Result.style.backgroundColor=backgroundColor;
      Result.style.opacity=opacity;
      Result.style.backgroundPosition="center center";
      if ((Instance!==null)&&(Instance.FCurrentForm!==null)) {
         Result.style.zIndex=(TW3CustomControl.GetMaxZIndex(Instance.FCurrentForm)+1).toString();
      }
      doc$1.body.appendChild(Result);
      return Result
   }
   ,Destroy:function(Self) {
      if (!Self.FTerminated) {
         TW3CustomApplication.Terminate(Self);
      }
      TObject.Free(Self.FDisplay);
      TObject.Free(Self.FForms);
      TObject.Free(Self.FBody);
      Instance=null;
      TObject.Destroy(Self);
   }
   ,FormByName:function(Self, formName) {
      var Result=null;
      var lcName$1 = "";
      var i$3=0;
      Result=null;
      lcName$1=Trim((formName).toLowerCase());
      var $temp34;
      for(i$3=0,$temp34=TW3CustomApplication.getFormCount(Self);i$3<$temp34;i$3++) {
         if ((TW3CustomApplication.getForm(Self,i$3).FName$1).toLowerCase()==lcName$1) {
            return Result=TW3CustomApplication.getForm(Self,i$3);
         }
      }
      return Result
   }
   ,GetAppName:function(Self) {
      var Result="";
      Result="MiniCalc";
      return Result
   }
   ,GetDialogActive:function(Self) {
      var Result=false;
      Result=Self.FDialog!==null;
      return Result
   }
   ,getForm:function(Self, index$12) {
      var Result=null;
      Result=$As(TObjectList.GetItem(Self.FForms,index$12),TW3CustomForm);
      return Result
   }
   ,getFormCount:function(Self) {
      var Result=0;
      Result=TObjectList.GetCount(Self.FForms);
      return Result
   }
   ,GotoForm:function(Self, aName$1, Effect) {
      var x$64=0;
      var mForm=null;
      var mFound=false;
      aName$1=Trim((aName$1).toLowerCase());
      if (aName$1.length>0) {
         mFound=false;
         var $temp35;
         for(x$64=1,$temp35=TObjectList.GetCount(Self.FForms);x$64<=$temp35;x$64++) {
            mForm=$As(TObjectList.GetItem(Self.FForms,x$64-1),TW3CustomForm);
            mFound=(mForm.FName$1).toLowerCase()==aName$1;
            if (mFound) {
               break;
            }
         }
         if (mFound) {
            TW3CustomApplication.GotoFormByRef(Self,mForm,Effect);
         } else {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.GotoForm",TObject.ClassName(Self.ClassType),("Form ["+aName$1.toString()+"] not found error")]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.GotoForm",TObject.ClassName(Self.ClassType),"Invalid form name error"]);
      }
   }
   ,GotoFormByRef:function(Self, aForm$1, Effect$1) {
      var mIndex$19=0;
      if (!Self.FTerminated) {
         if (!Self.FFormChangeActive) {
            if (aForm$1!==null) {
               mIndex$19=TObjectList.IndexOf(Self.FForms,aForm$1);
               if (mIndex$19>=0) {
                  if (aForm$1!==Self.FCurrentForm) {
                     if (Self.FCurrentForm===null) {
                        Self.FCurrentForm=aForm$1;
                        TW3Display.PositionFormInView(Self.FDisplay,aForm$1);
                        TW3MovableControl.SetVisible$(aForm$1,true);
                        TW3CustomForm.FormActivated$(aForm$1);
                        return;
                     } else {
                        Self.FFormChangeActive=true;
                        Self.FEntryEffect=Effect$1;
                        TW3CustomControl.BringToFront(aForm$1);
                        switch (Effect$1) {
                           case 0 :
                              TW3MovableControl.SetVisible$(Self.FCurrentForm,false);
                              TW3CustomForm.FormDeActivated$(Self.FCurrentForm);
                              TW3MovableControl.SetVisible$(aForm$1,true);
                              TW3Display.PositionFormInView(Self.FDisplay,aForm$1);
                              TW3CustomForm.FormActivated$(aForm$1);
                              Self.FCurrentForm=aForm$1;
                              Self.FFormChangeActive=false;
                              break;
                           case 1 :
                              TW3CustomForm.FormDeActivated$(Self.FCurrentForm);
                              Self.FTransSrc=Self.FCurrentForm;
                              Self.FTransDst=aForm$1;
                              TW3MovableControl.SetVisible$(aForm$1,true);
                              TW3Display.PositionFormInView(Self.FDisplay,aForm$1);
                              Self.FEnterAnim=TW3CustomAnimation.Create$40$($New(TW3NamedAnimation));
                              Self.FEnterAnim.FName$2="MOVE-LEFT";
                              TW3CustomAnimation.setDuration(Self.FEnterAnim,0.3);
                              Self.FLeaveAnim=TW3CustomAnimation.Create$40$($New(TW3NamedAnimation));
                              Self.FLeaveAnim.FName$2="MOVE-OUT-LEFT";
                              TW3CustomAnimation.setDuration(Self.FLeaveAnim,0.3);
                              TW3CustomAnimation.ExecuteEx(Self.FEnterAnim,aForm$1,null,$Event1(Self,TW3CustomApplication.HandleEnterAnimEnds));
                              TW3CustomAnimation.ExecuteEx(Self.FLeaveAnim,Self.FCurrentForm,null,$Event1(Self,TW3CustomApplication.HandleLeaveAnimEnds));
                              break;
                           case 2 :
                              TW3CustomForm.FormDeActivated$(Self.FCurrentForm);
                              Self.FTransSrc=Self.FCurrentForm;
                              Self.FTransDst=aForm$1;
                              TW3MovableControl.SetVisible$(aForm$1,true);
                              TW3Display.PositionFormInView(Self.FDisplay,aForm$1);
                              Self.FEnterAnim=TW3CustomAnimation.Create$40$($New(TW3NamedAnimation));
                              Self.FEnterAnim.FName$2="MOVE-RIGHT";
                              TW3CustomAnimation.setDuration(Self.FEnterAnim,0.3);
                              Self.FLeaveAnim=TW3CustomAnimation.Create$40$($New(TW3NamedAnimation));
                              Self.FLeaveAnim.FName$2="MOVE-OUT-RIGHT";
                              TW3CustomAnimation.setDuration(Self.FLeaveAnim,0.3);
                              TW3CustomAnimation.ExecuteEx(Self.FEnterAnim,aForm$1,null,$Event1(Self,TW3CustomApplication.HandleEnterAnimEnds));
                              TW3CustomAnimation.ExecuteEx(Self.FLeaveAnim,Self.FCurrentForm,null,$Event1(Self,TW3CustomApplication.HandleLeaveAnimEnds));
                              break;
                        }
                     }
                  }
               } else {
                  throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.GotoFormByRef",TObject.ClassName(Self.ClassType),"Form not registered error"]);
               }
            } else {
               throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.GotoFormByRef",TObject.ClassName(Self.ClassType),"Form parameter is NIL error"]);
            }
         } else {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.GotoFormByRef",TObject.ClassName(Self.ClassType),"A form transition is already active error"]);
         }
      }
   }
   ,HandleDialogBlockerReSize:function(Self, Sender$2) {
      var dx$9=0;
      var dy$10=0;
      var modalInfo=null;
      var a$4=0;
      var a$5=[];
      if ((Self.FDialog!==null)&&(Self.FBlockBox!==null)) {
         dx$9=$Div(TW3MovableControl.GetWidth$1$(Self.FBlockBox)-TW3MovableControl.GetWidth$1$(Self.FDialog),2);
         dy$10=$Div(TW3MovableControl.GetHeight$1$(Self.FBlockBox)-TW3MovableControl.GetHeight$1$(Self.FDialog),2);
         TW3MovableControl.MoveTo$1$(Self.FDialog,dx$9,dy$10);
      }
      a$5=Self.FModalInfoList;
      var $temp36;
      for(a$4=0,$temp36=a$5.length;a$4<$temp36;a$4++) {
         modalInfo=a$5[a$4];
         dx$9=$Div(TW3MovableControl.GetWidth$1$(modalInfo.OpaqueMask)-TW3MovableControl.GetWidth$1$(modalInfo.ModalPanel),2);
         dy$10=$Div(TW3MovableControl.GetHeight$1$(modalInfo.OpaqueMask)-TW3MovableControl.GetHeight$1$(modalInfo.ModalPanel),2);
         TW3MovableControl.MoveTo$1$(modalInfo.ModalPanel,dx$9,dy$10);
      }
   }
   ,HandleDialogFeedBack:function(Self, Sender$3, aResult) {
      try {
         if (Self.FDialogEvent) {
            Self.FDialogEvent(Self,aResult);
         }
      } finally {
         TW3CustomApplication.CloseDialog(Self);
      }
   }
   ,HandleEnterAnimEnds:function(Self, Sender$4) {
      var mAnim=null;
      mAnim=$As(Sender$4,TW3NamedAnimation);
      switch (Self.FEntryEffect) {
         case 1 :
            TW3MovableControl.MoveTo$1$(Self.FTransDst,0,0);
            Self.FCurrentForm=Self.FTransDst;
            TW3CustomForm.FormActivated$(Self.FCurrentForm);
            Self.FFormChangeActive=false;
            break;
         case 2 :
            TW3MovableControl.MoveTo$1$(Self.FTransDst,0,0);
            Self.FCurrentForm=Self.FTransDst;
            TW3CustomForm.FormActivated$(Self.FCurrentForm);
            TW3MovableControl.SetVisible$(Self.FTransSrc,false);
            TW3Display.PositionFormInView(Self.FDisplay,Self.FTransSrc);
            Self.FFormChangeActive=false;
            break;
      }
      TObject.Free(mAnim);
      mAnim=null;
   }
   ,HandleLeaveAnimEnds:function(Self, Sender$5) {
      var mAnim$1=null;
      mAnim$1=$As(Sender$5,TW3NamedAnimation);
      TW3MovableControl.SetVisible$(Self.FTransSrc,false);
      TObject.Free(mAnim$1);
   }
   ,HideModal:function(Self, modalResult) {
      var modalInfo$1 = null;
      modalInfo$1=Self.FModalInfoList.pop();
      TObject.Free(modalInfo$1.OpaqueMask);
      if (Self.FModalInfoList.length>0) {
         TW3MovableControl.SetVisible$($Peek(Self.FModalInfoList," in TW3CustomApplication.HideModal [line: 615, column: 20, file: W3Application]").OpaqueMask,true);
      }
      TW3MovableControl.SetVisible$(modalInfo$1.ModalPanel,false);
      if (modalResult==1) {
         modalInfo$1.OnOK(modalInfo$1.ModalForm);
      } else {
         modalInfo$1.OnCancel(modalInfo$1.ModalForm);
      }
   }
   ,HookWindowEvents:function(Self) {
      w3_bind2(TW3CustomBrowserAPI.GetBody(),"onunload",$Event0(Self,TW3CustomApplication.CBOnUnLoad$));
      w3_bind2(TW3CustomBrowserAPI.GetBody(),"onbeforeunload",$Event0(Self,TW3CustomApplication.CBOnBeforeUnload$));
      w3_bind2(TW3CustomBrowserAPI.GetWindow(),"onresize",$Event0(Self,TW3CustomApplication.CBOnReSize$));
      w3_bind2(TW3CustomBrowserAPI.GetWindow(),"onorientationchange",$Event0(Self,TW3CustomApplication.CBOnOrientationChange$));
   }
   ,RegisterFormInstance:function(Self, aForm$2, isMainForm) {
      if (!Self.FTerminated) {
         if (aForm$2) {
            if (TObjectList.IndexOf(Self.FForms,aForm$2)==(-1)) {
               try {
                  TObjectList.Add(Self.FForms,aForm$2);
               } catch ($e) {
                  var e$9=$W($e);
                  throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.RegisterFormInstance",TObject.ClassName(Self.ClassType),e$9.FMessage]);
               }
               w3_RequestAnimationFrame(function () {
                  TW3MovableControl.AdjustToParentBox$(aForm$2);
               });
               if (isMainForm) {
                  Self.FMainForm=aForm$2;
               } else {
                  TW3MovableControl.SetVisible$(aForm$2,false);
               }
            } else {
               throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.RegisterFormInstance",TObject.ClassName(Self.ClassType),"Form already registered"]);
            }
         } else {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.RegisterFormInstance",TObject.ClassName(Self.ClassType),"Form parameter is NIL error"]);
         }
      }
   }
   ,RunApp:function(Self) {
      var FTemp$1=null;
      TW3CustomApplication.HookWindowEvents$(Self);
      TW3CustomApplication.ApplicationStarting$(Self);
      if (Self.FMainForm) {
         FTemp$1=Self.FMainForm;
         Self.FMainForm=null;
         TW3CustomApplication.GotoFormByRef(Self,FTemp$1,0);
      }
      TW3CustomApplication.ApplicationStarted$(Self);
   }
   ,ShowDialog:function(Self, aCaption, aText$6, aOptions$1) {
      var dx$10=0;
      var dy$11=0;
      if (!TW3CustomApplication.GetDialogActive(Self)) {
         Self.FBlockBox=TW3Component.Create$36$($New(TW3BlockBox),Self.FDisplay);
         TW3MovableControl.SetBounds$(Self.FBlockBox,0,0,TW3MovableControl.GetWidth$1$(Self.FDisplay),TW3MovableControl.GetHeight$1$(Self.FDisplay));
         TW3CustomControl._setResize(Self.FBlockBox,$Event1(Self,TW3CustomApplication.HandleDialogBlockerReSize));
         Self.FDialog=TW3Component.Create$36$($New(TW3AlertDialog),Self.FBlockBox);
         Self.FDialog.FOnSelect=$Event2(Self,TW3CustomApplication.HandleDialogFeedBack);
         TW3MovableControl.SetWidth$(Self.FDialog,280);
         TW3MovableControl.setHeight$(Self.FDialog,200);
         dx$10=$Div(TW3MovableControl.GetWidth$1$(Self.FBlockBox)-TW3MovableControl.GetWidth$1$(Self.FDialog),2);
         dy$11=$Div(TW3MovableControl.GetHeight$1$(Self.FBlockBox)-TW3MovableControl.GetHeight$1$(Self.FDialog),2);
         TW3MovableControl.SetBounds$(Self.FDialog,dx$10,dy$11,TW3MovableControl.GetWidth$1$(Self.FDialog),TW3MovableControl.GetHeight$1$(Self.FDialog));
         $AsIntf(Self.FDialog,"IW3AlertDialog")[0](aCaption,aText$6,aOptions$1);
      } else {
         throw Exception.Create($New(EW3Application),"A dialog is already active error");
      }
   }
   ,ShowModal$1:function(Self, formName$1, panelName, focusControlName, onInit, onOK, onCancel) {
      var focusControl=null;
      var modalForm = null;
      var modalPanel = null;
      modalForm=TW3CustomApplication.FormByName(Application(),formName$1);
      if (!modalForm) {
         throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.ShowModal",TObject.ClassName(Self.ClassType),("Form ["+formName$1.toString()+"] not found")]);
      }
      modalPanel=TW3Component.ChildByName(modalForm,panelName);
      if (!modalPanel) {
         throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.ShowModal",TObject.ClassName(Self.ClassType),("Component ["+panelName.toString()+"] not found")]);
      }
      if (!$Is(modalPanel,TW3CustomControl)) {
         throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.ShowModal",TObject.ClassName(Self.ClassType),("Component ["+panelName.toString()+"] is not a TW3CustomControl")]);
      }
      if (focusControlName=="") {
         focusControl=null;
      } else {
         focusControl=TW3Component.ChildByName($As(modalPanel,TW3CustomControl),focusControlName);
         if (!focusControl) {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.ShowModal",TObject.ClassName(Self.ClassType),("Component ["+focusControlName.toString()+"] not found")]);
         }
         if (!$Is(focusControl,TW3CustomControl)) {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.ShowModal",TObject.ClassName(Self.ClassType),("Component ["+focusControlName.toString()+"] is not a TW3CustomControl")]);
         }
      }
      TW3CustomApplication.ShowModal(Self,modalForm,$As(modalPanel,TW3CustomControl),$As(focusControl,TW3CustomControl),onInit,onOK,onCancel);
   }
   ,ShowModal:function(Self, form, panel, focusControl$1, onInit$1, onOK$1, onCancel$1) {
      var zIndex=0;
      var opaqueMask = null;
      var modalInfo$2 = null;
      if (Self.FModalInfoList.length==0) {
         zIndex=TW3CustomControl.GetMaxZIndex(Self.FCurrentForm);
      } else {
         zIndex=TW3CustomControl.GetMaxZIndex($Peek(Self.FModalInfoList," in TW3CustomApplication.ShowModal [line: 551, column: 30, file: W3Application]").ModalForm);
         TW3MovableControl.SetVisible$($Peek(Self.FModalInfoList," in TW3CustomApplication.ShowModal [line: 553, column: 20, file: W3Application]").OpaqueMask,false);
      }
      opaqueMask=TW3Component.Create$36$($New(TW3BlockBox),Self.FDisplay);
      TW3MovableControl.SetBounds$(opaqueMask,0,0,TW3MovableControl.GetWidth$1$(Self.FDisplay),TW3MovableControl.GetHeight$1$(Self.FDisplay));
      TW3CustomControl._setResize(opaqueMask,$Event1(Self,TW3CustomApplication.HandleDialogBlockerReSize));
      if (onInit$1) {
         onInit$1(form);
      }
      modalInfo$2=TObject.Create($New(TModalInfo));
      Self.FModalInfoList.push(modalInfo$2);
      modalInfo$2.OpaqueMask=opaqueMask;
      modalInfo$2.OpaqueMask.FHandle$3.style.zIndex=(zIndex+1).toString();
      modalInfo$2.ModalForm=form;
      modalInfo$2.ModalPanel=panel;
      modalInfo$2.OnOK=onOK$1;
      modalInfo$2.OnCancel=onCancel$1;
      TW3TagObj.InsertInto(modalInfo$2.ModalPanel,Self.FCurrentForm.FHandle$3);
      TW3MovableControl.SetVisible$(modalInfo$2.ModalPanel,true);
      modalInfo$2.ModalPanel.FHandle$3.style.zIndex=(zIndex+2).toString();
      TW3MovableControl.MoveTo$1$(panel,$Div(TW3MovableControl.ClientWidth(Self.FCurrentForm)-TW3MovableControl.GetWidth$1$(panel),2),$Div(TW3MovableControl.ClientHeight(Self.FCurrentForm)-TW3MovableControl.GetHeight$1$(panel),2));
      if (focusControl$1) {
         TW3CustomControl.SetFocus(focusControl$1);
      }
   }
   ,Terminate:function(Self) {
      var x$65=0;
      if (!Self.FTerminated) {
         Self.FTerminated=true;
         TW3CustomApplication.ApplicationClosing$(Self);
         try {
            var $temp37;
            for(x$65=0,$temp37=TObjectList.GetCount(Self.FForms);x$65<$temp37;x$65++) {
               TObject.Free($As(TObjectList.GetItem(Self.FForms,x$65-1),TW3CustomForm));
               TObjectList.SetItem(Self.FForms,x$65-1,null);
            }
            TObjectList.Clear(Self.FForms);
         } finally {
            TObject.Free(Self);
         }
      }
   }
   ,UnRegisterFormInstance:function(Self, aForm$3) {
      var mIndex$20=0;
      if (!Self.FTerminated) {
         if (aForm$3) {
            mIndex$20=TObjectList.IndexOf(Self.FForms,aForm$3);
            if (mIndex$20>=0) {
               if (Self.FMainForm!==aForm$3) {
                  if (Self.FCurrentForm===aForm$3) {
                     TW3CustomApplication.GotoFormByRef(Self,Self.FMainForm,0);
                  }
                  TObjectList.Remove(Self.FForms,mIndex$20);
                  try {
                     TObject.Free(aForm$3);
                  } catch ($e) {
                     var e$10=$W($e);
                     throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.UnRegisterFormInstance",TObject.ClassName(Self.ClassType),e$10.FMessage]);
                  }
               } else {
                  throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.UnRegisterFormInstance",TObject.ClassName(Self.ClassType),"Main form cannot be removed error"]);
               }
            } else {
               throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.UnRegisterFormInstance",TObject.ClassName(Self.ClassType),"Form is not registered"]);
            }
         } else {
            throw EW3Exception.CreateFmt($New(EW3Application),"Method %s in class %s threw exception [%s]",["TW3CustomApplication.UnRegisterFormInstance",TObject.ClassName(Self.ClassType),"Form parameter is NIL error"]);
         }
      }
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,ApplicationClosing$:function($){return $.ClassType.ApplicationClosing($)}
   ,ApplicationStarted$:function($){return $.ClassType.ApplicationStarted($)}
   ,ApplicationStarting$:function($){return $.ClassType.ApplicationStarting($)}
   ,CBOnBeforeUnload$:function($){return $.ClassType.CBOnBeforeUnload($)}
   ,CBOnOrientationChange$:function($){return $.ClassType.CBOnOrientationChange($)}
   ,CBOnReSize$:function($){return $.ClassType.CBOnReSize($)}
   ,CBOnUnLoad$:function($){return $.ClassType.CBOnUnLoad($)}
   ,Create$43$:function($){return $.ClassType.Create$43($)}
   ,HookWindowEvents$:function($){return $.ClassType.HookWindowEvents($)}
};
var TW3BlockBox= {
   $ClassName:"TW3BlockBox",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
mrCancel=0;
mrOK=1;
feNone=0;
feFromRight=1;
feToLeft=2;
soPortrait=0;
soLandscapeLeft=1;
soLandscapeRight=2;
soFlipped=3;
var EW3Screen= {
   $ClassName:"EW3Screen",
   $Parent:EW3Exception,
   $Init:function ($) {
      EW3Exception.$Init($);
   }
   ,Destroy:Exception.Destroy
};
var EW3Application= {
   $ClassName:"EW3Application",
   $Parent:EW3Exception,
   $Init:function ($) {
      EW3Exception.$Init($);
   }
   ,Destroy:Exception.Destroy
};
function Application() {
   var Result=null;
   Result=Instance;
   return Result
};
var TModalInfo= {
   $ClassName:"TModalInfo",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.OnOK=null;
      $.OnCancel=null;
      $.ModalForm=$.ModalPanel=$.OwnerForm=$.OpaqueMask=null;
   }
   ,Destroy:TObject.Destroy
};
var TW3CustomForm= {
   $ClassName:"TW3CustomForm",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FCaption$1="";
   }
   ,setCaption$2:function(Self, Value$18) {
      Self.FCaption$1=Value$18;
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
      w3_setStyle(Self.FHandle$3,w3_CSSPrefix("Transform"),"none");
      TW3CustomControl.setStyleClass(Self,"TW3CustomForm");
   }
   ,FormActivated:function(Self) {
      var x$66=0;
      var mCount$5=0;
      var mObj$22=null;
      var mControl$2=null;
      if (Self.FObjReady) {
         mCount$5=TW3Component.GetChildCount(Self);
         var $temp38;
         for(x$66=0,$temp38=mCount$5;x$66<$temp38;x$66++) {
            mObj$22=TW3Component.GetChildObject(Self,x$66);
            if ($Is(mObj$22,TW3CustomControl)) {
               mControl$2=$As(mObj$22,TW3CustomControl);
               if (mControl$2.FObjReady) {
                  if (TW3MovableControl.getVisible$(mControl$2)) {
                     TW3CustomControl.LayoutChildren$(mControl$2);
                  }
               }
            }
         }
      }
   }
   ,FormDeActivated:function(Self) {
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,FormActivated$:function($){return $.ClassType.FormActivated($)}
   ,FormDeActivated$:function($){return $.ClassType.FormDeActivated($)}
};
var TW3Form= {
   $ClassName:"TW3Form",
   $Parent:TW3CustomForm,
   $Init:function ($) {
      TW3CustomForm.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomForm.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,FormActivated:TW3CustomForm.FormActivated
   ,FormDeActivated:TW3CustomForm.FormDeActivated
};
var TW3CustomAnimation= {
   $ClassName:"TW3CustomAnimation",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FBusy=false;
      $.FDuration=0;
      $.FInEvName="";
      $.FInEvnCB=null;
      $.FInTagRef=undefined;
      $.FOnBegins=null;
      $.FOnEnds=null;
      $.FTarget$1=null;
   }
   ,CBBegins:function(Self) {
      if (Self.FOnBegins) {
         Self.FOnBegins(Self);
      }
   }
   ,CBEnds:function(Self) {
      TW3CustomAnimation.FinalizeTransition$(Self);
      if (Self.FOnEnds) {
         Self.FOnEnds(Self);
      }
   }
   ,Create$40:function(Self) {
      TObject.Create(Self);
      Self.FDuration=DefaultDuration;
      return Self
   }
   ,Destroy:function(Self) {
      if (Self.FBusy&&(Self.FTarget$1!==null)) {
         try {
            TW3CustomAnimation.FinalizeTransition$(Self);
         } catch ($e) {
            var e$11=$W($e);
            /* null */
         }
      }
      TObject.Destroy(Self);
   }
   ,Execute:function(Self, TargetObj) {
      if (TargetObj) {
         if (!Self.FBusy) {
            Self.FTarget$1=TargetObj;
            TW3CustomAnimation.SetupTransition$(Self);
         } else {
            throw Exception.Create($New(Exception),"Transition is already in progress error");
         }
      } else {
         throw Exception.Create($New(Exception),"Target-object was NIL error");
      }
   }
   ,ExecuteEx:function(Self, TargetObj$1, BeginHandler, EndHandler) {
      if (TargetObj$1) {
         if (!Self.FBusy) {
            Self.FTarget$1=TargetObj$1;
            Self.FOnBegins=BeginHandler;
            Self.FOnEnds=EndHandler;
            TW3CustomAnimation.SetupTransition$(Self);
         } else {
            throw Exception.Create($New(Exception),"Transition is already in progress error");
         }
      } else {
         throw Exception.Create($New(Exception),"Target-object was NIL error");
      }
   }
   ,FinalizeTransition:function(Self) {
      var mCallBack=null;
      mCallBack=$Event0(Self,TW3CustomAnimation.CBEnds);
      w3_RemoveEvent(Self.FInTagRef,Self.FInEvName,Self.FInEvnCB,true);
      Self.FBusy=false;
   }
   ,setDuration:function(Self, Value$19) {
      if (!Self.FBusy) {
         Self.FDuration=Value$19;
      } else {
         throw Exception.Create($New(Exception),"Duration cannot be altered while the transition is active error");
      }
   }
   ,SetupTransition:function(Self) {
      var mCallBack$1=null;
      Self.FBusy=true;
      mCallBack$1=$Event0(Self,TW3CustomAnimation.CBEnds);
      Self.FInTagRef=Self.FTarget$1.FHandle$3;
      if (!w3_getIsFirefox()) {
         Self.FInEvName=w3_CSSPrefix("AnimationEnd");
      } else {
         Self.FInEvName="animationend";
      }
      Self.FInEvnCB=$Event0(Self,TW3CustomAnimation.CBEnds);
      w3_AddEvent(Self.FInTagRef,Self.FInEvName,Self.FInEvnCB,true);
      TW3CustomAnimation.CBBegins(Self);
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,Create$40$:function($){return $.ClassType.Create$40($)}
   ,FinalizeTransition$:function($){return $.ClassType.FinalizeTransition($)}
   ,SetupTransition$:function($){return $.ClassType.SetupTransition($)}
};
var TW3TransitionAnimation= {
   $ClassName:"TW3TransitionAnimation",
   $Parent:TW3CustomAnimation,
   $Init:function ($) {
      TW3CustomAnimation.$Init($);
      $.FAnimationCmd="";
      $.FSticky=$.FStyleSetup=false;
      $.FStyleDOM=undefined;
      $.FTiming=0;
   }
   ,Create$40:function(Self) {
      TW3CustomAnimation.Create$40(Self);
      Self.FTiming=1;
      return Self
   }
   ,Destroy:function(Self) {
      TW3TransitionAnimation.InvalidateKeyFrames(Self);
      TW3CustomAnimation.Destroy(Self);
   }
   ,FinalizeTransition:function(Self) {
      var ref=undefined;
      ref=Self.FTarget$1.FHandle$3;
      if ((!Self.FSticky)&&(ref.style.getPropertyValue("-webkit-animation")==Self.FAnimationCmd)) {
         ref.style.removeProperty("-webkit-animation");
         ref.style.removeProperty("-webkit-animation-fill-mode");
         Self.FAnimationCmd="";
      }
      TW3CustomAnimation.FinalizeTransition(Self);
   }
   ,InvalidateKeyFrames:function(Self) {
      if (Self.FStyleSetup) {
         Self.FStyleSetup=false;
         Self.FStyleDOM.parent.removeChild(Self.FStyleDOM);
         Self.FStyleDOM=null;
      }
   }
   ,SetSticky:function(Self, val) {
      if (Self.FSticky==val) {
         return;
      }
      Self.FSticky=val;
      if ((!val)&&(Self.FAnimationCmd!="")) {
         TW3CustomAnimation.FinalizeTransition$(Self);
      }
   }
   ,SetupKeyFrames:function(Self) {
      var head=undefined;
      var rules=undefined;
      var style=undefined;
      var css="";
      Self.FStyleSetup=true;
      css="@-webkit-keyframes "+TObject.ClassName(Self.ClassType)+" {"+TW3TransitionAnimation.KeyFramesCSS$(Self)+"}";
      
      head = document.getElementsByTagName('head')[0];
      rules = document.createTextNode(css);
      style = document.createElement('style');
      (style).type = 'text/css';
   Self.FStyleDOM=style;
      style.appendChild(rules);
      head.appendChild(style);
   }
   ,SetupTransition:function(Self) {
      TW3CustomAnimation.SetupTransition(Self);
      if (!Self.FStyleSetup) {
         TW3TransitionAnimation.SetupKeyFrames(Self);
      }
      w3_setStyle(Self.FTarget$1.FHandle$3,"-webkit-animation-fill-mode","both");
      Self.FAnimationCmd=TObject.ClassName(Self.ClassType)+" "+(Self.FDuration).toString()+"s "+["ease","linear","ease-in","ease-out","ease-in-out"][Self.FTiming];
      w3_setStyle(Self.FTarget$1.FHandle$3,"-webkit-animation",Self.FAnimationCmd);
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,Create$40$:function($){return $.ClassType.Create$40($)}
   ,FinalizeTransition$:function($){return $.ClassType.FinalizeTransition($)}
   ,SetupTransition$:function($){return $.ClassType.SetupTransition($)}
   ,KeyFramesCSS$:function($){return $.ClassType.KeyFramesCSS($)}
};
var TW3ZoomOutTransition= {
   $ClassName:"TW3ZoomOutTransition",
   $Parent:TW3TransitionAnimation,
   $Init:function ($) {
      TW3TransitionAnimation.$Init($);
   }
   ,KeyFramesCSS:function(Self) {
      var Result="";
      Result="0% {\r\n   -webkit-transform: scale(1.0);\r\n   -webkit-transform-origin: 50% 50%;\r\n}\r\n50% {\r\n   opacity: 0.3;\r\n   -webkit-transform: scale(0.5);\r\n}\r\n100% {\r\n   opacity: 0.0;\r\n   -webkit-transform: scale(0);\r\n}";
      return Result
   }
   ,Destroy:TW3TransitionAnimation.Destroy
   ,Create$40:TW3TransitionAnimation.Create$40
   ,FinalizeTransition:TW3TransitionAnimation.FinalizeTransition
   ,SetupTransition:TW3TransitionAnimation.SetupTransition
   ,KeyFramesCSS$:function($){return $.ClassType.KeyFramesCSS($)}
};
var TW3ZoomInTransition= {
   $ClassName:"TW3ZoomInTransition",
   $Parent:TW3TransitionAnimation,
   $Init:function ($) {
      TW3TransitionAnimation.$Init($);
   }
   ,KeyFramesCSS:function(Self) {
      var Result="";
      Result="0% {\r\n   opacity: 0.0;\r\n   -webkit-transform: scale(0);\r\n}\r\n50% {\r\n   opacity: 0.3;\r\n   -webkit-transform: scale(0.5);\r\n}\r\n100% {\r\n   -webkit-transform: scale(1.0);\r\n   -webkit-transform-origin: 50% 50%;\r\n}";
      return Result
   }
   ,Destroy:TW3TransitionAnimation.Destroy
   ,Create$40:TW3TransitionAnimation.Create$40
   ,FinalizeTransition:TW3TransitionAnimation.FinalizeTransition
   ,SetupTransition:TW3TransitionAnimation.SetupTransition
   ,KeyFramesCSS$:function($){return $.ClassType.KeyFramesCSS($)}
};
var TW3WarpOutTransition= {
   $ClassName:"TW3WarpOutTransition",
   $Parent:TW3TransitionAnimation,
   $Init:function ($) {
      TW3TransitionAnimation.$Init($);
   }
   ,KeyFramesCSS:function(Self) {
      var Result="";
      Result="0% {\r\n   opacity: 1.0;\r\n   -webkit-transform: scale(1);\r\n}\r\n100% {\r\n   opacity: 0;\r\n   -webkit-transform: scale(5);\r\n   -webkit-transform-origin: 50% 50%;\r\n}";
      return Result
   }
   ,Destroy:TW3TransitionAnimation.Destroy
   ,Create$40:TW3TransitionAnimation.Create$40
   ,FinalizeTransition:TW3TransitionAnimation.FinalizeTransition
   ,SetupTransition:TW3TransitionAnimation.SetupTransition
   ,KeyFramesCSS$:function($){return $.ClassType.KeyFramesCSS($)}
};
var TW3WarpInTransition= {
   $ClassName:"TW3WarpInTransition",
   $Parent:TW3TransitionAnimation,
   $Init:function ($) {
      TW3TransitionAnimation.$Init($);
   }
   ,KeyFramesCSS:function(Self) {
      var Result="";
      Result="0% {\r\n   opacity: 0;\r\n   -webkit-transform: scale(5);\r\n   -webkit-transform-origin: 50% 50%;\r\n}\r\n100% {\r\n   opacity: 1.0;\r\n   -webkit-transform: scale(1);\r\n}";
      return Result
   }
   ,Destroy:TW3TransitionAnimation.Destroy
   ,Create$40:TW3TransitionAnimation.Create$40
   ,FinalizeTransition:TW3TransitionAnimation.FinalizeTransition
   ,SetupTransition:TW3TransitionAnimation.SetupTransition
   ,KeyFramesCSS$:function($){return $.ClassType.KeyFramesCSS($)}
};
var TW3RotateTransition= {
   $ClassName:"TW3RotateTransition",
   $Parent:TW3CustomAnimation,
   $Init:function ($) {
      TW3CustomAnimation.$Init($);
      $.FDegree=0;
   }
   ,setDegree:function(Self, Value$20) {
      if (!Self.FBusy) {
         Self.FDegree=Value$20;
      } else {
         throw Exception.Create($New(Exception),"Degree cannot be altered while the transition is active error");
      }
   }
   ,SetupTransition:function(Self) {
      TW3CustomAnimation.SetupTransition(Self);
      w3_setStyle(Self.FTarget$1.FHandle$3,w3_CSSPrefix("AnimationFillMode"),"both");
      w3_setStyle(Self.FTarget$1.FHandle$3,w3_CSSPrefix("Animation"),"ROTATE-FOREVER "+(Self.FDuration).toString()+"s");
   }
   ,FinalizeTransition:function(Self) {
      var mRef$46=undefined;
      mRef$46=Self.FTarget$1.FHandle$3;
      Self.FTarget$1.FHandle$3.style[w3_CSSPrefix("Animation")]="none";
      Self.FTarget$1.FHandle$3.style[w3_CSSPrefix("AnimationFillMode")]="none";
      TW3CustomAnimation.FinalizeTransition(Self);
   }
   ,Create$40:function(Self) {
      TW3CustomAnimation.Create$40(Self);
      Self.FDegree=30;
      return Self
   }
   ,Destroy:TW3CustomAnimation.Destroy
   ,Create$40$:function($){return $.ClassType.Create$40($)}
   ,FinalizeTransition$:function($){return $.ClassType.FinalizeTransition($)}
   ,SetupTransition$:function($){return $.ClassType.SetupTransition($)}
};
var TW3NamedAnimation= {
   $ClassName:"TW3NamedAnimation",
   $Parent:TW3CustomAnimation,
   $Init:function ($) {
      TW3CustomAnimation.$Init($);
      $.FName$2="";
   }
   ,SetupTransition:function(Self) {
      var mCommand="";
      TW3CustomAnimation.SetupTransition(Self);
      w3_setStyle(Self.FTarget$1.FHandle$3,w3_CSSPrefix("AnimationFillMode"),"both");
      mCommand=Self.FName$2+" "+(Self.FDuration).toString()+"s linear";
      w3_setStyle(Self.FTarget$1.FHandle$3,w3_CSSPrefix("Animation"),mCommand);
   }
   ,FinalizeTransition:function(Self) {
      TW3CustomAnimation.FinalizeTransition(Self);
      if (Self.FTarget$1!==null) {
         Self.FTarget$1.FHandle$3.style[w3_CSSPrefix("Animation")]="none";
         Self.FTarget$1.FHandle$3.style[w3_CSSPrefix("AnimationFillMode")]="none";
      }
   }
   ,ExecuteNamed:function(Self, TargetObj$2, aAnimName) {
      Self.FName$2=aAnimName;
      TW3CustomAnimation.Execute(Self,TargetObj$2);
   }
   ,Destroy:TW3CustomAnimation.Destroy
   ,Create$40:TW3CustomAnimation.Create$40
   ,FinalizeTransition$:function($){return $.ClassType.FinalizeTransition($)}
   ,SetupTransition$:function($){return $.ClassType.SetupTransition($)}
};
atEase=0;
atLinear=1;
atEaseIn=2;
atEaseOut=3;
atEaseInOut=4;
var TW3Timer= {
   $ClassName:"TW3Timer",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FDelay=0;
      $.FOnTime=null;
      $.FRepeater=null;
   }
   ,Create$38:function(Self) {
      TObject.Create(Self);
      Self.FDelay=1000;
      return Self
   }
   ,Destroy:function(Self) {
      if (Self.FRepeater) {
         TObject.Free(Self.FRepeater);
      }
      TObject.Destroy(Self);
   }
   ,getEnabled$1:function(Self) {
      var Result=false;
      Result=Self.FRepeater!==null;
      return Result
   }
   ,HandleEventCallback:function(Self, Sender$6) {
      var Result=false;
      Result=false;
      if (Self.FOnTime) {
         Self.FOnTime(Self);
      }
      return Result
   }
   ,setDelay:function(Self, aValue$107) {
      if (Self.FRepeater) {
         TW3Timer.setEnabled$1$(Self,false);
      }
      Self.FDelay=TInteger.EnsureRange(TInteger,aValue$107,1,2147483647);
      TW3Timer.setEnabled$1$(Self,true);
   }
   ,setEnabled$1:function(Self, aValue$108) {
      if (aValue$108!=TW3Timer.getEnabled$1$(Self)) {
         switch (aValue$108) {
            case false :
               TObject.Free(Self.FRepeater);
               Self.FRepeater=null;
               break;
            case true :
               if (Self.FOnTime) {
                  Self.FRepeater=TW3EventRepeater.Create$39$($New(TW3EventRepeater),$Event1(Self,TW3Timer.HandleEventCallback),Self.FDelay);
               }
               break;
         }
      }
   }
   ,setOnTime:function(Self, aValue$109) {
      Self.FOnTime=aValue$109;
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,Create$38$:function($){return $.ClassType.Create$38($)}
   ,getEnabled$1$:function($){return $.ClassType.getEnabled$1($)}
   ,setDelay$:function($){return $.ClassType.setDelay.apply($.ClassType, arguments)}
   ,setEnabled$1$:function($){return $.ClassType.setEnabled$1.apply($.ClassType, arguments)}
};
var TW3CustomRepeater= {
   $ClassName:"TW3CustomRepeater",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FDelay$1=$.FHandle$4=0;
   }
   ,AllocTimer:function(Self) {
      var mRef$47=null;
      var mWait=0;
      if (Self.FHandle$4!=0) {
         TW3CustomRepeater.ReleaseTimer(Self);
      }
      try {
         mRef$47=$Event0(Self,TW3CustomRepeater.CBHandleCallBack);
         mWait=Self.FDelay$1;
         
      Self.FHandle$4 = setInterval(mRef$47,mWait);
          } catch ($e) {
         var E=$W($e);
         throw Exception.Create($New(EW3CustomRepeater),("Method "+("AllocTimer").toString()+" in class "+TObject.ClassName(Self.ClassType).toString()+" threw exception ["+E.FMessage.toString()+"]"));
      }
   }
   ,CBHandleCallBack:function(Self) {
      TW3CustomRepeater.CBExecute$(Self);
   }
   ,Destroy:function(Self) {
      if (Self.FHandle$4!=0) {
         TW3CustomRepeater.ReleaseTimer(Self);
      }
      TObject.Destroy(Self);
   }
   ,getActive:function(Self) {
      var Result=false;
      Result=Self.FHandle$4!=0;
      return Result
   }
   ,ReleaseTimer:function(Self) {
      if (Self.FHandle$4!=0) {
         try {
            try {
               
          clearInterval(Self.FHandle$4);
                    } catch ($e) {
               var E$1=$W($e);
               throw Exception.Create($New(EW3CustomRepeater),("Method "+("ReleaseTimer").toString()+" in class "+TObject.ClassName(Self.ClassType).toString()+" threw exception ["+E$1.FMessage.toString()+"]"));
            }
         } finally {
            Self.FHandle$4=0;
         }
      }
   }
   ,setDelay$1:function(Self, aValue$110) {
      Self.FDelay$1=TInteger.EnsureRange(TInteger,aValue$110,1,2147483647);
      if (Self.FHandle$4!=0) {
         TW3CustomRepeater.ReleaseTimer(Self);
         TW3CustomRepeater.AllocTimer(Self);
      }
   }
   ,setHandle:function(Self, aValue$111) {
      Self.FHandle$4=aValue$111;
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,CBExecute$:function($){return $.ClassType.CBExecute($)}
};
var TW3EventRepeater= {
   $ClassName:"TW3EventRepeater",
   $Parent:TW3CustomRepeater,
   $Init:function ($) {
      TW3CustomRepeater.$Init($);
      $.FCallBack=null;
   }
   ,setCallBack:function(Self, aValue$112) {
      Self.FCallBack=aValue$112;
   }
   ,CBExecute:function(Self) {
      if (Self.FCallBack(Self)) {
         TW3CustomRepeater.ReleaseTimer(Self);
      }
   }
   ,Create$39:function(Self, aCallBack, aDelay$1) {
      TObject.Create(Self);
      Self.FCallBack=aCallBack;
      TW3CustomRepeater.setDelay$1(Self,aDelay$1);
      if ((aCallBack!==null)&&(aDelay$1>0)) {
         TW3CustomRepeater.AllocTimer(Self);
      }
      return Self
   }
   ,After:function(Self, aDelay$2, aProc) {
      GlobalRepeaterList.push(TW3EventRepeater.Create$39$($New(TW3EventRepeater),function (Sender$7) {
         var Result=false;
         aProc();
         GlobalRepeaterList.splice(GlobalRepeaterList.indexOf(Sender$7),1)
         ;
         Result=true;
         return Result
      },aDelay$2));
   }
   ,Destroy:TW3CustomRepeater.Destroy
   ,CBExecute$:function($){return $.ClassType.CBExecute($)}
   ,Create$39$:function($){return $.ClassType.Create$39.apply($.ClassType, arguments)}
   ,After$:function($){return $.After.apply($.ClassType, arguments)}
};
var EW3EventRepeater= {
   $ClassName:"EW3EventRepeater",
   $Parent:EW3Exception,
   $Init:function ($) {
      EW3Exception.$Init($);
   }
   ,Destroy:Exception.Destroy
};
var EW3CustomRepeater= {
   $ClassName:"EW3CustomRepeater",
   $Parent:EW3Exception,
   $Init:function ($) {
      EW3Exception.$Init($);
   }
   ,Destroy:Exception.Destroy
};
var TApplication= {
   $ClassName:"TApplication",
   $Parent:TW3CustomApplication,
   $Init:function ($) {
      TW3CustomApplication.$Init($);
      $.FForm1=null;
   }
   ,ApplicationStarting:function(Self) {
      Self.FForm1=TW3Component.Create$36$($New(TForm1),Self.FDisplay.FView);
      TW3Component.SetName(Self.FForm1,"Form1");
      TW3CustomApplication.RegisterFormInstance(Self,Self.FForm1,true);
      TW3CustomApplication.ApplicationStarting(Self);
   }
   ,Destroy:TW3CustomApplication.Destroy
   ,ApplicationClosing:TW3CustomApplication.ApplicationClosing
   ,ApplicationStarted:TW3CustomApplication.ApplicationStarted
   ,ApplicationStarting$:function($){return $.ClassType.ApplicationStarting($)}
   ,CBOnBeforeUnload:TW3CustomApplication.CBOnBeforeUnload
   ,CBOnOrientationChange:TW3CustomApplication.CBOnOrientationChange
   ,CBOnReSize:TW3CustomApplication.CBOnReSize
   ,CBOnUnLoad:TW3CustomApplication.CBOnUnLoad
   ,Create$43:TW3CustomApplication.Create$43
   ,HookWindowEvents:TW3CustomApplication.HookWindowEvents
};
var TW3Panel= {
   $ClassName:"TW3Panel",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3PaintBox= {
   $ClassName:"TW3PaintBox",
   $Parent:TW3GraphicControl,
   $Init:function ($) {
      TW3GraphicControl.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3GraphicControl.FinalizeObject
   ,InitializeObject:TW3GraphicControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3GraphicControl.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3GraphicControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3GraphicControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3GraphicControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3GraphicControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,Paint:TW3GraphicControl.Paint
};
var TW3ScrollBar= {
   $ClassName:"TW3ScrollBar",
   $Parent:TW3PaintBox,
   $Init:function ($) {
      TW3PaintBox.$Init($);
      $.FGlobalAlpha=0;
      $.FRangeHigh=$.FRangeLow=$.FViewHigh=$.FViewLow=0;
   }
   ,Create$36:function(Self, AOwner$7) {
      TW3Component.Create$36(Self,AOwner$7);
      Self.FGlobalAlpha=0;
      return Self
   }
   ,Hide$1:function(Self, time_ms) {
      var loop = 0;
      if (time_ms<=0) {
         TW3MovableControl.SetVisible$(Self,false);
         Self.FGlobalAlpha=0;
         TW3CustomControl.Invalidate$(Self);
      } else {
         loop=0;
         TControlAnimationList.Animate(TAnimationManager.GetAnimationList(Animation(),Self),time_ms,function (progress) {
            if (loop==1) {
               TW3CustomControl.SendToBack(Self);
            }
            Self.FGlobalAlpha=1-progress;
            if (progress==1) {
               TW3MovableControl.SetVisible$(Self,false);
            }
            TW3CustomControl.Invalidate$(Self);
            ++loop;
         },null);
      }
   }
   ,Interpolate$1:function(Self, viewPos) {
      var Result=0;
      Result=Math.round(((viewPos-Self.FRangeLow)/(Self.FRangeHigh-Self.FRangeLow))*TW3MovableControl.ClientHeight(Self));
      return Result
   }
   ,Paint:function(Self) {
      TW3Canvas.setGlobalAlpha(Self.FCanvas,1);
      TW3Canvas.setFillStyle(Self.FCanvas,"rgb(255, 255, 255)");
      TW3Canvas.FillRectF$2(Self.FCanvas,0,0,TW3MovableControl.ClientWidth(Self),TW3MovableControl.ClientHeight(Self));
      TW3Canvas.setGlobalAlpha(Self.FCanvas,Self.FGlobalAlpha);
      TW3Canvas.setFillStyle(Self.FCanvas,ColorToWebStr(13882323));
      TW3Canvas.FillRectF$2(Self.FCanvas,0,0,TW3MovableControl.ClientWidth(Self),TW3MovableControl.ClientHeight(Self));
      TW3Canvas.setFillStyle(Self.FCanvas,ColorToWebStr(11119017));
      TW3Canvas.FillRectF$2(Self.FCanvas,0,TW3ScrollBar.Interpolate$1(Self,Self.FViewLow),TW3MovableControl.ClientWidth(Self),TW3ScrollBar.Interpolate$1(Self,Self.FViewHigh));
   }
   ,SetRange:function(Self, rangeLow, rangeHigh) {
      Self.FRangeLow=rangeLow;
      Self.FRangeHigh=rangeHigh;
      TW3CustomControl.Invalidate$(Self);
   }
   ,SetView:function(Self, viewLow, viewHigh) {
      Self.FViewLow=viewLow;
      Self.FViewHigh=viewHigh;
      TW3CustomControl.Invalidate$(Self);
   }
   ,Show$1:function(Self, time_ms$1) {
      TW3MovableControl.SetVisible$(Self,true);
      TW3CustomControl.SendToBack(Self);
      if (time_ms$1<=0) {
         Self.FGlobalAlpha=1;
         TW3CustomControl.Invalidate$(Self);
      } else {
         Self.FGlobalAlpha=0;
         TControlAnimationList.Animate(TAnimationManager.GetAnimationList(Animation(),Self),time_ms$1,function (progress$1) {
            Self.FGlobalAlpha=progress$1;
            if (progress$1==1) {
               TW3CustomControl.BringToFront(Self);
            }
            TW3CustomControl.Invalidate$(Self);
         },null);
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3GraphicControl.FinalizeObject
   ,InitializeObject:TW3GraphicControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3GraphicControl.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36$:function($){return $.ClassType.Create$36.apply($.ClassType, arguments)}
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3GraphicControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3GraphicControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3GraphicControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3GraphicControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,Paint$:function($){return $.ClassType.Paint($)}
};
var TW3ListBoxStyles= {
   $ClassName:"TW3ListBoxStyles",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FHighlighted=$.FItem=$.FMoving$2=$.FSelected=$.FText$2="";
      $.FHighlightedColor=$.FItemColor=$.FMovingColor=$.FSelectedColor=0;
      $.FHighlightVisible=$.FSelectionVisible=false;
   }
   ,Create$55:function(Self) {
      TObject.Create(Self);
      Self.FHighlighted="TW3Panel";
      Self.FHighlightedColor=536870911;
      Self.FHighlightVisible=true;
      Self.FItem="TW3Panel";
      Self.FItemColor=536870911;
      Self.FMoving$2="TW3Panel";
      Self.FMovingColor=8421504;
      Self.FSelected="TW3Panel";
      Self.FSelectedColor=536870911;
      Self.FSelectionVisible=true;
      Self.FText$2="TW3Label";
      return Self
   }
   ,Destroy:TObject.Destroy
};
var TW3ListBox= {
   $ClassName:"TW3ListBox",
   $Parent:TW3Panel,
   $Init:function ($) {
      TW3Panel.$Init($);
      $.FAllowMoving=$.FEnableAnimation=$.FMoving$3=$.FScrolling=false;
      $.FClickControl=$.FHighlightedItem=$.FItems$1=$.FMovingItem=$.FOnHighlighted=$.FOnMouseDown$1=$.FOnMouseEnter$1=$.FOnMouseExit$1=$.FOnMouseMove$1=$.FOnMouseUp$1=$.FOnMouseWheel$1=$.FOnSelected=$.FOnTouchBegin=$.FOnTouchEnd=$.FOnTouchMove=$.FScrollBar=$.FSelectedItem=$.FStartMoving=$.FStyles=null;
      $.FControlStart={X$1:0,Y$1:0};
      $.FInnerSpacing=$.FItemHeight=$.FMovingIndex=0;
      $.FItemClass=null;
      $.FMousePosition={X$1:0,Y$1:0};
      $.FMoveStart={X$1:0,Y$1:0};
      $.FScrollStart={X$1:0,Y$1:0};
   }
   ,Add$5:function(Self, s) {
      var Result=0;
      Result=TW3ListBox.Add$4(Self);
      TW3ListBox.CreateTextItem(Self,Result,s);
      return Result
   }
   ,Add$4:function(Self) {
      var Result=0;
      var item = null;
      item=TW3Component.Create$36$($NewDyn(Self.FItemClass," in TW3ListBox.Add [line: 249, column: 25, file: W3ListBox]"),Self);
      TW3ListBox.Colorize(Self,item,0);
      TW3MovableControl.SetBounds$(item,Self.FInnerSpacing,Self.FInnerSpacing+(TW3ListBox.GetCount$2(Self)*(Self.FItemHeight+1)),TW3MovableControl.ClientWidth(Self)-(2*Self.FInnerSpacing),Self.FItemHeight);
      TW3CustomControl.BringToFront(item);
      Result=TObjectList.Add(Self.FItems$1,item);
      TW3ListBox.UpdateScrollBar(Self);
      return Result
   }
   ,Clear$7:function(Self) {
      var i$4=0;
      Self.FSelectedItem=null;
      Self.FHighlightedItem=null;
      var $temp39;
      for(i$4=0,$temp39=TObjectList.GetCount(Self.FItems$1);i$4<$temp39;i$4++) {
         TObject.Free(TObjectList.GetItem(Self.FItems$1,i$4));
      }
      TObjectList.Clear(Self.FItems$1);
      TW3ListBox.UpdateScrollBar(Self);
   }
   ,ColorItem:function(Self, item$1, itemStyle, itemColor, colorVisible) {
      if (colorVisible) {
         TW3CustomControl.setStyleClass(item$1,itemStyle);
         TW3MovableControl.setColor$3(item$1,itemColor);
      }
   }
   ,Colorize:function(Self, item$2, style$1) {
      if (!item$2) {
         return;
      }
      switch (style$1) {
         case 0 :
            if (item$2!==Self.FSelectedItem) {
               TW3ListBox.ColorItem(Self,item$2,Self.FStyles.FItem,Self.FStyles.FItemColor,Self.FStyles.FSelectionVisible||Self.FStyles.FHighlightVisible);
            } else {
               TW3ListBox.ColorItem(Self,item$2,Self.FStyles.FSelected,Self.FStyles.FSelectedColor,Self.FStyles.FSelectionVisible);
            }
            if (item$2===Self.FHighlightedItem) {
               Self.FHighlightedItem=null;
               TW3ListBox.DoHighlighted(Self);
            }
            break;
         case 1 :
            if ((Self.FHighlightedItem!==null)&&(Self.FHighlightedItem!==item$2)) {
               TW3ListBox.Colorize(Self,Self.FHighlightedItem,0);
            }
            if (item$2!==Self.FSelectedItem) {
               TW3ListBox.ColorItem(Self,item$2,Self.FStyles.FHighlighted,Self.FStyles.FHighlightedColor,Self.FStyles.FHighlightVisible);
            } else {
               TW3ListBox.ColorItem(Self,item$2,Self.FStyles.FSelected,Self.FStyles.FSelectedColor,Self.FStyles.FSelectionVisible);
            }
            Self.FHighlightedItem=item$2;
            Self.FMovingItem=null;
            TW3ListBox.DoHighlighted(Self);
            break;
         case 2 :
            if ((Self.FSelectedItem!==null)&&(Self.FSelectedItem!==item$2)) {
               TW3ListBox.ColorItem(Self,Self.FSelectedItem,Self.FStyles.FItem,Self.FStyles.FItemColor,Self.FStyles.FSelectionVisible);
            }
            TW3ListBox.ColorItem(Self,item$2,Self.FStyles.FSelected,Self.FStyles.FSelectedColor,Self.FStyles.FSelectionVisible);
            Self.FSelectedItem=item$2;
            TW3ListBox.DoSelected(Self);
            break;
         case 3 :
            Self.FMovingItem=item$2;
            TW3ListBox.ColorItem(Self,item$2,Self.FStyles.FMoving$2,Self.FStyles.FMovingColor,true);
            break;
      }
   }
   ,Create$36:function(Self, AOwner$8) {
      TW3Component.Create$36(Self,AOwner$8);
      Self.FItems$1=TObjectList.Create$15$($New(TObjectList));
      Self.FStyles=TW3ListBoxStyles.Create$55($New(TW3ListBoxStyles));
      Self.FScrollBar=TW3Component.Create$36$($New(TW3ScrollBar),Self);
      TW3ScrollBar.Hide$1(Self.FScrollBar,0);
      Self.FEnableAnimation=true;
      Self.FInnerSpacing=3;
      Self.FItemClass=TW3Panel;
      Self.FItemHeight=32;
      TW3MovableControl.setColor$3(Self,16777215);
      TW3CustomControl.setStyleClass(Self,"TW3Panel");
      TW3CustomControl._setMouseDown(Self,$Event(Self,TW3ListBox.HandleMouseDown$1));
      TW3CustomControl._setMouseEnter(Self,$Event(Self,TW3ListBox.HandleMouseEnter));
      TW3CustomControl._setMouseExit(Self,$Event(Self,TW3ListBox.HandleMouseExit));
      TW3CustomControl._setMouseMove(Self,$Event(Self,TW3ListBox.HandleMouseMove));
      TW3CustomControl._setMouseUp(Self,$Event(Self,TW3ListBox.HandleMouseUp));
      TW3CustomControl._setTouchBegins(Self,$Event2(Self,TW3ListBox.HandleTouchBegin));
      TW3CustomControl._setTouchMoves(Self,$Event2(Self,TW3ListBox.HandleTouchMove));
      TW3CustomControl._setTouchEnds(Self,$Event2(Self,TW3ListBox.HandleTouchEnd));
      TW3CustomControl._setMouseWheel(Self,$Event(Self,TW3ListBox.HandleMouseWheel));
      return Self
   }
   ,CreateTextItem:function(Self, itemIndex, s$1) {
      var lbl = null;
      lbl=TW3Component.Create$36$($New(TW3Label),TW3ListBox.GetItem$6(Self,itemIndex));
      TW3CustomControl.setStyleClass(lbl,Self.FStyles.FText$2);
      TW3MovableControl.SetBounds$(lbl,Self.FInnerSpacing,Self.FInnerSpacing,TW3MovableControl.ClientWidth(TW3ListBox.GetItem$6(Self,itemIndex))-(2*Self.FInnerSpacing),TW3MovableControl.ClientHeight(TW3ListBox.GetItem$6(Self,itemIndex))-(2*Self.FInnerSpacing));
      TW3Label.setCaption$(lbl,s$1);
   }
   ,Delete$2:function(Self, itemIndex$1) {
      var item$3 = null;
      var selIndex = 0;
      var iItem=0;
      item$3=TW3ListBox.GetItem$6(Self,itemIndex$1);
      selIndex=TW3ListBox.GetSelectedIndex(Self);
      if (item$3===Self.FSelectedItem) {
         Self.FSelectedItem=null;
         TW3ListBox.DoSelected(Self);
      }
      if (item$3===Self.FHighlightedItem) {
         Self.FHighlightedItem=null;
         TW3ListBox.DoHighlighted(Self);
      }
      TObjectList.Remove(Self.FItems$1,itemIndex$1);
      TObject.Free(item$3);
      if (itemIndex$1>=TW3ListBox.GetCount$2(Self)) {
         if (selIndex==itemIndex$1) {
            TW3ListBox.SetSelectedIndex(Self,selIndex-1);
         }
      } else {
         var $temp40;
         for(iItem=itemIndex$1,$temp40=TW3ListBox.GetCount$2(Self);iItem<$temp40;iItem++) {
            if (iItem==selIndex) {
               TW3ListBox.MoveNotify(Self,iItem,TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,iItem))-Self.FItemHeight-1,function () {
                  if (selIndex>=TW3ListBox.GetCount$2(Self)) {
                     --selIndex;
                  }
                  TW3ListBox.SetSelectedIndex(Self,selIndex);
               });
            } else {
               TW3ListBox.Move$5(Self,iItem,TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,iItem))-Self.FItemHeight-1);
            }
         }
      }
      TW3ListBox.UpdateScrollBar(Self);
   }
   ,DoHighlighted:function(Self) {
      if (Self.FOnHighlighted) {
         Self.FOnHighlighted(Self,TW3ListBox.GetHighlightedIndex(Self));
      }
   }
   ,DoSelected:function(Self) {
      if (Self.FOnSelected) {
         Self.FOnSelected(Self,TW3ListBox.GetSelectedIndex(Self));
      }
   }
   ,GetCount$2:function(Self) {
      var Result=0;
      Result=TObjectList.GetCount(Self.FItems$1);
      return Result
   }
   ,GetHighlightedIndex:function(Self) {
      var Result=0;
      Result=TW3ListBox.IndexOf$3(Self,Self.FHighlightedItem);
      return Result
   }
   ,GetItem$6:function(Self, idx) {
      var Result=null;
      Result=$As(TObjectList.GetItem(Self.FItems$1,idx),TW3CustomControl);
      return Result
   }
   ,GetSelectedIndex:function(Self) {
      var Result=0;
      Result=TW3ListBox.IndexOf$3(Self,Self.FSelectedItem);
      return Result
   }
   ,GetText$1:function(Self, idx$1) {
      var Result="";
      var child = null;
      Result="";
      child=TW3ListBox.GetTextChild(Self,idx$1);
      if (child) {
         Result=child.FCaption;
      }
      return Result
   }
   ,GetTextChild:function(Self, idx$2) {
      var Result=null;
      var item$4 = null;
      var iChild$2=0;
      var obj$2 = null;
      Result=null;
      item$4=TW3ListBox.GetItem$6(Self,idx$2);
      var $temp41;
      for(iChild$2=0,$temp41=TW3Component.GetChildCount(item$4);iChild$2<$temp41;iChild$2++) {
         obj$2=TW3Component.GetChildObject(item$4,iChild$2);
         if ((obj$2!==null)&&$Is(obj$2,TW3Label)) {
            return Result=$As(obj$2,TW3Label);
         }
      }
      return Result
   }
   ,HandleMouseDown$1:function(Self, Sender$8, Button$1, Shift, X$2, Y$2) {
      if (TW3CustomControl.getEnabled$(Self)) {
         Self.FMousePosition=Create$14(X$2,Y$2);
         Self.FMoveStart=Create$14(X$2,Y$2);
         Self.FScrollStart=Create$14(X$2,Y$2);
         Self.FClickControl=TW3ListBox.ItemAtPos(Self,X$2,Y$2);
         if (Self.FClickControl) {
            Self.FControlStart=Create$14(TW3MovableControl.GetLeft$(Self.FClickControl),TW3MovableControl.GetTop$(Self.FClickControl));
            TW3CustomControl.BringToFront(Self.FClickControl);
            TW3CustomControl.BringToFront(Self.FScrollBar);
            TW3ListBox.Colorize(Self,Self.FClickControl,2);
         }
         if (Self.FAllowMoving) {
            Self.FStartMoving=TW3EventRepeater.Create$39$($New(TW3EventRepeater),function (Sender$9) {
               var Result=false;
               if (((Math.pow(Self.FMousePosition.X$1-Self.FMoveStart.X$1,2))+(Math.pow(Self.FMousePosition.Y$1-Self.FMoveStart.Y$1,2)))<=(Math.pow(7,2))) {
                  TW3ListBox.Colorize(Self,Self.FMovingItem,3);
                  Self.FMoving$3=true;
               }
               Result=true;
               return Result
            },750);
            TW3ListBox.SetMovingItem(Self,Self.FClickControl);
         }
         TW3ListBox.SetScrolling(Self,true);
      }
      if (Self.FOnMouseDown$1) {
         Self.FOnMouseDown$1(Self,Button$1,Shift,X$2,Y$2);
      }
   }
   ,HandleMouseEnter:function(Self, Sender$10, Shift$1, X$3, Y$3) {
      if (TW3CustomControl.getEnabled$(Self)) {
         Self.FMousePosition=Create$14(X$3,Y$3);
         if (!Self.FMovingItem) {
            TW3ListBox.Colorize(Self,TW3ListBox.ItemAtPos(Self,X$3,Y$3),1);
         }
      }
      if (Self.FOnMouseEnter$1) {
         Self.FOnMouseEnter$1(Self,Shift$1,X$3,Y$3);
      }
   }
   ,HandleMouseExit:function(Self, Sender$11, Shift$2, X$4, Y$4) {
      if (TW3CustomControl.getEnabled$(Self)) {
         Self.FMousePosition=Create$14(X$4,Y$4);
         if (!Self.FMoving$3) {
            TW3ListBox.Colorize(Self,Self.FHighlightedItem,0);
         }
      }
      if (Self.FOnMouseExit$1) {
         Self.FOnMouseExit$1(Self,Shift$2,X$4,Y$4);
      }
   }
   ,HandleMouseMove:function(Self, Sender$12, Shift$3, X$5, Y$5) {
      if (TW3CustomControl.getEnabled$(Self)) {
         Self.FMousePosition=Create$14(X$5,Y$5);
         if (Self.FMoving$3) {
            TW3MovableControl.setTop$(Self.FMovingItem,((Self.FControlStart.Y$1+Y$5)-Self.FMoveStart.Y$1));
            TW3ListBox.ItemMoving(Self);
         } else if (Self.FScrolling) {
            TW3ListBox.Scroll(Self,X$5-Self.FScrollStart.X$1,Y$5-Self.FScrollStart.Y$1);
            Self.FScrollStart=Create$14(X$5,Y$5);
         }
      }
      if (Self.FOnMouseMove$1) {
         Self.FOnMouseMove$1(Self,Shift$3,X$5,Y$5);
      }
   }
   ,HandleMouseUp:function(Self, Sender$13, Button$2, Shift$4, X$6, Y$6) {
      if (TW3CustomControl.getEnabled$(Self)) {
         Self.FMousePosition=Create$14(X$6,Y$6);
         TW3ListBox.Colorize(Self,TW3ListBox.ItemAtPos(Self,X$6,Y$6),1);
         if (Self.FMoving$3) {
            TW3ListBox.ItemMoved(Self);
            TW3ListBox.SetMovingItem(Self,null);
         }
         Self.FMoving$3=false;
         TW3ListBox.SetScrolling(Self,false);
         TObject.Free(Self.FStartMoving);
      }
      if (Self.FOnMouseUp$1) {
         Self.FOnMouseUp$1(Self,Button$2,Shift$4,X$6,Y$6);
      }
   }
   ,HandleMouseWheel:function(Self, Sender$14, Shift$5, wheelData, mousePos$3, handled$4) {
      if (TW3CustomControl.getEnabled$(Self)) {
         TW3ListBox.Scroll(Self,0,$Div(wheelData*(Self.FItemHeight+1),3));
      }
      if (Self.FOnMouseWheel$1) {
         Self.FOnMouseWheel$1(Self,Shift$5,wheelData,mousePos$3,handled$4);
      }
   }
   ,HandleTouchBegin:function(Self, Sender$15, Info$1) {
      var sr$9 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      sr$9=TW3MovableControl.ScreenRect(Self);
      TShiftState.SetKeyStateEvent(TShiftState.Current(),w3_event());
      TW3ListBox.HandleMouseDown$1(Self,Sender$15,0,TShiftState.Current(),TW3TouchList.a$2(TW3TouchData.getChanged(Info$1),0).FScreenX-sr$9.Left$1,TW3TouchList.a$2(TW3TouchData.getChanged(Info$1),0).FScreenY-sr$9.Top$1);
      if (Self.FOnTouchBegin) {
         Self.FOnTouchBegin(Self,Info$1);
      }
   }
   ,HandleTouchEnd:function(Self, Sender$16, Info$2) {
      var sr$10 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      sr$10=TW3MovableControl.ScreenRect(Self);
      TShiftState.SetKeyStateEvent(TShiftState.Current(),w3_event());
      TW3ListBox.HandleMouseUp(Self,Sender$16,0,TShiftState.Current(),TW3TouchList.a$2(TW3TouchData.getChanged(Info$2),0).FScreenX-sr$10.Left$1,TW3TouchList.a$2(TW3TouchData.getChanged(Info$2),0).FScreenY-sr$10.Top$1);
      if (Self.FOnTouchEnd) {
         Self.FOnTouchEnd(Self,Info$2);
      }
   }
   ,HandleTouchMove:function(Self, Sender$17, Info$3) {
      var sr$11 = {Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      sr$11=TW3MovableControl.ScreenRect(Self);
      TShiftState.SetKeyStateEvent(TShiftState.Current(),w3_event());
      TW3ListBox.HandleMouseMove(Self,Sender$17,TShiftState.Current(),TW3TouchList.a$2(TW3TouchData.getChanged(Info$3),0).FScreenX-sr$11.Left$1,TW3TouchList.a$2(TW3TouchData.getChanged(Info$3),0).FScreenY-sr$11.Top$1);
      if (Self.FOnTouchMove) {
         Self.FOnTouchMove(Self,Info$3);
      }
   }
   ,IndexOf$3:function(Self, item$5) {
      var Result=0;
      if (item$5) {
         var $temp42;
         for(Result=0,$temp42=TW3ListBox.GetCount$2(Self);Result<$temp42;Result++) {
            if (TObjectList.GetItem(Self.FItems$1,Result)===item$5) {
               return Result;
            }
         }
      }
      Result=-1;
      return Result
   }
   ,Insert$4:function(Self, itemIndex$2, s$2) {
      TW3ListBox.Insert$3(Self,itemIndex$2);
      TW3ListBox.CreateTextItem(Self,itemIndex$2,s$2);
   }
   ,Insert$3:function(Self, itemIndex$3) {
      var item$6 = null;
      var iItem$1=0;
      item$6=TW3Component.Create$36$($NewDyn(Self.FItemClass," in TW3ListBox.Insert [line: 573, column: 25, file: W3ListBox]"),Self);
      TW3ListBox.Colorize(Self,item$6,0);
      TW3MovableControl.SetBounds$(item$6,Self.FInnerSpacing,Self.FInnerSpacing+(itemIndex$3*(Self.FItemHeight+1)),TW3MovableControl.ClientWidth(Self)-(2*Self.FInnerSpacing),Self.FItemHeight);
      TObjectList.Insert$1(Self.FItems$1,itemIndex$3,item$6);
      var $temp43;
      for(iItem$1=itemIndex$3+1,$temp43=TW3ListBox.GetCount$2(Self);iItem$1<$temp43;iItem$1++) {
         TW3ListBox.Move$5(Self,iItem$1,TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,iItem$1))+Self.FItemHeight+1);
      }
      TW3ListBox.UpdateScrollBar(Self);
   }
   ,ItemAtPos:function(Self, X$7, Y$7) {
      var Result=null;
      var idx$3 = 0;
      if (TW3ListBox.GetCount$2(Self)==0) {
         Result=null;
      } else {
         idx$3=$Div(Y$7-Self.FInnerSpacing-TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,0)),Self.FItemHeight+1);
         if ((idx$3<0)||(idx$3>=TW3ListBox.GetCount$2(Self))) {
            Result=null;
         } else {
            Result=TW3ListBox.GetItem$6(Self,idx$3);
         }
      }
      return Result
   }
   ,ItemMoved:function(Self) {
      TW3ListBox.Move$5(Self,Self.FMovingIndex,Self.FInnerSpacing+(Self.FMovingIndex*(Self.FItemHeight+1)));
   }
   ,ItemMoving:function(Self) {
      if (((Self.FMovingIndex<(TW3ListBox.GetCount$2(Self)-1))&&((TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,Self.FMovingIndex))+($Div(Self.FItemHeight,2)))>TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,Self.FMovingIndex+1))))&&(!TControlAnimationList.IsActive(TAnimationManager.GetAnimationList(Animation(),TW3ListBox.GetItem$6(Self,Self.FMovingIndex+1))))) {
         TObjectList.Swap$1(Self.FItems$1,Self.FMovingIndex,Self.FMovingIndex+1);
         ++Self.FMovingIndex;
         TW3ListBox.Move$5(Self,Self.FMovingIndex-1,TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,Self.FMovingIndex-1))-Self.FItemHeight-1);
      } else if (((Self.FMovingIndex>0)&&(TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,Self.FMovingIndex))<(TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,Self.FMovingIndex-1))+($Div(Self.FItemHeight,2)))))&&(!TControlAnimationList.IsActive(TAnimationManager.GetAnimationList(Animation(),TW3ListBox.GetItem$6(Self,Self.FMovingIndex-1))))) {
         TObjectList.Swap$1(Self.FItems$1,Self.FMovingIndex,Self.FMovingIndex-1);
         --Self.FMovingIndex;
         TW3ListBox.Move$5(Self,Self.FMovingIndex+1,TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,Self.FMovingIndex+1))+Self.FItemHeight+1);
      }
   }
   ,Move$5:function(Self, itemIndex$4, newTop) {
      TW3ListBox.MoveNotify(Self,itemIndex$4,newTop,function () {
      });
   }
   ,MoveNotify:function(Self, itemIndex$5, newTop$1, notifyAtEnd) {
      if (Self.FEnableAnimation) {
         TControlAnimationList.Move$2(TAnimationManager.GetAnimationList(Animation(),TW3ListBox.GetItem$6(Self,itemIndex$5)),150,TW3MovableControl.GetLeft$(TW3ListBox.GetItem$6(Self,itemIndex$5)),newTop$1,TAnimationConfig.SetOnCompleted(TAnimationManager.Config(Animation().ClassType),notifyAtEnd));
      } else {
         TW3MovableControl.setTop$(TW3ListBox.GetItem$6(Self,itemIndex$5),newTop$1);
         notifyAtEnd();
      }
   }
   ,Resize:function(Self) {
      var bounds={Bottom$1:0,Left$1:0,Right$1:0,Top$1:0};
      var rightMargin=0;
      var iItem$2=0;
      var item$7 = null;
      var text$5 = null;
      TW3MovableControl.Resize(Self);
      var $temp44;
      for(iItem$2=0,$temp44=TW3ListBox.GetCount$2(Self);iItem$2<$temp44;iItem$2++) {
         item$7=TW3ListBox.GetItem$6(Self,iItem$2);
         text$5=TW3ListBox.GetTextChild(Self,iItem$2);
         if (text$5) {
            bounds=TW3MovableControl.getBoundsRect$(text$5);
            rightMargin=TW3MovableControl.ClientWidth(item$7)-TRect$Width$1(bounds);
         }
         TW3MovableControl.SetBounds$(item$7,Self.FInnerSpacing,Self.FInnerSpacing+(iItem$2*(Self.FItemHeight+1)),TW3MovableControl.ClientWidth(Self)-(2*Self.FInnerSpacing),Self.FItemHeight);
         if (text$5) {
            TW3MovableControl.SetBounds$(text$5,bounds.Left$1,bounds.Top$1,TW3MovableControl.ClientWidth(item$7)-rightMargin,TRect$Height$1(bounds));
         }
      }
      TW3MovableControl.SetBounds$(Self.FScrollBar,TW3MovableControl.ClientWidth(Self)-6,2,4,TW3MovableControl.ClientHeight(Self)-4);
      TW3ScrollBar.SetView(Self.FScrollBar,0,TW3MovableControl.ClientHeight(Self));
   }
   ,Scroll:function(Self, dX$1, dY$1) {
      var iItem$3=0;
      if ((dY$1==0)||(TW3ListBox.GetCount$2(Self)==0)) {
         return;
      }
      if ((dY$1>0)&&(TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,0))>=0)) {
         return;
      }
      if ((dY$1<0)&&((TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,TW3ListBox.GetCount$2(Self)-1))+Self.FItemHeight)<=TW3MovableControl.ClientHeight(Self))) {
         return;
      }
      if ((dY$1>0)&&((TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,0))+dY$1)>0)) {
         dY$1=-TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,0));
      }
      if ((dY$1<0)&&((TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,TW3ListBox.GetCount$2(Self)-1))+Self.FItemHeight+dY$1)<TW3MovableControl.ClientHeight(Self))) {
         dY$1=TW3MovableControl.ClientHeight(Self)-(TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,TW3ListBox.GetCount$2(Self)-1))+Self.FItemHeight);
      }
      var $temp45;
      for(iItem$3=0,$temp45=TW3ListBox.GetCount$2(Self);iItem$3<$temp45;iItem$3++) {
         TW3MovableControl.setTop$(TW3ListBox.GetItem$6(Self,iItem$3),(TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,iItem$3))+dY$1));
      }
      TW3ListBox.UpdateScrollBar(Self);
   }
   ,SetMovingItem:function(Self, item$8) {
      Self.FMovingItem=item$8;
      Self.FMovingIndex=TW3ListBox.IndexOf$3(Self,item$8);
   }
   ,SetScrolling:function(Self, value$7) {
      Self.FScrolling=value$7;
      if (Self.FScrolling) {
         TW3ScrollBar.Show$1(Self.FScrollBar,350);
      } else {
         TW3ScrollBar.Hide$1(Self.FScrollBar,350);
      }
   }
   ,SetSelectedIndex:function(Self, value$8) {
      var oldSelected = null;
      if (value$8<0) {
         if (Self.FSelectedItem) {
            oldSelected=Self.FSelectedItem;
            Self.FSelectedItem=null;
            TW3ListBox.Colorize(Self,oldSelected,0);
         }
      } else {
         TW3ListBox.Colorize(Self,$As(TObjectList.GetItem(Self.FItems$1,value$8),TW3CustomControl),2);
      }
      TW3ListBox.DoSelected(Self);
   }
   ,UpdateScrollBar:function(Self) {
      if (TW3ListBox.GetCount$2(Self)==0) {
         TW3ScrollBar.SetRange(Self.FScrollBar,0,0);
      } else {
         TW3ScrollBar.SetRange(Self.FScrollBar,TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,0)),TW3MovableControl.GetTop$(TW3ListBox.GetItem$6(Self,TW3ListBox.GetCount$2(Self)-1))+Self.FItemHeight);
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36$:function($){return $.ClassType.Create$36.apply($.ClassType, arguments)}
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
Normal=0;
Highlighted=1;
Selected=2;
Moving=3;
var TControlAnimationList= {
   $ClassName:"TControlAnimationList",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FAnimationList=$.FControl=null;
   }
   ,Animate:function(Self, time_ms$2, animateProc, config) {
      if ((config!==null)&&(config.FStart==0)) {
         TObjectList.Clear(Self.FAnimationList);
      }
      TObjectList.Add(Self.FAnimationList,TAnimation.Create$48($New(TAnimation),Self.FControl,time_ms$2,config,animateProc));
      if (TObjectList.GetCount(Self.FAnimationList)==1) {
         TAnimation.Start$1($As(TObjectList.GetItem(Self.FAnimationList,0),TAnimation),$Event1(Self,TControlAnimationList.MoveToNext));
      }
   }
   ,Create$46:function(Self, ctrl) {
      TObject.Create(Self);
      Self.FAnimationList=TObjectList.Create$15$($New(TObjectList));
      Self.FControl=ctrl;
      return Self
   }
   ,Hide:function(Self, time_ms$3, config$1) {
      TControlAnimationList.Opacity$1(Self,time_ms$3,Self.FControl.FAlpha,0,config$1);
   }
   ,IsActive:function(Self) {
      var Result=false;
      Result=(TObjectList.GetCount(Self.FAnimationList)>0)&&(!$As(TObjectList.GetItem(Self.FAnimationList,0),TAnimation).FCompleted);
      return Result
   }
   ,Move$4:function(Self, time_ms$4, path, config$2) {
      TControlAnimationList.PrepareAnimation(Self,TMoveAnimation.Create$53($New(TMoveAnimation),Self.FControl,time_ms$4,config$2,path),config$2);
   }
   ,Move$3:function(Self, time_ms$5, XFrom, YFrom, XTo, YTo, config$3) {
      TControlAnimationList.PrepareAnimation(Self,TMoveAnimation.Create$52($New(TMoveAnimation),Self.FControl,time_ms$5,config$3,Create$14(XFrom,YFrom),Create$14(XTo,YTo)),config$3);
   }
   ,Move$2:function(Self, time_ms$6, X$8, Y$8, config$4) {
      TControlAnimationList.PrepareAnimation(Self,TMoveAnimation.Create$51($New(TMoveAnimation),Self.FControl,time_ms$6,config$4,Create$14(X$8,Y$8)),config$4);
   }
   ,MoveToNext:function(Self, animation) {
      var idx$4 = 0;
      var onCompleted = null;
      idx$4=TObjectList.IndexOf(Self.FAnimationList,animation);
      TObjectList.Remove(Self.FAnimationList,idx$4);
      if ((animation.FConfig!==null)&&(animation.FConfig.FNotifyAtEnd!==null)) {
         onCompleted=animation.FConfig.FNotifyAtEnd;
         onCompleted();
      }
      TObject.Free(animation);
      if ((TObjectList.GetCount(Self.FAnimationList)>0)&&(!TAnimation.IsActive$1($As(TObjectList.GetItem(Self.FAnimationList,0),TAnimation)))) {
         TAnimation.Start$1($As(TObjectList.GetItem(Self.FAnimationList,0),TAnimation),$Event1(Self,TControlAnimationList.MoveToNext));
      }
   }
   ,Opacity$1:function(Self, time_ms$7, startOpacity, endOpacity, config$5) {
      TControlAnimationList.PrepareAnimation(Self,TOpacityAnimation.Create$50($New(TOpacityAnimation),Self.FControl,time_ms$7,config$5,startOpacity,endOpacity),config$5);
   }
   ,PrepareAnimation:function(Self, animation$1, config$6) {
      var idx$5 = 0;
      idx$5=TObjectList.Add(Self.FAnimationList,animation$1);
      if ((!(config$6!==null))||(config$6.FStart==0)) {
         TAnimation.Start$1($As(TObjectList.GetItem(Self.FAnimationList,idx$5),TAnimation),$Event1(Self,TControlAnimationList.MoveToNext));
      }
   }
   ,Rotate$1:function(Self, time_ms$8, startAngle$1, endAngle$1, config$7) {
      TControlAnimationList.PrepareAnimation(Self,TRotateAnimation.Create$49($New(TRotateAnimation),Self.FControl,time_ms$8,config$7,startAngle$1,endAngle$1),config$7);
   }
   ,Show:function(Self, time_ms$9, config$8) {
      TControlAnimationList.Opacity$1(Self,time_ms$9,Self.FControl.FAlpha,255,config$8);
   }
   ,Stop:function(Self) {
      var item$9 = null;
      while ((TObjectList.GetCount(Self.FAnimationList)>0)&&TAnimation.IsActive$1($As(TObjectList.GetItem(Self.FAnimationList,0),TAnimation))) {
         item$9=$As(TObjectList.GetItem(Self.FAnimationList,0),TAnimation);
         TObjectList.Remove(Self.FAnimationList,0);
         TAnimation.Stop$1(item$9);
         TObject.Free(item$9);
      }
      TObjectList.Clear(Self.FAnimationList);
   }
   ,Destroy:TObject.Destroy
};
var TAnimationManager= {
   $ClassName:"TAnimationManager",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
   }
   ,HasAnimationList:function(Self, ctrl$1) {
      var Result=false;
      
    Result = (ctrl$1).hasOwnProperty('AM_AL');
  return Result
   }
   ,GetAnimationList:function(Self, ctrl$2) {
      var Result=null;
      if (TAnimationManager.HasAnimationList(Self,ctrl$2)) {
         
    Result = (ctrl$2).AM_AL;
        } else {
         Result=TControlAnimationList.Create$46($New(TControlAnimationList),ctrl$2);
         
      (ctrl$2).AM_AL = Result;
          }
      return Result
   }
   ,AfterPrevious:function(Self) {
      var Result=null;
      Result=TAnimationManager.Config(Self);
      Result.FStart=1;
      return Result
   }
   ,Config:function(Self) {
      var Result=null;
      Result=TAnimationConfig.Create$47($New(TAnimationConfig));
      return Result
   }
   ,Destroy:TObject.Destroy
};
var TAnimationConfig= {
   $ClassName:"TAnimationConfig",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FLoop=false;
      $.FNotifyAtEnd=null;
      $.FStart=0;
   }
   ,Create$47:function(Self) {
      TObject.Create(Self);
      Self.FStart=0;
      Self.FNotifyAtEnd=null;
      return Self
   }
   ,SetLoop:function(Self, ALoop) {
      var Result=null;
      Self.FLoop=ALoop;
      Result=Self;
      return Result
   }
   ,SetOnCompleted:function(Self, AProc) {
      var Result=null;
      Self.FNotifyAtEnd=AProc;
      Result=Self;
      return Result
   }
   ,SetStart:function(Self, AStart) {
      var Result=null;
      Self.FStart=AStart;
      Result=Self;
      return Result
   }
   ,Destroy:TObject.Destroy
};
var TAnimation= {
   $ClassName:"TAnimation",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
      $.FAnimationStep=null;
      $.FCompleted=false;
      $.FConfig=$.FControl$1=$.FNotifyAtEnd$1=$.FRepeater$1=null;
      $.FTimeStart=0;
      $.FTime_ms=0;
   }
   ,AnimationTimer:function(Self, Sender$18) {
      var Result=false;
      var progress$2 = 0;
      Result=false;
      progress$2=((Now()-Self.FTimeStart)*(24*60*60*1000))/Self.FTime_ms;
      if (progress$2>1) {
         progress$2=1;
      }
      Self.FAnimationStep(progress$2);
      if (progress$2==1) {
         if ((Self.FConfig!==null)&&Self.FConfig.FLoop) {
            Self.FTimeStart=Now()-(20/(24*60*60*1000));
         } else {
            Self.FCompleted=true;
            Self.FNotifyAtEnd$1(Self);
            Result=true;
         }
      }
      return Result
   }
   ,Create$48:function(Self, control$1, time_ms$10, config$9, animationStep) {
      TObject.Create(Self);
      Self.FAnimationStep=animationStep;
      Self.FControl$1=control$1;
      Self.FTime_ms=time_ms$10;
      Self.FConfig=config$9;
      Self.FCompleted=false;
      return Self
   }
   ,Destroy:function(Self) {
      if (Self.FRepeater$1) {
         TObject.Free(Self.FRepeater$1);
      }
      Self.FRepeater$1=null;
      TObject.Destroy(Self);
   }
   ,Initialize:function(Self, animationStep$1) {
   }
   ,Interpolate:function(Self, vStart, vStop, progress$3) {
      var Result=0;
      Result=Math.round(vStart+((vStop-vStart)*progress$3));
      return Result
   }
   ,InterpolateF:function(Self, vStart$1, vStop$1, progress$4) {
      var Result=0;
      Result=vStart$1+((vStop$1-vStart$1)*progress$4);
      return Result
   }
   ,IsActive$1:function(Self) {
      var Result=false;
      Result=Self.FRepeater$1!==null;
      return Result
   }
   ,Start$1:function(Self, notifyAtEnd$1) {
      var animationStep$2 = {v:null};
      animationStep$2.v=Self.FAnimationStep;
      TAnimation.Initialize$(Self,animationStep$2);
      Self.FAnimationStep=animationStep$2.v;
      Self.FTimeStart=Now();
      Self.FNotifyAtEnd$1=notifyAtEnd$1;
      Self.FRepeater$1=TW3EventRepeater.Create$39$($New(TW3EventRepeater),$Event1(Self,TAnimation.AnimationTimer),20);
   }
   ,Stop$1:function(Self) {
      if (Self.FRepeater$1) {
         TObject.Free(Self.FRepeater$1);
         Self.FRepeater$1=null;
      }
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,Initialize$:function($){return $.ClassType.Initialize.apply($.ClassType, arguments)}
};
Immediate=0;
AfterPrevious=1;
function Animation() {
   var Result=null;
   if (!GAnimationManager) {
      GAnimationManager=TObject.Create($New(TAnimationManager));
   }
   Result=GAnimationManager;
   return Result
};
var TRotateAnimation= {
   $ClassName:"TRotateAnimation",
   $Parent:TAnimation,
   $Init:function ($) {
      TAnimation.$Init($);
   }
   ,Create$49:function(Self, control$2, time_ms$11, config$10, fromAngle, toAngle) {
      TAnimation.Create$48(Self,control$2,time_ms$11,config$10,function (progress$5) {
         TW3CustomControl.setAngle(control$2,TAnimation.InterpolateF(Self.ClassType,fromAngle,toAngle,progress$5));
      });
      return Self
   }
   ,Destroy:TAnimation.Destroy
   ,Initialize:TAnimation.Initialize
};
var TOpacityAnimation= {
   $ClassName:"TOpacityAnimation",
   $Parent:TAnimation,
   $Init:function ($) {
      TAnimation.$Init($);
   }
   ,Create$50:function(Self, control$3, time_ms$12, config$11, fromOpacity, toOpacity) {
      TAnimation.Create$48(Self,control$3,time_ms$12,config$11,function (progress$6) {
         TW3MovableControl.setAlpha(control$3,TAnimation.Interpolate(Self.ClassType,fromOpacity,toOpacity,progress$6));
      });
      return Self
   }
   ,Destroy:TAnimation.Destroy
   ,Initialize:TAnimation.Initialize
};
var TMoveAnimation= {
   $ClassName:"TMoveAnimation",
   $Parent:TAnimation,
   $Init:function ($) {
      TAnimation.$Init($);
      $.FCachedIndex=0;
      $.FRelativeMove=false;
      $.FToPoint={X$1:0,Y$1:0};
   }
   ,Create$53:function(Self, control$4, time_ms$13, config$12, path$1) {
      var i$5=0;
      var lengths = [];
      var totalLen = 0;
      Self.FRelativeMove=false;
      /* null */
/* null */
totalLen=0;
      lengths.push(totalLen);
      var $temp46;
      for(i$5=0,$temp46=path$1.length-4;i$5<=$temp46;i$5+=2) {
         totalLen=totalLen+Math.sqrt((Math.pow(path$1[i$5+2]-path$1[i$5],2))+(Math.pow(path$1[i$5+3]-path$1[i$5+1],2)));
         lengths.push(totalLen);
      }
      TAnimation.Create$48(Self,control$4,time_ms$13,config$12,function (progress$7) {
         var x$67 = {};
         x$67.v=0;
         var y$45 = {};
         y$45.v=0;
         TMoveAnimation.FindPathCoords(Self,progress$7,path$1,lengths,totalLen,x$67,y$45);
         TW3TagObj.BeginUpdate(control$4);
         TW3MovableControl.setLeft$(control$4,x$67.v);
         TW3MovableControl.setTop$(control$4,y$45.v);
         TW3TagObj.EndUpdate$(control$4);
      });
      return Self
   }
   ,Create$52:function(Self, control$5, time_ms$14, config$13, fromPoint, toPoint) {
      TAnimation.Create$48(Self,control$5,time_ms$14,config$13,function (progress$8) {
         TW3TagObj.BeginUpdate(control$5);
         TW3MovableControl.setLeft$(control$5,TAnimation.Interpolate(Self.ClassType,fromPoint.X$1,toPoint.X$1,progress$8));
         TW3MovableControl.setTop$(control$5,TAnimation.Interpolate(Self.ClassType,fromPoint.Y$1,toPoint.Y$1,progress$8));
         TW3TagObj.EndUpdate$(control$5);
      });
      Self.FRelativeMove=false;
      return Self
   }
   ,Create$51:function(Self, control$6, time_ms$15, config$14, toPoint$1) {
      TAnimation.Create$48(Self,control$6,time_ms$15,config$14,null);
      Self.FRelativeMove=true;
      Copy$TPoint(toPoint$1,Self.FToPoint);
      return Self
   }
   ,FindPathCoords:function(Self, progress$9, path$2, lengths$1, totalLen$1, x$68, y$46) {
      var linePart = 0;
      progress$9=progress$9*totalLen$1;
      if (progress$9>=lengths$1[Self.FCachedIndex+1]) {
         while ((Self.FCachedIndex<(lengths$1.length-2))&&(progress$9>=lengths$1[Self.FCachedIndex+1])) {
            ++Self.FCachedIndex         }
      }
      linePart=(progress$9-lengths$1[Self.FCachedIndex])/(lengths$1[Self.FCachedIndex+1]-lengths$1[Self.FCachedIndex]);
      if (linePart>1) {
         linePart=1;
      }
      x$68.v=TAnimation.Interpolate(Self.ClassType,path$2[Self.FCachedIndex*2],path$2[(Self.FCachedIndex*2)+2],linePart);
      y$46.v=TAnimation.Interpolate(Self.ClassType,path$2[(Self.FCachedIndex*2)+1],path$2[(Self.FCachedIndex*2)+3],linePart);
   }
   ,Initialize:function(Self, animationStep$3) {
      var fromPoint$1={X$1:0,Y$1:0};
      if (Self.FRelativeMove) {
         fromPoint$1=Create$14(TW3MovableControl.GetLeft$(Self.FControl$1),TW3MovableControl.GetTop$(Self.FControl$1));
         animationStep$3.v=function (progress$10) {
            TW3TagObj.BeginUpdate(Self.FControl$1);
            TW3MovableControl.setLeft$(Self.FControl$1,TAnimation.Interpolate(Self.ClassType,fromPoint$1.X$1,Self.FToPoint.X$1,progress$10));
            TW3MovableControl.setTop$(Self.FControl$1,TAnimation.Interpolate(Self.ClassType,fromPoint$1.Y$1,Self.FToPoint.Y$1,progress$10));
            TW3TagObj.EndUpdate$(Self.FControl$1);
         };
      }
   }
   ,Destroy:TAnimation.Destroy
   ,Initialize$:function($){return $.ClassType.Initialize.apply($.ClassType, arguments)}
};
var TW3CustomDictionary= {
   $ClassName:"TW3CustomDictionary",
   $Parent:TObject,
   $Init:function ($) {
      TObject.$Init($);
   }
   ,Clear$6:function(Self) {
      
    (Self).FLUT = {};
     }
   ,Create$45:function(Self) {
      TObject.Create(Self);
      
    (Self).FLUT = {};
  return Self
   }
   ,Delete$1:function(Self, aKey) {
      
    if ((Self).FLUT.hasOwnProperty(aKey))
      delete (Self).FLUT[aKey];
     }
   ,Destroy:function(Self) {
      TW3CustomDictionary.Clear$6(Self);
      TObject.Destroy(Self);
   }
   ,getItem$2:function(Self, aKey$1) {
      var Result=undefined;
      var mCanRead=false;
      if (aKey$1.length>0) {
         mCanRead=false;
         
      if ( (Self).FLUT.hasOwnProperty(aKey$1) )
      mCanRead = true;
    if (mCanRead) {
            
        Result = (Self).FLUT[aKey$1];
               } else {
             Result = null;          }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["setItem",TObject.ClassName(Self.ClassType),"Invalid key"]);
      }
      return Result
   }
   ,setItem$1:function(Self, aKey$2, aValue$113) {
      if (aKey$2.length>0) {
         
      (Self).FLUT[aKey$2] = aValue$113;
          } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["setItem",TObject.ClassName(Self.ClassType),"Invalid key"]);
      }
   }
   ,ValueExists:function(Self, aKey$3) {
      var Result=false;
      Result=false;
      if (aKey$3.length>0) {
         
      if ( (Self).FLUT.hasOwnProperty(aKey$3) )
      Result = true;
          }
      return Result
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,Create$45$:function($){return $.ClassType.Create$45($)}
   ,Delete$1$:function($){return $.ClassType.Delete$1.apply($.ClassType, arguments)}
   ,getItem$2$:function($){return $.ClassType.getItem$2.apply($.ClassType, arguments)}
   ,setItem$1$:function($){return $.ClassType.setItem$1.apply($.ClassType, arguments)}
};
var TW3VarDictionary= {
   $ClassName:"TW3VarDictionary",
   $Parent:TW3CustomDictionary,
   $Init:function ($) {
      TW3CustomDictionary.$Init($);
   }
   ,Destroy:TW3CustomDictionary.Destroy
   ,Create$45:TW3CustomDictionary.Create$45
   ,Delete$1:TW3CustomDictionary.Delete$1
   ,getItem$2:TW3CustomDictionary.getItem$2
   ,setItem$1:TW3CustomDictionary.setItem$1
};
var TW3IntDictionary= {
   $ClassName:"TW3IntDictionary",
   $Parent:TW3CustomDictionary,
   $Init:function ($) {
      TW3CustomDictionary.$Init($);
   }
   ,getInt:function(Self, aKey$4) {
      var Result=0;
      var mRef$48=undefined;
      mRef$48=TW3CustomDictionary.getItem$2$(Self,aKey$4);
      if (VarIsValidRef(mRef$48)) {
         
      Result = mRef$48;
          } else {
         Result=0;
      }
      return Result
   }
   ,setInt:function(Self, aKey$5, aValue$114) {
      var mRef$49=undefined;
      
    mRef$49 = aValue$114;
  TW3CustomDictionary.setItem$1$(Self,aKey$5,mRef$49);
   }
   ,Destroy:TW3CustomDictionary.Destroy
   ,Create$45:TW3CustomDictionary.Create$45
   ,Delete$1:TW3CustomDictionary.Delete$1
   ,getItem$2:TW3CustomDictionary.getItem$2
   ,setItem$1:TW3CustomDictionary.setItem$1
   ,getInt$:function($){return $.ClassType.getInt.apply($.ClassType, arguments)}
   ,setInt$:function($){return $.ClassType.setInt.apply($.ClassType, arguments)}
};
var TW3StrDictionary= {
   $ClassName:"TW3StrDictionary",
   $Parent:TW3CustomDictionary,
   $Init:function ($) {
      TW3CustomDictionary.$Init($);
   }
   ,getStr:function(Self, aKey$6) {
      var Result="";
      var mRef$50=undefined;
      mRef$50=TW3CustomDictionary.getItem$2$(Self,aKey$6);
      if (VarIsValidRef(mRef$50)) {
         
      Result = mRef$50;
          } else {
         Result="";
      }
      return Result
   }
   ,setStr:function(Self, aKey$7, aValue$115) {
      var mRef$51=undefined;
      
    mRef$51 = aValue$115;
  TW3CustomDictionary.setItem$1$(Self,aKey$7,mRef$51);
   }
   ,Destroy:TW3CustomDictionary.Destroy
   ,Create$45:TW3CustomDictionary.Create$45
   ,Delete$1:TW3CustomDictionary.Delete$1
   ,getItem$2:TW3CustomDictionary.getItem$2
   ,setItem$1:TW3CustomDictionary.setItem$1
   ,getStr$:function($){return $.ClassType.getStr.apply($.ClassType, arguments)}
   ,setStr$:function($){return $.ClassType.setStr.apply($.ClassType, arguments)}
};
var TW3ObjDictionary= {
   $ClassName:"TW3ObjDictionary",
   $Parent:TW3CustomDictionary,
   $Init:function ($) {
      TW3CustomDictionary.$Init($);
   }
   ,getObj:function(Self, aKey$8) {
      var Result=null;
      var mRef$52=undefined;
      mRef$52=TW3CustomDictionary.getItem$2$(Self,aKey$8);
      if (VarIsValidRef(mRef$52)) {
         
      Result = mRef$52;
          } else {
         Result=null;
      }
      return Result
   }
   ,setObj:function(Self, aKey$9, aValue$116) {
      var mRef$53=undefined;
      
    mRef$53 = aValue$116;
  TW3CustomDictionary.setItem$1$(Self,aKey$9,mRef$53);
   }
   ,Destroy:TW3CustomDictionary.Destroy
   ,Create$45:TW3CustomDictionary.Create$45
   ,Delete$1:TW3CustomDictionary.Delete$1
   ,getItem$2:TW3CustomDictionary.getItem$2
   ,setItem$1:TW3CustomDictionary.setItem$1
   ,getObj$:function($){return $.ClassType.getObj.apply($.ClassType, arguments)}
   ,setObj$:function($){return $.ClassType.setObj.apply($.ClassType, arguments)}
};
var TW3ProgressBar= {
   $ClassName:"TW3ProgressBar",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FActive=true;
      $.FMeter=null;
      $.FTotal$1=$.FValue=0;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FMeter);
      Self.FMeter=null;
      TW3CustomControl.FinalizeObject(Self);
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FMeter=TW3Component.Create$36$($New(TW3ProgressMeter),Self);
   }
   ,Resize:function(Self) {
      var mPixels=0;
      var wd$8=0;
      var hd$8=0;
      TW3MovableControl.Resize(Self);
      if (Self.FTotal$1>0) {
         mPixels=TInteger.PercentOfValue(TInteger,Self.FValue,Self.FTotal$1);
         wd$8=$Div(mPixels*TW3MovableControl.ClientWidth(Self),100);
         hd$8=TW3MovableControl.ClientHeight(Self);
         TW3MovableControl.SetBounds$(Self.FMeter,4,4,wd$8-8,hd$8-8);
      } else {
         TW3MovableControl.SetBounds$(Self.FMeter,0,0,0,0);
      }
   }
   ,SetActive:function(Self, aValue$117) {
      Self.FActive=aValue$117;
      if ((Self.FMeter!==null)&&Self.FMeter.FHandle$3) {
         Self.FMeter.FHandle$3.style[w3_CSSPrefix("AnimationPlayState")]=(aValue$117)?"running":"paused";
      }
   }
   ,setpos:function(Self, aValue$118) {
      aValue$118=TInteger.EnsureRange(TInteger,aValue$118,0,Self.FTotal$1);
      if (aValue$118!=Self.FValue) {
         TW3TagObj.BeginUpdate(Self);
         Self.FValue=aValue$118;
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,SetTotal:function(Self, aValue$119) {
      aValue$119=TInteger.EnsureRange(TInteger,aValue$119,0,2147483647);
      if (aValue$119!=Self.FTotal$1) {
         TW3TagObj.BeginUpdate(Self);
         Self.FTotal$1=aValue$119;
         if (Self.FTotal$1>Self.FValue) {
            Self.FValue=Self.FTotal$1;
         }
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,supportAdjustment:function(Self) {
      var Result=false;
      Result=false;
      return Result
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment$:function($){return $.supportAdjustment($)}
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3ProgressMeter= {
   $ClassName:"TW3ProgressMeter",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
soNone=0;
soAuto=1;
soScroll=2;
var TW3Memo= {
   $ClassName:"TW3Memo",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,getHOpt:function(Self) {
      var Result=0;
      var mData$4=undefined;
      Result=0;
      mData$4=w3_getStyle(Self.FHandle$3,"overflow-x");
      if (VarIsValidRef(mData$4)) {
         switch ((TVariant.AsString(mData$4)).toLowerCase()) {
            case "auto" :
               Result=1;
               break;
            case "scroll" :
               Result=2;
               break;
         }
      }
      return Result
   }
   ,getText:function(Self) {
      var Result="";
      if (Self.FHandle$3) {
         if (Self.FHandle$3.value) {
            Result=w3_getPropertyAsStr(Self.FHandle$3,"value");
         }
      }
      return Result
   }
   ,getVOpt:function(Self) {
      var Result=0;
      var mData$5=undefined;
      Result=0;
      mData$5=w3_getStyle(Self.FHandle$3,"overflow-y");
      if (VarIsValidRef(mData$5)) {
         switch ((TVariant.AsString(mData$5)).toLowerCase()) {
            case "auto" :
               Result=1;
               break;
            case "scroll" :
               Result=2;
               break;
         }
      }
      return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("textarea");
      return Result
   }
   ,setHOpt:function(Self, aValue$120) {
      switch (aValue$120) {
         case 0 :
            w3_setStyle(Self.FHandle$3,"overflow-x","");
            break;
         case 1 :
            w3_setStyle(Self.FHandle$3,"overflow-x","auto");
            break;
         case 2 :
            w3_setStyle(Self.FHandle$3,"overflow-x","scroll");
            break;
      }
   }
   ,setText:function(Self, aValue$121) {
      Self.FHandle$3.value=aValue$121;
   }
   ,setVOpt:function(Self, aValue$122) {
      switch (aValue$122) {
         case 0 :
            w3_setStyle(Self.FHandle$3,"overflow-y","");
            break;
         case 1 :
            w3_setStyle(Self.FHandle$3,"overflow-y","auto");
            break;
         case 2 :
            w3_setStyle(Self.FHandle$3,"overflow-","scroll");
            break;
      }
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
      w3_setStyle(Self.FHandle$3,"overflow","scroll");
      w3_setStyle(Self.FHandle$3,"overflow-x","scroll");
      w3_setStyle(Self.FHandle$3,"overflow-y","scroll");
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,getText$:function($){return $.ClassType.getText($)}
   ,setText$:function($){return $.ClassType.setText.apply($.ClassType, arguments)}
};
var TW3ComboBox= {
   $ClassName:"TW3ComboBox",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,add$2:function(Self, aValue$123) {
      var Result=0;
      var mObj$23=undefined;
      if (Self.FHandle$3) {
         mObj$23=w3_createHtmlElement("option");
         mObj$23.text=aValue$123;
         TW3TagObj.BeginUpdate(Self);
         try {
            Self.FHandle$3.add(mObj$23);
         } finally {
            TW3TagObj.EndUpdate$(Self);
         }
         Result=TW3ComboBox.getCount$2(Self)-1;
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.add",TObject.ClassName(Self.ClassType),"Invalid error"]);
      }
      return Result
   }
   ,Clear$8:function(Self) {
      TW3TagObj.BeginUpdate(Self);
      try {
         while (TW3ComboBox.getCount$2(Self)>0) {
            TW3ComboBox.Remove$4(Self,0)         }
      } finally {
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,getCount$2:function(Self) {
      var Result=0;
      if (Self.FHandle$3) {
         try {
            Result=parseInt(Self.FHandle$3.options.length,10);
         } catch ($e) {
            var E$2=$W($e);
            throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.getCount",TObject.ClassName(Self.ClassType),E$2.FMessage]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.getCount",TObject.ClassName(Self.ClassType),"invalid handle error"]);
      }
      return Result
   }
   ,getItem$3:function(Self, index$13) {
      var Result="";
      if (Self.FHandle$3) {
         try {
            Result=Self.FHandle$3.options[index$13].text.toString();
         } catch ($e) {
            var E$3=$W($e);
            throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.getItem",TObject.ClassName(Self.ClassType),E$3.FMessage]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.getItem",TObject.ClassName(Self.ClassType),"invalid handle error"]);
      }
      return Result
   }
   ,getSelIndex:function(Self) {
      var Result=0;
      if (Self.FHandle$3) {
         try {
            Result=TVariant.AsInteger(Self.FHandle$3.selectedIndex);
         } catch ($e) {
            var E$4=$W($e);
            throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.getSelIndex",TObject.ClassName(Self.ClassType),E$4.FMessage]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.getSelIndex",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
      return Result
   }
   ,getValue:function(Self, index$14) {
      var Result=undefined;
      if (Self.FHandle$3) {
         try {
            Result=Self.FHandle$3.options[index$14].value;
         } catch ($e) {
            var E$5=$W($e);
            throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.getValue",TObject.ClassName(Self.ClassType),E$5.FMessage]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.getValue",TObject.ClassName(Self.ClassType),"invalid handle error"]);
      }
      return Result
   }
   ,indexOf$1:function(Self, aValue$124) {
      var Result=0;
      var x$69=0;
      Result=-1;
      var $temp47;
      for(x$69=0,$temp47=TW3ComboBox.getCount$2(Self);x$69<$temp47;x$69++) {
         if (TW3ComboBox.getItem$3(Self,x$69)==aValue$124) {
            Result=x$69;
            break;
         }
      }
      return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("select");
      return Result
   }
   ,Remove$4:function(Self, aIndex) {
      if (Self.FHandle$3) {
         try {
            Self.FHandle$3.options.remove(aIndex);
         } catch ($e) {
            var E$6=$W($e);
            throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.Remove",TObject.ClassName(Self.ClassType),E$6.FMessage]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.Remove",TObject.ClassName(Self.ClassType),"invalid handle error"]);
      }
   }
   ,setItem$2:function(Self, index$15, aValue$125) {
      if (Self.FHandle$3) {
         try {
            Self.FHandle$3.options[index$15].text=aValue$125;
         } catch ($e) {
            var E$7=$W($e);
            throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.setItem",TObject.ClassName(Self.ClassType),E$7.FMessage]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3OwnedObject),"Method %s in class %s threw exception [%s]",["TW3ComboBox.setItem",TObject.ClassName(Self.ClassType),"invalid handle error"]);
      }
   }
   ,setSelIndex:function(Self, aValue$126) {
      if (Self.FHandle$3) {
         try {
            Self.FHandle$3.selectedIndex=aValue$126;
         } catch ($e) {
            var E$8=$W($e);
            throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.setSelIndex",TObject.ClassName(Self.ClassType),E$8.FMessage]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.setSelIndex",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
   }
   ,setValue:function(Self, index$16, aValue$127) {
      if (Self.FHandle$3) {
         try {
            Self.FHandle$3.options[index$16].value=aValue$127;
         } catch ($e) {
            var E$9=$W($e);
            throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.setValue",TObject.ClassName(Self.ClassType),E$9.FMessage]);
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3ComboBox.setValue",TObject.ClassName(Self.ClassType),"invalid handle error"]);
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3Image= {
   $ClassName:"TW3Image",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FOnLoad=null;
   }
   ,CBOnLoad:function(Self) {
      if (Self.FOnLoad) {
         Self.FOnLoad(Self);
      }
   }
   ,getEnabled:function(Self) {
      var Result=false;
      Result=true;
      return Result
   }
   ,GetHeight$1:function(Self) {
      var Result=0;
      Result=TW3MovableControl.GetHeight$1(Self);
      if ((TVariant.IsNAN(Result)||(!TVariant.IsNumber(Result)))||(Result==0)) {
         if (Self.FHandle$3) {
            Result=parseInt(Self.FHandle$3.height,10);
         } else {
            Result=0;
         }
      }
      return Result
   }
   ,getReady:function(Self) {
      var Result=false;
      if (Self.FHandle$3) {
         Result=((Self.FHandle$3.complete==true)&&(Self.FHandle$3.naturalWidth>0))&&(Self.FHandle$3.naturalHeight>0);
      }
      return Result
   }
   ,getSrc:function(Self) {
      var Result="";
      if (Self.FHandle$3) {
         Result=Self.FHandle$3.src.toString();
      }
      return Result
   }
   ,GetWidth$1:function(Self) {
      var Result=0;
      Result=TW3MovableControl.GetWidth$1(Self);
      if ((TVariant.IsNAN(Result)||(!TVariant.IsNumber(Result)))||(Result==0)) {
         if (Self.FHandle$3) {
            Result=parseInt(Self.FHandle$3.width,10);
         } else {
            Result=0;
         }
      }
      return Result
   }
   ,LoadFromURL:function(Self, aURL$1) {
      w3_setAttrib(Self.FHandle$3,"src",aURL$1);
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("img");
      return Result
   }
   ,setSrc:function(Self, Value$21) {
      if (Value$21!=TW3Image.getSrc(Self)) {
         TW3Image.LoadFromURL(Self,Value$21);
      }
   }
   ,toDataUrl$1:function(Self) {
      var Result="";
      var mContext$1=null;
      var mCanvas$1=null;
      if (Self.FHandle$3&&TW3Image.getReady$(Self)) {
         mContext$1=TW3GraphicContext.Create$27$($New(TW3GraphicContext),null);
         try {
            TW3CustomGraphicContext.Allocate$(mContext$1,TW3MovableControl.GetWidth$1$(Self),TW3MovableControl.GetHeight$1$(Self));
            mCanvas$1=TW3Canvas.Create$30$($New(TW3Canvas),mContext$1);
            try {
               TW3Canvas.DrawImageF(mCanvas$1,Self.FHandle$3,0,0);
               Result=TW3Canvas.ToDataURL(mCanvas$1,"");
            } finally {
               TObject.Free(mCanvas$1);
            }
         } finally {
            TObject.Free(mContext$1);
         }
      }
      return Result
   }
   ,toImageData:function(Self) {
      var Result=null;
      var mContext$2=null;
      var mCanvas$2=null;
      Result=null;
      if (Self.FHandle$3&&TW3Image.getReady$(Self)) {
         mContext$2=TW3GraphicContext.Create$27$($New(TW3GraphicContext),null);
         try {
            TW3CustomGraphicContext.Allocate$(mContext$2,TW3MovableControl.GetWidth$1$(Self),TW3MovableControl.GetHeight$1$(Self));
            mCanvas$2=TW3Canvas.Create$30$($New(TW3Canvas),mContext$2);
            try {
               TW3Canvas.DrawImageF(mCanvas$2,Self.FHandle$3,0,0);
               Result=TW3Canvas.ToImageData(mCanvas$2);
            } finally {
               TObject.Free(mCanvas$2);
            }
         } finally {
            TObject.Free(mContext$2);
         }
      }
      return Result
   }
   ,_setOnLoad:function(Self, aValue$128) {
      var mRef$54=null;
      Self.FOnLoad=aValue$128;
      switch ((aValue$128!==null)) {
         case true :
            mRef$54=$Event0(Self,TW3Image.CBOnLoad$);
            break;
         case false :
            mRef$54=$Event0(Self,TW3Component.CBNoBehavior$);
            break;
      }
      w3_bind2(Self.FHandle$3,"onload",mRef$54);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1$:function($){return $.ClassType.GetHeight$1($)}
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1$:function($){return $.ClassType.GetWidth$1($)}
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled$:function($){return $.ClassType.getEnabled($)}
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,CBOnLoad$:function($){return $.ClassType.CBOnLoad($)}
   ,getReady$:function($){return $.ClassType.getReady($)}
};
var TW3CheckBox= {
   $ClassName:"TW3CheckBox",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FLabel$1=$.FMark=null;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FMark);
      TObject.Free(Self.FLabel$1);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,getCaption$2:function(Self) {
      var Result="";
      Result=Self.FLabel$1.FCaption;
      return Result
   }
   ,getChecked$1:function(Self) {
      var Result=false;
      Result=TW3CheckMark.getChecked$2$(Self.FMark);
      return Result
   }
   ,HandleLabelClick:function(Self, Sender$19) {
      TW3CheckBox.setChecked$1(Self,!TW3CheckBox.getChecked$1(Self));
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FLabel$1=TW3Component.Create$36$($New(TW3Label),Self);
      Self.FMark=TW3Component.Create$36$($New(TW3CheckMark),Self);
      TW3Label.setCaption$(Self.FLabel$1,"Checkbox");
      TW3CustomControl._setMouseClick(Self.FLabel$1.FContainer,$Event1(Self,TW3CheckBox.HandleLabelClick));
   }
   ,Resize:function(Self) {
      var dx$11=0;
      var dy$12=0;
      TW3MovableControl.Resize(Self);
      dy$12=($Div(TW3MovableControl.ClientHeight(Self),2))-($Div(TW3MovableControl.GetHeight$1$(Self.FMark),2));
      TW3MovableControl.MoveTo$1$(Self.FMark,0,dy$12);
      dx$11=TW3MovableControl.GetLeft$(Self.FMark)+TW3MovableControl.GetWidth$1$(Self.FMark)+1;
      TW3MovableControl.SetBounds$(Self.FLabel$1,dx$11,0,TW3MovableControl.ClientWidth(Self)-dx$11,TW3MovableControl.ClientHeight(Self));
   }
   ,setCaption$5:function(Self, aValue$129) {
      TW3Label.setCaption$(Self.FLabel$1,aValue$129);
   }
   ,setChecked$1:function(Self, aValue$130) {
      TW3CheckMark.setChecked$2$(Self.FMark,aValue$130);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3CheckMark= {
   $ClassName:"TW3CheckMark",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,getChecked$2:function(Self) {
      var Result=false;
      Result=w3_getPropertyAsBool(Self.FHandle$3,"checked");
      return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("input");
      return Result
   }
   ,setChecked$2:function(Self, aValue$131) {
      w3_setProperty(Self.FHandle$3,"checked",aValue$131);
   }
   ,setHeight:function(Self, aValue$132) {
   }
   ,SetWidth:function(Self, aValue$133) {
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
      w3_setProperty(Self.FHandle$3,"type","checkbox");
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight$:function($){return $.ClassType.setHeight.apply($.ClassType, arguments)}
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth$:function($){return $.ClassType.SetWidth.apply($.ClassType, arguments)}
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,getChecked$2$:function($){return $.ClassType.getChecked$2($)}
   ,setChecked$2$:function($){return $.ClassType.setChecked$2.apply($.ClassType, arguments)}
};
itNone=0;
itColor=1;
itDate=2;
itDateTime=3;
itDateTimeLocal=4;
itEmail=5;
itMonth=6;
itNumber=7;
itRange=8;
itSearch=9;
itTel=10;
itTime=11;
itUrl=12;
itWeek=13;
itPassword=14;
var TW3EditBox= {
   $ClassName:"TW3EditBox",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,getAutoCapitalize:function(Self) {
      var Result=false;
      var mTemp$23="";
      Result=false;
      mTemp$23=w3_getAttribAsStr(Self.FHandle$3,"autocapitalize");
      if (mTemp$23.length>0) {
         Result=(mTemp$23).toLowerCase()=="on";
      }
      return Result
   }
   ,getAutoCorrect:function(Self) {
      var Result=false;
      var mTemp$24="";
      Result=false;
      mTemp$24=w3_getAttribAsStr(Self.FHandle$3,"autocorrect");
      if (mTemp$24.length>0) {
         Result=(mTemp$24).toLowerCase()=="on";
      }
      return Result
   }
   ,getMax:function(Self) {
      var Result=undefined;
      if (Self.FHandle$3) {
         Result=w3_getAttrib(Self.FHandle$3,"max");
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.getMax",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
      return Result
   }
   ,getMin:function(Self) {
      var Result=undefined;
      if (Self.FHandle$3) {
         Result=w3_getAttrib(Self.FHandle$3,"min");
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.getMin",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
      return Result
   }
   ,getPlaceHolder:function(Self) {
      var Result="";
      Result=w3_getAttribAsStr(Self.FHandle$3,"placeholder");
      return Result
   }
   ,getRange:function(Self) {
      var Result=undefined;
      if (Self.FHandle$3) {
         Result=Self.FHandle$3.value;
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.getRange",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
      return Result
   }
   ,getText$1:function(Self) {
      var Result="";
      Result=w3_getPropertyAsStr(Self.FHandle$3,"value");
      return Result
   }
   ,getTextAlign$1:function(Self) {
      var Result=0;
      var mText$10="";
      mText$10=(w3_getStyleAsStr(Self.FHandle$3,"textAlign")).toLowerCase();
      if (mText$10=="left") {
         Result=0;
      } else if (mText$10=="center") {
         Result=1;
      } else if (mText$10=="right") {
         Result=2;
      }
      return Result
   }
   ,getType:function(Self) {
      var Result=0;
      var mText$11="";
      mText$11=(w3_getAttribAsStr(Self.FHandle$3,"type")).toLowerCase();
      if (mText$11=="") {
         Result=0;
      } else if (mText$11=="color") {
         Result=1;
      } else if (mText$11=="date") {
         Result=2;
      } else if (mText$11=="datetime") {
         Result=3;
      } else if (mText$11=="datetime-local") {
         Result=4;
      } else if (mText$11=="email") {
         Result=5;
      } else if (mText$11=="month") {
         Result=6;
      } else if (mText$11=="number") {
         Result=7;
      } else if (mText$11=="range") {
         Result=8;
      } else if (mText$11=="search") {
         Result=9;
      } else if (mText$11=="tel") {
         Result=10;
      } else if (mText$11=="time") {
         Result=11;
      } else if (mText$11=="url") {
         Result=12;
      } else if (mText$11=="week") {
         Result=13;
      } else if (mText$11=="password") {
         Result=14;
      }
      return Result
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("input");
      if (Result) {
         w3_setAttrib(Result,"type","text");
      }
      return Result
   }
   ,setAutoCapitalize:function(Self, aValue$134) {
      if (Self.FHandle$3) {
         switch (aValue$134) {
            case false :
               w3_setAttrib(Self.FHandle$3,"autocapitalize","off");
               break;
            case true :
               w3_setAttrib(Self.FHandle$3,"autocapitalize","on");
               break;
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.setAutoCapitalize",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
   }
   ,setAutoCorrect:function(Self, aValue$135) {
      if (Self.FHandle$3) {
         switch (aValue$135) {
            case false :
               w3_setAttrib(Self.FHandle$3,"autocorrect","off");
               break;
            case true :
               w3_setAttrib(Self.FHandle$3,"autocorrect","on");
               break;
         }
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.setAutoCorrect",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
   }
   ,setMax:function(Self, aValue$136) {
      if (Self.FHandle$3) {
         w3_setAttrib(Self.FHandle$3,"max",aValue$136);
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.setMax",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
   }
   ,setMin:function(Self, aValue$137) {
      if (Self.FHandle$3) {
         w3_setAttrib(Self.FHandle$3,"min",aValue$137);
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.setMin",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
   }
   ,setPlaceHolder:function(Self, aValue$138) {
      if (Self.FHandle$3) {
         w3_setAttrib(Self.FHandle$3,"placeholder",aValue$138);
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.setPlaceHolder",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
   }
   ,setRange:function(Self, aValue$139) {
      if (Self.FHandle$3) {
         Self.FHandle$3.value=aValue$139;
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.setRange",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
   }
   ,setText$2:function(Self, aValue$140) {
      w3_setProperty(Self.FHandle$3,"value",aValue$140);
   }
   ,setTextAlign$2:function(Self, aValue$141) {
      var mToWrite$1="";
      switch (aValue$141) {
         case 0 :
            mToWrite$1="left";
            break;
         case 1 :
            mToWrite$1="center";
            break;
         case 2 :
            mToWrite$1="right";
            break;
      }
      if (Self.FHandle$3) {
         w3_setStyle(Self.FHandle$3,"textAlign",mToWrite$1);
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.setTextAlign",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
   }
   ,setType:function(Self, aValue$142) {
      var mToWrite$2="";
      if (Self.FHandle$3) {
         switch (aValue$142) {
            case 0 :
               mToWrite$2="";
               break;
            case 1 :
               mToWrite$2="color";
               break;
            case 2 :
               mToWrite$2="date";
               break;
            case 3 :
               mToWrite$2="datetime";
               break;
            case 4 :
               mToWrite$2="datetime-local";
               break;
            case 5 :
               mToWrite$2="email";
               break;
            case 6 :
               mToWrite$2="month";
               break;
            case 7 :
               mToWrite$2="number";
               break;
            case 8 :
               mToWrite$2="range";
               break;
            case 9 :
               mToWrite$2="search";
               break;
            case 10 :
               mToWrite$2="tel";
               break;
            case 11 :
               mToWrite$2="time";
               break;
            case 12 :
               mToWrite$2="url";
               break;
            case 13 :
               mToWrite$2="week";
               break;
            case 14 :
               mToWrite$2="password";
               break;
         }
         w3_setAttrib(Self.FHandle$3,"type",mToWrite$2);
      } else {
         throw EW3Exception.CreateFmt($New(EW3Exception),"Method %s in class %s threw exception [%s]",["TW3EditBox.setType",TObject.ClassName(Self.ClassType),"Invalid handle error"]);
      }
   }
   ,StyleTagObject:function(Self) {
      w3_setAttrib(Self.FHandle$3,"autocorrect","off");
      w3_setAttrib(Self.FHandle$3,"autocapitalize","off");
      w3_setAttrib(Self.FHandle$3,"placeholder","");
      w3_setStyle(Self.FHandle$3,"textAlign","left");
      TW3CustomControl.StyleTagObject(Self);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,getAutoCapitalize$:function($){return $.ClassType.getAutoCapitalize($)}
   ,getAutoCorrect$:function($){return $.ClassType.getAutoCorrect($)}
   ,getMax$:function($){return $.ClassType.getMax($)}
   ,getMin$:function($){return $.ClassType.getMin($)}
   ,getPlaceHolder$:function($){return $.ClassType.getPlaceHolder($)}
   ,getRange$:function($){return $.ClassType.getRange($)}
   ,getText$1$:function($){return $.ClassType.getText$1($)}
   ,getTextAlign$1$:function($){return $.ClassType.getTextAlign$1($)}
   ,getType$:function($){return $.ClassType.getType($)}
   ,setAutoCapitalize$:function($){return $.ClassType.setAutoCapitalize.apply($.ClassType, arguments)}
   ,setAutoCorrect$:function($){return $.ClassType.setAutoCorrect.apply($.ClassType, arguments)}
   ,setMax$:function($){return $.ClassType.setMax.apply($.ClassType, arguments)}
   ,setMin$:function($){return $.ClassType.setMin.apply($.ClassType, arguments)}
   ,setPlaceHolder$:function($){return $.ClassType.setPlaceHolder.apply($.ClassType, arguments)}
   ,setRange$:function($){return $.ClassType.setRange.apply($.ClassType, arguments)}
   ,setText$2$:function($){return $.ClassType.setText$2.apply($.ClassType, arguments)}
   ,setTextAlign$2$:function($){return $.ClassType.setTextAlign$2.apply($.ClassType, arguments)}
   ,setType$:function($){return $.ClassType.setType.apply($.ClassType, arguments)}
};
var TW3ListMenu= {
   $ClassName:"TW3ListMenu",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FItems=null;
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("ul");
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FItems=TW3OwnedObject.Create$5$($New(TW3ListItems),Self);
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FItems);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
      TW3CustomControl.setStyleClass(Self,"ul");
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3ListItems= {
   $ClassName:"TW3ListItems",
   $Parent:TW3OwnedObject,
   $Init:function ($) {
      TW3OwnedObject.$Init($);
      $.FObjects$1=null;
   }
   ,AcceptParent:function(Self, aObject$6) {
      var Result=false;
      Result=(aObject$6!==null)&&$Is(aObject$6,TW3ListMenu);
      return Result
   }
   ,Add$3:function(Self) {
      var Result=null;
      Result=TW3Component.Create$36$($New(TW3ListItem),$As(Self.FOwner,TW3ListMenu));
      TObjectList.Add(Self.FObjects$1,Result);
      return Result
   }
   ,Clear$5:function(Self) {
      var x$70=0;
      var $temp48;
      for(x$70=0,$temp48=TObjectList.GetCount(Self.FObjects$1);x$70<$temp48;x$70++) {
         TObject.Free(TObjectList.GetItem(Self.FObjects$1,x$70));
      }
      TObjectList.Clear(Self.FObjects$1);
   }
   ,Create$5:function(Self, AOwner$9) {
      TW3OwnedObject.Create$5(Self,AOwner$9);
      Self.FObjects$1=TObjectList.Create$15$($New(TObjectList));
      return Self
   }
   ,Destroy:function(Self) {
      TW3ListItems.Clear$5(Self);
      TObject.Free(Self.FObjects$1);
      TObject.Destroy(Self);
   }
   ,getCount$1:function(Self) {
      var Result=0;
      Result=TObjectList.GetCount(Self.FObjects$1);
      return Result
   }
   ,getItem$1:function(Self, index$17) {
      var Result=null;
      Result=$As(TObjectList.GetItem(Self.FObjects$1,index$17),TW3ListItem);
      return Result
   }
   ,indexOf:function(Self, aItem) {
      var Result=0;
      Result=TObjectList.IndexOf(Self.FObjects$1,aItem);
      return Result
   }
   ,Remove$3:function(Self, index$18) {
      TObject.Free($As(TObjectList.GetItem(Self.FObjects$1,index$18),TW3ListItem));
      TObjectList.Remove(Self.FObjects$1,index$18);
   }
   ,RemoveByRef:function(Self, aItem$1) {
      TW3ListItems.Remove$3(Self,TObjectList.IndexOf(Self.FObjects$1,aItem$1));
   }
   ,Destroy$:function($){return $.ClassType.Destroy($)}
   ,AcceptParent$:function($){return $.ClassType.AcceptParent.apply($.ClassType, arguments)}
   ,Create$5$:function($){return $.ClassType.Create$5.apply($.ClassType, arguments)}
};
var TW3ListItem= {
   $ClassName:"TW3ListItem",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FText$1="";
   }
   ,setText$1:function(Self, aValue$143) {
      if (aValue$143!=Self.FText$1) {
         Self.FText$1=aValue$143;
         TW3TagObj.setInnerHTML(Self,Self.FText$1+"<img valign=\"middle\" align=\"right\" alt=\"\""+"src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAA"+"ABkAAAAUCAYAAAB4d5a9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccll"+"PAAAAKVJREFUeNpi/P//PwOtARMDHcDwsYQFRJSXl8P4dVC6CZvizs5O8i1BsqARid9E"+"i+BiQ2KDLKumhSU1QNyKxG+hlkXoEQ+yqAPNogpapK5KNIvaKbUIVxKeAsTvkPg5QCxE"+"TUukgfgAkqFPgdgBzVKKLIFZoIJmwR1qBRdNLEC2BJQpV9LCAmRL/gBxAtRwqlqAXqzc"+"gRrOQE0LQIBxtNIiBQAEGAA7xCa2yF9zEgAAAABJRU5ErkJggg==\" />");
      }
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("li");
      return Result
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.setStyleClass(Self,"li");
   }
   ,getEnabled:function(Self) {
      var Result=false;
      Result=true;
      return Result
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled$:function($){return $.ClassType.getEnabled($)}
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3ToolButton= {
   $ClassName:"TW3ToolButton",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,getCaption$1:function(Self) {
      var Result="";
      Result=w3_getPropertyAsStr(Self.FHandle$3,"innerHTML");
      return Result
   }
   ,setCaption$3:function(Self, aNewCaption) {
      w3_setProperty(Self.FHandle$3,"innerHTML",aNewCaption);
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("button");
      return Result
   }
   ,StyleTagObject:function(Self) {
      TW3CustomControl.StyleTagObject(Self);
      w3_setStyle(Self.FHandle$3,"fontSmooth","always");
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      TW3MovableControl.SetWidth$(Self,70);
      TW3MovableControl.setHeight$(Self,30);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject$:function($){return $.ClassType.StyleTagObject($)}
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,getCaption$1$:function($){return $.ClassType.getCaption$1($)}
   ,setCaption$3$:function($){return $.ClassType.setCaption$3.apply($.ClassType, arguments)}
};
var TW3Toolbar= {
   $ClassName:"TW3Toolbar",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FBtnHeight=$.FBtnSpacing=$.FBtnWidth=0;
   }
   ,add$1:function(Self) {
      var Result=null;
      TW3TagObj.BeginUpdate(Self);
      try {
         try {
            Result=TW3Component.Create$36$($New(TW3ToolbarButton),Self);
         } catch ($e) {
            var e$12=$W($e);
            Result=null;
            throw $e;
         }
         TW3MovableControl.setHeight$(Result,Self.FBtnHeight);
         TW3MovableControl.SetWidth$(Result,Self.FBtnWidth);
      } finally {
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
      return Result
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FBtnWidth=100;
      Self.FBtnHeight=36;
      Self.FBtnSpacing=2;
   }
   ,Resize:function(Self) {
      var x$71=0;
      var dx$12 = {};
      dx$12.v=0;
      var dy$13=0;
      var mChild$3=null;
      dx$12.v=Self.FBtnSpacing;
      var $temp49;
      for(x$71=0,$temp49=TW3Component.GetChildCount(Self);x$71<$temp49;x$71++) {
         mChild$3=TW3Component.GetChildObject(Self,x$71);
         if ($Is(mChild$3,TW3ToolbarButton)) {
            dy$13=0;
            TW3MovableControl.SetBounds$($As(mChild$3,TW3ToolbarButton),dx$12.v,dy$13,Self.FBtnWidth,TW3MovableControl.GetHeight$1$(Self));
            (dx$12.v+=(Self.FBtnWidth+Self.FBtnSpacing));
         }
      }
   }
   ,setBtnHeight:function(Self, Value$22) {
      if (Self.FObjReady) {
         Value$22=TInteger.EnsureRange(TInteger,Value$22,16,TW3MovableControl.GetHeight$1$(Self));
      } else {
         Value$22=TInteger.EnsureRange(TInteger,Value$22,16,2147483647);
      }
      if (Value$22!=Self.FBtnHeight) {
         TW3TagObj.BeginUpdate(Self);
         Self.FBtnHeight=Value$22;
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,setBtnSpacing:function(Self, Value$23) {
      Value$23=TInteger.EnsureRange(TInteger,Value$23,1,2147483647);
      if (Value$23!=Self.FBtnSpacing) {
         Self.FBtnSpacing=Value$23;
         TW3CustomControl.LayoutChildren$(Self);
      }
   }
   ,setBtnWidth:function(Self, Value$24) {
      Value$24=TInteger.EnsureRange(TInteger,Value$24,16,2147483647);
      if (Value$24!=Self.FBtnWidth) {
         TW3TagObj.BeginUpdate(Self);
         Self.FBtnWidth=Value$24;
         TW3MovableControl.SetWasSized(Self);
         TW3TagObj.EndUpdate$(Self);
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,setBtnHeight$:function($){return $.ClassType.setBtnHeight.apply($.ClassType, arguments)}
   ,setBtnSpacing$:function($){return $.ClassType.setBtnSpacing.apply($.ClassType, arguments)}
   ,setBtnWidth$:function($){return $.ClassType.setBtnWidth.apply($.ClassType, arguments)}
};
var TW3ToolbarButton= {
   $ClassName:"TW3ToolbarButton",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FCaption$2="";
      $.FGlyph=null;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FGlyph);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,HandleGlyphReady:function(Self, Sender$20) {
      var mTemp$25="";
      mTemp$25=Self.FCaption$2;
      Self.FCaption$2="";
      TW3ToolbarButton.setCaption$4$(Self,mTemp$25);
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FGlyph=TW3Component.Create$36$($New(TW3Image),null);
      TW3Image._setOnLoad(Self.FGlyph,$Event1(Self,TW3ToolbarButton.HandleGlyphReady));
   }
   ,makeElementTagObj:function(Self) {
      var Result=undefined;
      Result=w3_createHtmlElement("button");
      return Result
   }
   ,setCaption$4:function(Self, aNewCaption$1) {
      var mHtml="";
      if (aNewCaption$1!=Self.FCaption$2) {
         Self.FCaption$2=aNewCaption$1;
         if (TW3Image.getReady$(Self.FGlyph)) {
            mHtml=mHtml+"<img src=\""+TW3Image.getSrc(Self.FGlyph)+"\" width=16px height=16px>";
            mHtml=mHtml+"<br>";
         }
         mHtml=mHtml+Self.FCaption$2;
         TW3TagObj.setInnerHTML(Self,mHtml);
      }
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj$:function($){return $.ClassType.makeElementTagObj($)}
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,setCaption$4$:function($){return $.ClassType.setCaption$4.apply($.ClassType, arguments)}
};
var TW3HeaderControl= {
   $ClassName:"TW3HeaderControl",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FBackBtn=$.FLabel=$.FNextBtn=null;
      $.FSpacing=0;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FLabel);
      TObject.Free(Self.FBackBtn);
      TObject.Free(Self.FNextBtn);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FSpacing=4;
      Self.FLabel=TW3Component.Create$36$($New(TW3Label),Self);
      TW3CustomFont.setName(TW3CustomControl.getFont$1(Self.FLabel),"verdana");
      TW3CustomFont.setColor$1(TW3CustomControl.getFont$1(Self.FLabel),RGBToColor(255,255,255));
      TW3CustomFont.setWeight(TW3CustomControl.getFont$1(Self.FLabel),"bold");
      TW3CustomFont.setSize(TW3CustomControl.getFont$1(Self.FLabel),18);
      TW3Label.setCaption$(Self.FLabel,TObject.ClassName(Self.ClassType));
      TW3Label.setTextAlign$1$(Self.FLabel,0);
      Self.FBackBtn=TW3Component.Create$36$($New(TW3ToolButton),Self);
      TW3ToolButton.setCaption$3$(Self.FBackBtn,"Back");
      TW3MovableControl.SetVisible$(Self.FBackBtn,true);
      Self.FNextBtn=TW3Component.Create$36$($New(TW3ToolButton),Self);
      TW3ToolButton.setCaption$3$(Self.FNextBtn,"Next");
      TW3MovableControl.SetVisible$(Self.FNextBtn,false);
   }
   ,Resize:function(Self) {
      var wd$9=0;
      var hd$9=0;
      var mTemp$26 = {};
      mTemp$26.v=0;
      var dx$13 = {};
      dx$13.v=0;
      var dy$14=0;
      wd$9=TW3MovableControl.ClientWidth(Self);
      hd$9=TW3MovableControl.ClientHeight(Self);
      dx$13.v=Self.FSpacing;
      mTemp$26.v=wd$9;
      (mTemp$26.v-=(Self.FSpacing*2));
      dy$14=($Div(hd$9,2))-($Div(TW3MovableControl.GetHeight$1$(Self.FBackBtn),2));
      TW3MovableControl.MoveTo$1$(Self.FBackBtn,Self.FSpacing,dy$14);
      dy$14=($Div(hd$9,2))-($Div(TW3MovableControl.GetHeight$1$(Self.FNextBtn),2));
      TW3MovableControl.MoveTo$1$(Self.FNextBtn,wd$9-(Self.FSpacing+TW3MovableControl.GetWidth$1$(Self.FNextBtn)),dy$14);
      if (TW3MovableControl.getVisible$(Self.FBackBtn)==true) {
         (dx$13.v+=TW3MovableControl.GetWidth$1$(Self.FBackBtn));
         (dx$13.v+=Self.FSpacing);
         (mTemp$26.v-=TW3MovableControl.GetWidth$1$(Self.FBackBtn));
         (mTemp$26.v-=Self.FSpacing);
      }
      TW3MovableControl.MoveTo$1$(Self.FLabel,dx$13.v,Self.FSpacing);
      if (TW3MovableControl.getVisible$(Self.FNextBtn)) {
         (mTemp$26.v-=TW3MovableControl.GetWidth$1$(Self.FNextBtn));
         (mTemp$26.v-=Self.FSpacing);
         (mTemp$26.v-=Self.FSpacing);
      }
      TW3MovableControl.SetBounds$(Self.FLabel,TW3MovableControl.GetLeft$(Self.FLabel),Self.FSpacing,mTemp$26.v,hd$9-(Self.FSpacing*2));
   }
   ,supportAdjustment:function(Self) {
      var Result=false;
      Result=false;
      return Result
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment$:function($){return $.supportAdjustment($)}
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3ToggleSwitch= {
   $ClassName:"TW3ToggleSwitch",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FKnob=$.FOffText=$.FOnText=null;
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FKnob);
      TObject.Free(Self.FOffText);
      TObject.Free(Self.FOnText);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,getChecked:function(Self) {
      var Result=false;
      Result=TW3MovableControl.GetLeft$(Self.FKnob)>0;
      return Result
   }
   ,HandleMouseDown:function(Self, sender, button$3, shiftState$11, x$72, y$47) {
      if (button$3==0) {
         TW3ToggleSwitch.Toggle(Self);
      }
   }
   ,HandleTouch:function(Self, Sender$21, Info$4) {
      TW3ToggleSwitch.Toggle(Self);
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FOnText=TW3Component.Create$36$($New(TW3ToggleOnLabel),Self);
      TW3Label.setCaption$(Self.FOnText,"ON");
      TW3Label.setTextAlign$1$(Self.FOnText,1);
      TW3CustomFont.setColor$1(TW3CustomControl.getFont$1(Self.FOnText),16777215);
      Self.FOffText=TW3Component.Create$36$($New(TW3ToggleOffLabel),Self);
      TW3Label.setCaption$(Self.FOffText,"OFF");
      TW3CustomFont.setColor$1(TW3CustomControl.getFont$1(Self.FOffText),0);
      TW3Label.setTextAlign$1$(Self.FOffText,1);
      Self.FKnob=TW3Component.Create$36$($New(TW3ToggleKnob),Self);
      TW3CustomControl._setMouseDown(Self,$Event(Self,TW3ToggleSwitch.HandleMouseDown));
      TW3CustomControl._setTouchBegins(Self,$Event2(Self,TW3ToggleSwitch.HandleTouch));
   }
   ,Resize:function(Self) {
      var mTemp$27=0;
      var wd$10=0;
      var hd$10=0;
      wd$10=TW3MovableControl.ClientWidth(Self);
      hd$10=TW3MovableControl.ClientHeight(Self);
      if ((wd$10>0)&&(hd$10>0)) {
         mTemp$27=$Div(wd$10,2);
         if ((TW3MovableControl.GetWidth$1$(Self.FKnob)!=mTemp$27)||(TW3MovableControl.GetHeight$1$(Self.FKnob)!=hd$10)) {
            TW3MovableControl.SetSize$4$(Self.FKnob,mTemp$27+7,hd$10);
         }
         TW3MovableControl.SetBounds$(Self.FOnText,0,0,mTemp$27,hd$10);
         TW3MovableControl.SetBounds$(Self.FOffText,mTemp$27,0,mTemp$27,hd$10);
      }
   }
   ,setChecked:function(Self, aValue$144) {
      if (aValue$144!=TW3ToggleSwitch.getChecked(Self)) {
         TW3ToggleSwitch.Toggle(Self);
      }
   }
   ,supportAdjustment:function(Self) {
      var Result=false;
      Result=false;
      return Result
   }
   ,Toggle:function(Self) {
      switch (TW3ToggleSwitch.getChecked(Self)) {
         case true :
            TW3MovableControl.setLeft$(Self.FKnob,0);
            break;
         case false :
            TW3MovableControl.setLeft$(Self.FKnob,(($Div(TW3MovableControl.ClientWidth(Self),2))-7));
            break;
      }
      w3_Callback(function () {
         if (Self.FOnChanged) {
            Self.FOnChanged(Self);
         }
      },300);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment$:function($){return $.supportAdjustment($)}
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3ToggleOnLabel= {
   $ClassName:"TW3ToggleOnLabel",
   $Parent:TW3Label,
   $Init:function ($) {
      TW3Label.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3Label.FinalizeObject
   ,InitializeObject:TW3Label.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3Label.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3Label.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,setCaption:TW3Label.setCaption
   ,setTextAlign$1:TW3Label.setTextAlign$1
};
var TW3ToggleOffLabel= {
   $ClassName:"TW3ToggleOffLabel",
   $Parent:TW3Label,
   $Init:function ($) {
      TW3Label.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3Label.FinalizeObject
   ,InitializeObject:TW3Label.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3Label.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3Label.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,setCaption:TW3Label.setCaption
   ,setTextAlign$1:TW3Label.setTextAlign$1
};
var TW3ToggleKnob= {
   $ClassName:"TW3ToggleKnob",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      w3_setStyle(Self.FHandle$3,w3_CSSPrefix("Transition"),"left .12s");
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3CustomScrollBar= {
   $ClassName:"TW3CustomScrollBar",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
      $.FDownBtn=$.FHandle$5=$.FUpBtn=null;
      $.FPageSize=$.FPosition=$.FTotal=0;
   }
   ,calcSizeOfHandle:function(Self) {
      var Result=0;
      var mTemp$28=0;
      mTemp$28=TInteger.PercentOfValue(TInteger,Self.FPageSize,Self.FTotal);
      Result=Trunc((mTemp$28*TW3CustomScrollBar.getArea$(Self))/100);
      return Result
   }
   ,FinalizeObject:function(Self) {
      TObject.Free(Self.FUpBtn);
      TObject.Free(Self.FDownBtn);
      TObject.Free(Self.FHandle$5);
      TW3CustomControl.FinalizeObject(Self);
   }
   ,HandleMaxClick:function(Self, Sender$22) {
      if (Self.FTotal>0) {
         TW3CustomScrollBar.setPosition$(Self,Self.FPosition+Self.FPageSize);
      }
   }
   ,HandleMinClick:function(Self, Sender$23) {
      if (Self.FTotal>0) {
         TW3CustomScrollBar.setPosition$(Self,Self.FPosition-Self.FPageSize);
      }
   }
   ,InitializeObject:function(Self) {
      TW3CustomControl.InitializeObject(Self);
      Self.FUpBtn=TW3Component.Create$36$($New(TW3ScrollbarLowerBtn),Self);
      TW3CustomControl._setMouseClick(Self.FUpBtn,$Event1(Self,TW3CustomScrollBar.HandleMinClick$));
      Self.FDownBtn=TW3Component.Create$36$($New(TW3ScrollbarHigherBtn),Self);
      TW3CustomControl._setMouseClick(Self.FDownBtn,$Event1(Self,TW3CustomScrollBar.HandleMaxClick$));
      Self.FHandle$5=TW3Component.Create$36$($New(TW3ScrollbarHandle),Self);
   }
   ,PixelOffsetToPosition:function(Self, aPxPos) {
      var Result=0;
      var mTemp$29=0;
      mTemp$29=TInteger.PercentOfValue(TInteger,aPxPos,TW3CustomScrollBar.getArea$(Self));
      Result=Trunc((mTemp$29*Self.FTotal)/100);
      return Result
   }
   ,PositionToPixelOffset:function(Self, aPosition) {
      var Result=0;
      var mTemp$30=0;
      mTemp$30=TInteger.PercentOfValue(TInteger,aPosition,Self.FTotal);
      Result=Trunc((mTemp$30*TW3CustomScrollBar.getArea$(Self))/100);
      return Result
   }
   ,setPageSize:function(Self, aValue$145) {
      aValue$145=TInteger.EnsureRange(TInteger,aValue$145,0,Self.FTotal);
      if (aValue$145!=Self.FPageSize) {
         Self.FPageSize=aValue$145;
         if (Self.FTotal>0) {
            TW3CustomScrollBar.Recalculate$(Self);
            TW3CustomControl.LayoutChildren$(Self);
         }
         if (Self.FOnChanged) {
            Self.FOnChanged(Self);
         }
      }
   }
   ,setPosition:function(Self, aValue$146) {
      aValue$146=TInteger.EnsureRange(TInteger,aValue$146,0,(Self.FTotal-Self.FPageSize));
      if (aValue$146!=Self.FPosition) {
         Self.FPosition=aValue$146;
         if (Self.FTotal>0) {
            TW3CustomScrollBar.Recalculate$(Self);
            TW3CustomControl.LayoutChildren$(Self);
         }
         if (Self.FOnChanged) {
            Self.FOnChanged(Self);
         }
      }
   }
   ,setPositionNoCalc:function(Self, aValue$147) {
      aValue$147=TInteger.EnsureRange(TInteger,aValue$147,0,(Self.FTotal-Self.FPageSize));
      if (aValue$147!=Self.FPosition) {
         Self.FPosition=aValue$147;
         if (Self.FOnChanged) {
            Self.FOnChanged(Self);
         }
      }
   }
   ,setTotal:function(Self, aValue$148) {
      aValue$148=TInteger.EnsureRange(TInteger,aValue$148,0,2147483647);
      if (aValue$148!=Self.FTotal) {
         Self.FTotal=aValue$148;
         if (Self.FPageSize>Self.FTotal) {
            Self.FPageSize=Self.FTotal;
         }
         if (Self.FPosition>(Self.FTotal-Self.FPageSize)) {
            if ((Self.FTotal-Self.FPageSize)<1) {
               Self.FPosition=0;
            } else {
               Self.FPosition=Self.FTotal-Self.FPageSize;
            }
         }
         TW3CustomScrollBar.Recalculate$(Self);
         TW3CustomControl.LayoutChildren$(Self);
         if (Self.FOnChanged) {
            Self.FOnChanged(Self);
         }
      }
   }
   ,supportAdjustment:function(Self) {
      var Result=false;
      Result=false;
      return Result
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment$:function($){return $.supportAdjustment($)}
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,getArea$:function($){return $.ClassType.getArea($)}
   ,HandleMaxClick$:function($){return $.ClassType.HandleMaxClick.apply($.ClassType, arguments)}
   ,HandleMinClick$:function($){return $.ClassType.HandleMinClick.apply($.ClassType, arguments)}
   ,Recalculate$:function($){return $.ClassType.Recalculate($)}
   ,setPageSize$:function($){return $.ClassType.setPageSize.apply($.ClassType, arguments)}
   ,setPosition$:function($){return $.ClassType.setPosition.apply($.ClassType, arguments)}
   ,setPositionNoCalc$:function($){return $.ClassType.setPositionNoCalc.apply($.ClassType, arguments)}
   ,setTotal$:function($){return $.ClassType.setTotal.apply($.ClassType, arguments)}
};
var TW3VerticalScrollbar= {
   $ClassName:"TW3VerticalScrollbar",
   $Parent:TW3CustomScrollBar,
   $Init:function ($) {
      TW3CustomScrollBar.$Init($);
      $.FDragPos=$.FDragSize=$.FEntry=0;
      $.FMoving=false;
   }
   ,getArea:function(Self) {
      var Result=0;
      Result=TW3MovableControl.GetTop$(Self.FDownBtn)-1-(TW3MovableControl.getBoundsRect$(Self.FUpBtn).Bottom$1+1);
      return Result
   }
   ,HandleDragBarMouseDown:function(Self, sender$1, button$4, shiftState$12, x$73, y$48) {
      if (button$4==0) {
         if (TRect$ContainsPos$1(TW3MovableControl.getBoundsRect$(Self.FHandle$5),x$73,y$48)) {
            TW3CustomControl.SetCapture(Self);
            Self.FEntry=y$48-TW3MovableControl.GetTop$(Self.FHandle$5);
            Self.FMoving=true;
         } else {
            if ((y$48<TW3MovableControl.GetTop$(Self.FHandle$5))&&(!TRect$ContainsPos$1(TW3MovableControl.getBoundsRect$(Self.FUpBtn),x$73,y$48))) {
               TW3CustomScrollBar.setPosition$(Self,Self.FPosition-Self.FPageSize);
            } else if ((y$48>TW3MovableControl.getBoundsRect$(Self.FHandle$5).Bottom$1)&&(!TRect$ContainsPos$1(TW3MovableControl.getBoundsRect$(Self.FDownBtn),x$73,y$48))) {
               TW3CustomScrollBar.setPosition$(Self,Self.FPosition+Self.FPageSize);
            }
         }
      }
   }
   ,HandleDragBarMouseMove:function(Self, sender$2, shiftState$13, x$74, y$49) {
      var mNewPos=0;
      var dy$15=0;
      if (Self.FMoving) {
         dy$15=y$49-Self.FEntry;
         TW3MovableControl.setTop$(Self.FHandle$5,TInteger.EnsureRange(TInteger,dy$15,TW3MovableControl.getBoundsRect$(Self.FUpBtn).Bottom$1,(TW3MovableControl.GetTop$(Self.FDownBtn)-Self.FDragSize)));
         mNewPos=TW3CustomScrollBar.PixelOffsetToPosition(Self,TW3MovableControl.GetTop$(Self.FHandle$5)-(TW3MovableControl.getBoundsRect$(Self.FUpBtn).Bottom$1+1));
         TW3CustomScrollBar.setPositionNoCalc$(Self,mNewPos);
      }
   }
   ,HandleDragBarMouseUp:function(Self, sender$3, button$5, shiftState$14, x$75, y$50) {
      if (Self.FMoving) {
         Self.FMoving=false;
         TW3CustomScrollBar.setPosition$(Self,TW3CustomScrollBar.PixelOffsetToPosition(Self,TW3MovableControl.GetTop$(Self.FHandle$5)-(TW3MovableControl.getBoundsRect$(Self.FUpBtn).Bottom$1+1)));
         TW3CustomControl.ReleaseCapture(Self);
      }
   }
   ,InitializeObject:function(Self) {
      TW3CustomScrollBar.InitializeObject(Self);
      Self.FMoving=false;
      TW3CustomControl.setStyleClass(Self.FUpBtn,"TW3ScrollbarDownBtn");
      TW3CustomControl.setStyleClass(Self.FDownBtn,"TW3ScrollbarUpBtn");
      TW3CustomControl.setStyleClass(Self.FHandle$5,"TW3ScrollbarHandle");
      TW3CustomControl._setMouseDown(Self,$Event(Self,TW3VerticalScrollbar.HandleDragBarMouseDown));
      TW3CustomControl._setMouseMove(Self,$Event(Self,TW3VerticalScrollbar.HandleDragBarMouseMove));
      TW3CustomControl._setMouseUp(Self,$Event(Self,TW3VerticalScrollbar.HandleDragBarMouseUp));
   }
   ,Recalculate:function(Self) {
      Self.FDragSize=TW3CustomScrollBar.calcSizeOfHandle(Self);
      Self.FDragPos=TW3CustomScrollBar.PositionToPixelOffset(Self,Self.FPosition);
   }
   ,Resize:function(Self) {
      var mTop=0;
      TW3MovableControl.Resize(Self);
      TW3MovableControl.SetBounds$(Self.FUpBtn,0,0,TW3MovableControl.ClientWidth(Self),28);
      TW3MovableControl.SetBounds$(Self.FDownBtn,0,TW3MovableControl.ClientHeight(Self)-28,TW3MovableControl.ClientWidth(Self),28);
      TW3CustomScrollBar.Recalculate$(Self);
      if ((Self.FTotal<1)||(Self.FDragPos<0)) {
         TW3MovableControl.SetVisible$(Self.FHandle$5,false);
      } else {
         TW3MovableControl.SetVisible$(Self.FHandle$5,true);
      }
      mTop=TW3MovableControl.GetTop$(Self.FUpBtn)+TW3MovableControl.GetHeight$1$(Self.FUpBtn)+1+Self.FDragPos;
      TW3MovableControl.SetBounds$(Self.FHandle$5,2,mTop,TW3MovableControl.ClientWidth(Self)-4,Self.FDragSize);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomScrollBar.FinalizeObject
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3CustomScrollBar.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,getArea$:function($){return $.ClassType.getArea($)}
   ,HandleMaxClick:TW3CustomScrollBar.HandleMaxClick
   ,HandleMinClick:TW3CustomScrollBar.HandleMinClick
   ,Recalculate$:function($){return $.ClassType.Recalculate($)}
   ,setPageSize:TW3CustomScrollBar.setPageSize
   ,setPosition:TW3CustomScrollBar.setPosition
   ,setPositionNoCalc:TW3CustomScrollBar.setPositionNoCalc
   ,setTotal:TW3CustomScrollBar.setTotal
};
var TW3ScrollbarLowerBtn= {
   $ClassName:"TW3ScrollbarLowerBtn",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3ScrollbarHigherBtn= {
   $ClassName:"TW3ScrollbarHigherBtn",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3ScrollbarHandle= {
   $ClassName:"TW3ScrollbarHandle",
   $Parent:TW3CustomControl,
   $Init:function ($) {
      TW3CustomControl.$Init($);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomControl.FinalizeObject
   ,InitializeObject:TW3CustomControl.InitializeObject
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
};
var TW3HorizontalScrollbar= {
   $ClassName:"TW3HorizontalScrollbar",
   $Parent:TW3CustomScrollBar,
   $Init:function ($) {
      TW3CustomScrollBar.$Init($);
      $.FDragPos$1=$.FDragSize$1=$.FEntry$1=0;
      $.FMoving$1=false;
   }
   ,getArea:function(Self) {
      var Result=0;
      Result=TW3MovableControl.GetLeft$(Self.FDownBtn)-1-(TW3MovableControl.getBoundsRect$(Self.FUpBtn).Right$1+1);
      return Result
   }
   ,HandleDragBarMouseDown$1:function(Self, sender$4, button$6, shiftState$15, x$76, y$51) {
      if (button$6==0) {
         if (TRect$ContainsPos$1(TW3MovableControl.getBoundsRect$(Self.FHandle$5),x$76,y$51)) {
            TW3CustomControl.SetCapture(Self);
            Self.FEntry$1=x$76-TW3MovableControl.GetLeft$(Self.FHandle$5);
            Self.FMoving$1=true;
         } else {
            if ((x$76<TW3MovableControl.GetLeft$(Self.FHandle$5))&&(!TRect$ContainsPos$1(TW3MovableControl.getBoundsRect$(Self.FUpBtn),x$76,y$51))) {
               TW3CustomScrollBar.setPosition$(Self,Self.FPosition-Self.FPageSize);
            } else if ((x$76>TW3MovableControl.getBoundsRect$(Self.FHandle$5).Right$1)&&(!TRect$ContainsPos$1(TW3MovableControl.getBoundsRect$(Self.FDownBtn),x$76,y$51))) {
               TW3CustomScrollBar.setPosition$(Self,Self.FPosition+Self.FPageSize);
            }
         }
      }
   }
   ,HandleDragBarMouseMove$1:function(Self, sender$5, shiftState$16, x$77, y$52) {
      var mNewPos$1=0;
      var dx$14=0;
      if (Self.FMoving$1) {
         dx$14=x$77-Self.FEntry$1;
         TW3MovableControl.setLeft$(Self.FHandle$5,TInteger.EnsureRange(TInteger,dx$14,TW3MovableControl.getBoundsRect$(Self.FUpBtn).Right$1,(TW3MovableControl.GetLeft$(Self.FDownBtn)-Self.FDragSize$1)));
         mNewPos$1=TW3CustomScrollBar.PixelOffsetToPosition(Self,TW3MovableControl.GetLeft$(Self.FHandle$5)-(TW3MovableControl.getBoundsRect$(Self.FUpBtn).Right$1+1));
         TW3CustomScrollBar.setPositionNoCalc$(Self,mNewPos$1);
      }
   }
   ,HandleDragBarMouseUp$1:function(Self, sender$6, button$7, shiftState$17, x$78, y$53) {
      if (Self.FMoving$1) {
         Self.FMoving$1=false;
         TW3CustomScrollBar.setPosition$(Self,TW3CustomScrollBar.PixelOffsetToPosition(Self,TW3MovableControl.GetLeft$(Self.FHandle$5)-(TW3MovableControl.getBoundsRect$(Self.FUpBtn).Right$1+1)));
         TW3CustomControl.ReleaseCapture(Self);
      }
   }
   ,InitializeObject:function(Self) {
      TW3CustomScrollBar.InitializeObject(Self);
      Self.FMoving$1=false;
      TW3CustomControl.setStyleClass(Self.FUpBtn,"TW3ScrollbarLeftBtn");
      TW3CustomControl.setStyleClass(Self.FDownBtn,"TW3ScrollbarRightBtn");
      TW3CustomControl.setStyleClass(Self.FHandle$5,"TW3ScrollbarHandle");
      TW3CustomControl._setMouseDown(Self,$Event(Self,TW3HorizontalScrollbar.HandleDragBarMouseDown$1));
      TW3CustomControl._setMouseMove(Self,$Event(Self,TW3HorizontalScrollbar.HandleDragBarMouseMove$1));
      TW3CustomControl._setMouseUp(Self,$Event(Self,TW3HorizontalScrollbar.HandleDragBarMouseUp$1));
   }
   ,Recalculate:function(Self) {
      Self.FDragSize$1=TW3CustomScrollBar.calcSizeOfHandle(Self);
      Self.FDragPos$1=TW3CustomScrollBar.PositionToPixelOffset(Self,Self.FPosition);
   }
   ,Resize:function(Self) {
      var mLeft=0;
      TW3MovableControl.Resize(Self);
      TW3MovableControl.SetBounds$(Self.FUpBtn,0,0,28,TW3MovableControl.ClientHeight(Self));
      TW3MovableControl.SetBounds$(Self.FDownBtn,TW3MovableControl.ClientWidth(Self)-28,0,28,TW3MovableControl.ClientHeight(Self));
      TW3CustomScrollBar.Recalculate$(Self);
      if ((Self.FTotal<1)||(Self.FDragPos$1<0)) {
         TW3MovableControl.SetVisible$(Self.FHandle$5,false);
      } else {
         TW3MovableControl.SetVisible$(Self.FHandle$5,true);
      }
      mLeft=TW3MovableControl.GetLeft$(Self.FUpBtn)+TW3MovableControl.GetWidth$1$(Self.FUpBtn)+1+Self.FDragPos$1;
      TW3MovableControl.SetBounds$(Self.FHandle$5,mLeft,2,Self.FDragSize$1,TW3MovableControl.ClientHeight(Self)-4);
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject:TW3CustomScrollBar.FinalizeObject
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomControl.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize$:function($){return $.ClassType.Resize($)}
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3CustomScrollBar.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,getArea$:function($){return $.ClassType.getArea($)}
   ,HandleMaxClick:TW3CustomScrollBar.HandleMaxClick
   ,HandleMinClick:TW3CustomScrollBar.HandleMinClick
   ,Recalculate$:function($){return $.ClassType.Recalculate($)}
   ,setPageSize:TW3CustomScrollBar.setPageSize
   ,setPosition:TW3CustomScrollBar.setPosition
   ,setPositionNoCalc:TW3CustomScrollBar.setPositionNoCalc
   ,setTotal:TW3CustomScrollBar.setTotal
};
var TForm1= {
   $ClassName:"TForm1",
   $Parent:TW3Form,
   $Init:function ($) {
      TW3Form.$Init($);
      $.Button0=$.Button1=$.Button2=$.Button3=$.Button4=$.Button5=$.Button6=$.Button7=$.Button8=$.Button9=$.ButtonDiv=$.ButtonDot=$.ButtonEqual=$.ButtonMinus=$.ButtonMult=$.ButtonPlus=$.EDNum=null;
      $.FAccum=$.FOperand=0;
      $.FFirst=$.FNextClear=false;
      $.FLastOp="";
   }
   ,DoButtonClick:function(Self, Sender$24) {
      var t="";
      var c="";
      t=TW3EditBox.getText$1$(Self.EDNum);
      if (Self.FNextClear) {
         t="";
      } else {
         t=TW3EditBox.getText$1$(Self.EDNum);
      }
      c=TW3Button.getCaption($As(Sender$24,TW3Button));
      {var $temp50=c;
         if (($temp50>="0")&&($temp50<="9")) {
            if (t.length<10) {
               TW3EditBox.setText$2$(Self.EDNum,t+c);
               Self.FNextClear=false;
            }
         }
          else if ($temp50==".") {
            if ((t.indexOf(".")+1)<=0) {
               if (t=="") {
                  t="0";
               }
               TW3EditBox.setText$2$(Self.EDNum,t+c);
               Self.FNextClear=false;
            }
         }
          else if ($temp50=="+") {
            Self.FOperand=parseFloat(TW3EditBox.getText$1$(Self.EDNum));
            TForm1.PerformOp(Self,c);
         }
          else if ($temp50=="-") {
            Self.FOperand=parseFloat(TW3EditBox.getText$1$(Self.EDNum));
            TForm1.PerformOp(Self,c);
         }
          else if ($temp50=="x") {
            Self.FOperand=parseFloat(TW3EditBox.getText$1$(Self.EDNum));
            TForm1.PerformOp(Self,c);
         }
          else if ($temp50=="/") {
            Self.FOperand=parseFloat(TW3EditBox.getText$1$(Self.EDNum));
            TForm1.PerformOp(Self,c);
         }
          else if ($temp50=="=") {
            if (!Self.FFirst) {
               Self.FOperand=parseFloat(TW3EditBox.getText$1$(Self.EDNum));
            }
            Self.FFirst=false;
            TForm1.PerformOp(Self,Self.FLastOp);
            Self.FFirst=true;
         }
      }
   }
   ,FinalizeObject:function(Self) {
      TW3CustomControl.FinalizeObject(Self);
   }
   ,InitializeObject:function(Self) {
      var Index$2=0;
      var Component=null;
      TW3CustomControl.InitializeObject(Self);
      TW3Component.SetName(Self,"Form1");
      TW3MovableControl.SetVisible$(Self,true);
      TW3CustomControl.setStyleClass(Self,"none");
      TW3MovableControl.SetBounds$(Self,0,0,200,600);
      TW3CustomControl.setEnabled$(Self,true);
      TW3MovableControl.setColor$3(Self,0);
      Self.Button7=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button7,"Button7");
      TW3MovableControl.SetVisible$(Self.Button7,true);
      TW3MovableControl.SetBounds$(Self.Button7,0,48,40,32);
      TW3CustomControl.setEnabled$(Self.Button7,true);
      TW3Button.setCaption$1(Self.Button7,"7");
      Self.EDNum=TW3Component.Create$36$($New(TW3EditBox),Self);
      TW3Component.SetName(Self.EDNum,"EDNum");
      TW3MovableControl.SetVisible$(Self.EDNum,true);
      TW3MovableControl.SetBounds$(Self.EDNum,0,0,264,32);
      TW3CustomControl.setEnabled$(Self.EDNum,false);
      TW3EditBox.setText$2$(Self.EDNum,"");
      Self.Button8=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button8,"Button8");
      TW3MovableControl.SetVisible$(Self.Button8,true);
      TW3MovableControl.SetBounds$(Self.Button8,56,48,40,32);
      TW3CustomControl.setEnabled$(Self.Button8,true);
      TW3Button.setCaption$1(Self.Button8,"8");
      Self.Button9=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button9,"Button9");
      TW3MovableControl.SetVisible$(Self.Button9,true);
      TW3MovableControl.SetBounds$(Self.Button9,112,48,39,33);
      TW3CustomControl.setEnabled$(Self.Button9,true);
      TW3Button.setCaption$1(Self.Button9,"9");
      Self.Button4=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button4,"Button4");
      TW3MovableControl.SetVisible$(Self.Button4,true);
      TW3MovableControl.SetBounds$(Self.Button4,0,96,40,32);
      TW3CustomControl.setEnabled$(Self.Button4,true);
      TW3Button.setCaption$1(Self.Button4,"4");
      Self.Button5=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button5,"Button5");
      TW3MovableControl.SetVisible$(Self.Button5,true);
      TW3MovableControl.SetBounds$(Self.Button5,56,96,40,32);
      TW3CustomControl.setEnabled$(Self.Button5,true);
      TW3Button.setCaption$1(Self.Button5,"5");
      Self.Button6=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button6,"Button6");
      TW3MovableControl.SetVisible$(Self.Button6,true);
      TW3MovableControl.SetBounds$(Self.Button6,112,96,40,32);
      TW3CustomControl.setEnabled$(Self.Button6,true);
      TW3Button.setCaption$1(Self.Button6,"6");
      Self.Button1=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button1,"Button1");
      TW3MovableControl.SetVisible$(Self.Button1,true);
      TW3MovableControl.SetBounds$(Self.Button1,0,144,40,32);
      TW3CustomControl.setEnabled$(Self.Button1,true);
      TW3Button.setCaption$1(Self.Button1,"1");
      Self.Button2=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button2,"Button2");
      TW3MovableControl.SetVisible$(Self.Button2,true);
      TW3MovableControl.SetBounds$(Self.Button2,56,144,40,32);
      TW3CustomControl.setEnabled$(Self.Button2,true);
      TW3Button.setCaption$1(Self.Button2,"2");
      Self.Button3=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button3,"Button3");
      TW3MovableControl.SetVisible$(Self.Button3,true);
      TW3MovableControl.SetBounds$(Self.Button3,112,144,40,32);
      TW3CustomControl.setEnabled$(Self.Button3,true);
      TW3Button.setCaption$1(Self.Button3,"3");
      Self.Button0=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.Button0,"Button0");
      TW3MovableControl.SetVisible$(Self.Button0,true);
      TW3MovableControl.SetBounds$(Self.Button0,0,192,96,32);
      TW3CustomControl.setEnabled$(Self.Button0,true);
      TW3Button.setCaption$1(Self.Button0,"0");
      Self.ButtonDot=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.ButtonDot,"ButtonDot");
      TW3MovableControl.SetVisible$(Self.ButtonDot,true);
      TW3MovableControl.SetBounds$(Self.ButtonDot,112,192,39,32);
      TW3CustomControl.setEnabled$(Self.ButtonDot,true);
      TW3Button.setCaption$1(Self.ButtonDot,".");
      Self.ButtonEqual=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.ButtonEqual,"ButtonEqual");
      TW3MovableControl.SetVisible$(Self.ButtonEqual,true);
      TW3MovableControl.SetBounds$(Self.ButtonEqual,224,144,40,80);
      TW3CustomControl.setEnabled$(Self.ButtonEqual,true);
      TW3Button.setCaption$1(Self.ButtonEqual,"=");
      Self.ButtonPlus=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.ButtonPlus,"ButtonPlus");
      TW3MovableControl.SetVisible$(Self.ButtonPlus,true);
      TW3MovableControl.SetBounds$(Self.ButtonPlus,168,192,40,32);
      TW3CustomControl.setEnabled$(Self.ButtonPlus,true);
      TW3Button.setCaption$1(Self.ButtonPlus,"+");
      Self.ButtonMinus=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.ButtonMinus,"ButtonMinus");
      TW3MovableControl.SetVisible$(Self.ButtonMinus,true);
      TW3MovableControl.SetBounds$(Self.ButtonMinus,168,144,40,32);
      TW3CustomControl.setEnabled$(Self.ButtonMinus,true);
      TW3Button.setCaption$1(Self.ButtonMinus,"-");
      Self.ButtonMult=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.ButtonMult,"ButtonMult");
      TW3MovableControl.SetVisible$(Self.ButtonMult,true);
      TW3MovableControl.SetBounds$(Self.ButtonMult,168,96,40,32);
      TW3CustomControl.setEnabled$(Self.ButtonMult,true);
      TW3Button.setCaption$1(Self.ButtonMult,"x");
      Self.ButtonDiv=TW3Component.Create$36$($New(TW3Button),Self);
      TW3Component.SetName(Self.ButtonDiv,"ButtonDiv");
      TW3MovableControl.SetVisible$(Self.ButtonDiv,true);
      TW3MovableControl.SetBounds$(Self.ButtonDiv,165,48,43,32);
      TW3CustomControl.setEnabled$(Self.ButtonDiv,true);
      TW3Button.setCaption$1(Self.ButtonDiv,"/");
      var $temp51;
      for(Index$2=0,$temp51=TW3Component.GetChildCount(Self);Index$2<$temp51;Index$2++) {
         Component=TW3Component.GetChildObject(Self,Index$2);
         if ($Is(Component,TW3Button)) {
            TW3CustomControl._setMouseClick($As(Component,TW3Button),$Event1(Self,TForm1.DoButtonClick));
         }
      }
      TW3MovableControl.setColor$3(Self,13458524);
      Self.FFirst=true;
   }
   ,PerformOp:function(Self, op) {
      Self.FLastOp=op;
      Self.FNextClear=true;
      if (!Self.FFirst) {
         switch (op) {
            case "+" :
               Self.FAccum+=Self.FOperand;
               break;
            case "-" :
               Self.FAccum-=Self.FOperand;
               break;
            case "x" :
               Self.FAccum*=Self.FOperand;
               break;
            case "/" :
               Self.FAccum/=Self.FOperand;
               break;
         }
         TW3EditBox.setText$2$(Self.EDNum,(Self.FAccum).toString());
      } else {
         Self.FAccum=Self.FOperand;
         Self.FFirst=false;
      }
   }
   ,StyleTagObject$11:function(Self) {
   }
   ,Destroy:TW3TagObj.Destroy
   ,AfterUpdate:TW3CustomControl.AfterUpdate
   ,Create$35:TW3TagObj.Create$35
   ,EndUpdate:TW3TagObj.EndUpdate
   ,FinalizeObject$:function($){return $.ClassType.FinalizeObject($)}
   ,InitializeObject$:function($){return $.ClassType.InitializeObject($)}
   ,makeElementTagId:TW3TagObj.makeElementTagId
   ,makeElementTagObj:TW3TagObj.makeElementTagObj
   ,StyleTagObject:TW3CustomForm.StyleTagObject
   ,UnHookEvents:TW3TagObj.UnHookEvents
   ,CBNoBehavior:TW3Component.CBNoBehavior
   ,ChildAdded:TW3Component.ChildAdded
   ,ChildRemoved:TW3Component.ChildRemoved
   ,Create$36:TW3Component.Create$36
   ,AdjustToParentBox:TW3MovableControl.AdjustToParentBox
   ,DisplayMode:TW3MovableControl.DisplayMode
   ,getBoundsRect:TW3MovableControl.getBoundsRect
   ,GetHeight$1:TW3MovableControl.GetHeight$1
   ,GetLeft:TW3MovableControl.GetLeft
   ,GetTop:TW3MovableControl.GetTop
   ,getVisible:TW3MovableControl.getVisible
   ,GetWidth$1:TW3MovableControl.GetWidth$1
   ,Moved:TW3MovableControl.Moved
   ,MoveTo$1:TW3MovableControl.MoveTo$1
   ,Resize:TW3MovableControl.Resize
   ,SetBounds$1:TW3MovableControl.SetBounds$1
   ,SetBounds:TW3MovableControl.SetBounds
   ,setHeight:TW3MovableControl.setHeight
   ,setLeft:TW3MovableControl.setLeft
   ,SetSize$4:TW3MovableControl.SetSize$4
   ,setTop:TW3MovableControl.setTop
   ,SetVisible:TW3MovableControl.SetVisible
   ,SetWidth:TW3MovableControl.SetWidth
   ,supportAdjustment:TW3MovableControl.supportAdjustment
   ,CBAnimationBegins:TW3CustomControl.CBAnimationBegins
   ,CBAnimationEnds:TW3CustomControl.CBAnimationEnds
   ,CBChanged:TW3CustomControl.CBChanged
   ,CBClick:TW3CustomControl.CBClick
   ,CBContextPopup:TW3CustomControl.CBContextPopup
   ,CBDblClick:TW3CustomControl.CBDblClick
   ,CBFocused:TW3CustomControl.CBFocused
   ,CBKeyDown:TW3CustomControl.CBKeyDown
   ,CBKeyPress:TW3CustomControl.CBKeyPress
   ,CBKeyUp:TW3CustomControl.CBKeyUp
   ,CBLostFocus:TW3CustomControl.CBLostFocus
   ,CBMouseDown:TW3CustomControl.CBMouseDown
   ,CBMouseEnter:TW3CustomControl.CBMouseEnter
   ,CBMouseExit:TW3CustomControl.CBMouseExit
   ,CBMouseMove:TW3CustomControl.CBMouseMove
   ,CBMouseUp:TW3CustomControl.CBMouseUp
   ,CBMouseWheel:TW3CustomControl.CBMouseWheel
   ,CMGestureChange:TW3CustomControl.CMGestureChange
   ,CMGestureEnd:TW3CustomControl.CMGestureEnd
   ,CMGestureStart:TW3CustomControl.CMGestureStart
   ,CMTouchBegins:TW3CustomControl.CMTouchBegins
   ,CMTouchEnds:TW3CustomControl.CMTouchEnds
   ,CMTouchMove:TW3CustomControl.CMTouchMove
   ,GetChildrenSortedByYPos:TW3CustomControl.GetChildrenSortedByYPos
   ,getEnabled:TW3CustomControl.getEnabled
   ,GetSizeInfo:TW3CustomControl.GetSizeInfo
   ,Invalidate:TW3CustomControl.Invalidate
   ,LayoutChildren:TW3CustomControl.LayoutChildren
   ,MouseDown:TW3CustomControl.MouseDown
   ,MouseEnter:TW3CustomControl.MouseEnter
   ,MouseExit:TW3CustomControl.MouseExit
   ,MouseMove:TW3CustomControl.MouseMove
   ,MouseUp:TW3CustomControl.MouseUp
   ,MouseWheel:TW3CustomControl.MouseWheel
   ,setEnabled:TW3CustomControl.setEnabled
   ,FormActivated:TW3CustomForm.FormActivated
   ,FormDeActivated:TW3CustomForm.FormDeActivated
   ,StyleTagObject$11$:function($){return $.ClassType.StyleTagObject$11($)}
};
function ShowTrialInfo() {
   var mTitle="";
   var mText="";
   mTitle="Trial Version";
   mText="This app was made with a trial<br>version of Smart Mobile Studio";
   TW3CustomApplication.ShowDialog(Application(),mTitle,mText,3);
};
function HandleTrialOk(Sender$25, aResult$1) {
   w3_Callback(ShowTrialInfo,(60*1000*2));
};
var vCurrent=null;
var vScheduledControls = [];
var vScheduledCallbacks = [];
var vOnPerform = [];
var vPending=false;
var DefaultDuration = 0;
var DefaultDuration=2;
var Instance=null;
var vCaptureControl=null;
var vCaptureInitialized=false;
var mTemp$11=null;
var GAnimationManager=null;
var GlobalRepeaterList = [];
var _uniqueNumber=0;
var Vendor = 0;
var _driver=null;
var vRequestAnimFrame=null;
var vCancelAnimFrame=null;
var Vendor=0;
var $MiniCalc= function() {
   InitVendorInfo();
   try {
      mTemp$11=TW3CustomApplication.Create$43$($New(TApplication));
      Application().FDialogEvent=HandleTrialOk;
      w3_Callback(ShowTrialInfo,(60*1000*2));
      TW3CustomApplication.RunApp(mTemp$11);
   } catch ($e) {
      var e$13=$W($e);
      ShowMessage(e$13.FMessage)   }
}
$MiniCalc();


      };
      myApp();
    }
  </script>
</head>

<body></body>



</html>
